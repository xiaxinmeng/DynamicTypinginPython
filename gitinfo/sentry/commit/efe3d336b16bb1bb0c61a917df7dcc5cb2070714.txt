commit efe3d336b16bb1bb0c61a917df7dcc5cb2070714
Author: Mark Story <mark@sentry.io>
Date:   Wed May 8 11:18:53 2019 -0400

    ref(ui) Adopt new tooltip in more places (#13084)
    
    This move the first of three component groups to the new tooltip
    implementation. A few tests needed selectors updated as the `Button`
    component no longer handles clicks. Instead the button element is
    wrapped in a span because of how Tooltip2 handles refs.
    
    Add display mode to tooltip. Some usages require tooltip containers
    to be rendered as a block level element.
    
    Add missing tooltip on search builder. The slider button was the only
    button without a tooltip, so I've corrected that. I'm also fixing layout
    issues that show up in percy but not local browsers.
    
    Refs SEN-611

diff --git a/docs-ui/components/tooltip.stories.js b/docs-ui/components/tooltip.stories.js
index 7ea171d6ce..6739eac96d 100644
--- a/docs-ui/components/tooltip.stories.js
+++ b/docs-ui/components/tooltip.stories.js
@@ -56,6 +56,7 @@ storiesOf('UI|Tooltip', module)
     })(() => {
       const title = text('tooltip', 'Basic tooltip content');
       const disabled = boolean('Disabled', false);
+      const displayMode = select('Container display mode', ['block', 'inline-block', 'inline']);
       const position = select(
         'position',
         {top: 'top', bottom: 'bottom', left: 'left', right: 'right'},
@@ -66,7 +67,7 @@ storiesOf('UI|Tooltip', module)
         <React.Fragment>
           <h3>With styled component trigger</h3>
           <p>
-            <Tooltip2 title={title} position={position} disabled={disabled}>
+            <Tooltip2 title={title} position={position} disabled={disabled} containerDisplayMode={displayMode}>
               <Button>Styled button</Button>
             </Tooltip2>
           </p>
@@ -86,7 +87,7 @@ storiesOf('UI|Tooltip', module)
               height="100"
               xmlns="http://www.w3.org/2000/svg"
             >
-              <Tooltip2 title={title} position={position} disabled={disabled}>
+              <Tooltip2 title={title} position={position} disabled={disabled} containerDisplayMode={displayMode}>
                 <circle cx="50" cy="50" r="50" />
               </Tooltip2>
             </svg>
@@ -100,6 +101,7 @@ storiesOf('UI|Tooltip', module)
                   <em>so strong</em>
                 </span>
               }
+              containerDisplayMode={displayMode}
               position={position}
               disabled={disabled}
             >
diff --git a/src/sentry/static/sentry/app/components/actions/ignore.jsx b/src/sentry/static/sentry/app/components/actions/ignore.jsx
index a0ed56fdfe..884fe27a62 100644
--- a/src/sentry/static/sentry/app/components/actions/ignore.jsx
+++ b/src/sentry/static/sentry/app/components/actions/ignore.jsx
@@ -9,7 +9,7 @@ import Duration from 'app/components/duration';
 import CustomIgnoreCountModal from 'app/components/customIgnoreCountModal';
 import CustomIgnoreDurationModal from 'app/components/customIgnoreDurationModal';
 import ActionLink from 'app/components/actions/actionLink';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 import GuideAnchor from 'app/components/assistant/guideAnchor';
 
 export default class IgnoreActions extends React.Component {
@@ -82,7 +82,7 @@ export default class IgnoreActions extends React.Component {
     if (isIgnored) {
       return (
         <div className="btn-group">
-          <Tooltip title={t('Change status to unresolved')}>
+          <Tooltip2 title={t('Change status to unresolved')}>
             <a
               className={linkClassName}
               data-test-id="button-unresolve"
@@ -90,7 +90,7 @@ export default class IgnoreActions extends React.Component {
             >
               <span className="icon-ban" />
             </a>
-          </Tooltip>
+          </Tooltip2>
         </div>
       );
     }
diff --git a/src/sentry/static/sentry/app/components/actions/resolve.jsx b/src/sentry/static/sentry/app/components/actions/resolve.jsx
index d983a6bbe3..ccc66b5a68 100644
--- a/src/sentry/static/sentry/app/components/actions/resolve.jsx
+++ b/src/sentry/static/sentry/app/components/actions/resolve.jsx
@@ -7,7 +7,7 @@ import CustomResolutionModal from 'app/components/customResolutionModal';
 import MenuItem from 'app/components/menuItem';
 import DropdownLink from 'app/components/dropdownLink';
 import ActionLink from 'app/components/actions/actionLink';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 import GuideAnchor from 'app/components/assistant/guideAnchor';
 
 export default class ResolveActions extends React.Component {
@@ -57,7 +57,7 @@ export default class ResolveActions extends React.Component {
     if (isAutoResolved) {
       return (
         <div className="btn-group">
-          <Tooltip
+          <Tooltip2
             title={t(
               'This event is resolved due to the Auto Resolve configuration for this project'
             )}
@@ -65,13 +65,13 @@ export default class ResolveActions extends React.Component {
             <a className={this.getButtonClass('active')}>
               <span className="icon-checkmark" />
             </a>
-          </Tooltip>
+          </Tooltip2>
         </div>
       );
     } else {
       return (
         <div className="btn-group">
-          <Tooltip title={t('Unresolve')}>
+          <Tooltip2 title={t('Unresolve')}>
             <a
               data-test-id="button-unresolve"
               className={this.getButtonClass('active')}
@@ -79,7 +79,7 @@ export default class ResolveActions extends React.Component {
             >
               <span className="icon-checkmark" />
             </a>
-          </Tooltip>
+          </Tooltip2>
         </div>
       );
     }
@@ -148,7 +148,7 @@ export default class ResolveActions extends React.Component {
           >
             <MenuItem header={true}>{t('Resolved In')}</MenuItem>
             <MenuItem noAnchor={true}>
-              <Tooltip title={actionTitle}>
+              <Tooltip2 title={actionTitle} containerDisplayMode="block">
                 <ActionLink
                   {...actionLinkProps}
                   onAction={() => {
@@ -165,8 +165,8 @@ export default class ResolveActions extends React.Component {
                 >
                   {t('The next release')}
                 </ActionLink>
-              </Tooltip>
-              <Tooltip title={actionTitle}>
+              </Tooltip2>
+              <Tooltip2 title={actionTitle} containerDisplayMode="block">
                 <ActionLink
                   {...actionLinkProps}
                   onAction={() => {
@@ -188,8 +188,8 @@ export default class ResolveActions extends React.Component {
                       )
                     : t('The current release')}
                 </ActionLink>
-              </Tooltip>
-              <Tooltip title={actionTitle}>
+              </Tooltip2>
+              <Tooltip2 title={actionTitle} containerDisplayMode="block">
                 <ActionLink
                   {...actionLinkProps}
                   onAction={() => hasRelease && this.setState({modal: true})}
@@ -197,7 +197,7 @@ export default class ResolveActions extends React.Component {
                 >
                   {t('Another version\u2026')}
                 </ActionLink>
-              </Tooltip>
+              </Tooltip2>
             </MenuItem>
           </DropdownLink>
         </div>
diff --git a/src/sentry/static/sentry/app/components/avatar/avatarList.jsx b/src/sentry/static/sentry/app/components/avatar/avatarList.jsx
index c0c9be03ef..b8d3123a2e 100644
--- a/src/sentry/static/sentry/app/components/avatar/avatarList.jsx
+++ b/src/sentry/static/sentry/app/components/avatar/avatarList.jsx
@@ -5,7 +5,7 @@ import {Flex} from 'grid-emotion';
 
 import SentryTypes from 'app/sentryTypes';
 import Avatar from 'app/components/avatar';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 
 export default class AvatarList extends React.Component {
   static propTypes = {
@@ -44,12 +44,12 @@ export default class AvatarList extends React.Component {
     return (
       <Flex direction="row-reverse">
         {!!numCollapsedUsers && (
-          <Tooltip title={`${numCollapsedUsers} other ${typeMembers}`}>
+          <Tooltip2 title={`${numCollapsedUsers} other ${typeMembers}`}>
             <CollapsedUsers size={avatarSize}>
               {numCollapsedUsers < 99 && <Plus>+</Plus>}
               {numCollapsedUsers}
             </CollapsedUsers>
-          </Tooltip>
+          </Tooltip2>
         )}
         {visibleUsers.map(user => {
           return (
diff --git a/src/sentry/static/sentry/app/components/button.jsx b/src/sentry/static/sentry/app/components/button.jsx
index 64e1c8ec35..6efd44143e 100644
--- a/src/sentry/static/sentry/app/components/button.jsx
+++ b/src/sentry/static/sentry/app/components/button.jsx
@@ -7,7 +7,7 @@ import {pickBy} from 'lodash';
 
 import ExternalLink from 'app/components/links/externalLink';
 import InlineSvg from 'app/components/inlineSvg';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 
 class Button extends React.Component {
   static propTypes = {
@@ -132,7 +132,7 @@ class Button extends React.Component {
 
     // Doing this instead of using `Tooltip`'s `disabled` prop so that we can minimize snapshot nesting
     if (title) {
-      return <Tooltip title={title}>{button}</Tooltip>;
+      return <Tooltip2 title={title}>{button}</Tooltip2>;
     }
 
     return button;
diff --git a/src/sentry/static/sentry/app/components/createProject.jsx b/src/sentry/static/sentry/app/components/createProject.jsx
index 07606b3dbc..6aa88c1fda 100644
--- a/src/sentry/static/sentry/app/components/createProject.jsx
+++ b/src/sentry/static/sentry/app/components/createProject.jsx
@@ -16,7 +16,7 @@ import PlatformPicker from 'app/components/platformPicker';
 import ProjectActions from 'app/actions/projectActions';
 import SelectControl from 'app/components/forms/selectControl';
 import SentryTypes from 'app/sentryTypes';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 import getPlatformName from 'app/utils/getPlatformName';
 import space from 'app/styles/space';
 import withApi from 'app/utils/withApi';
@@ -178,7 +178,7 @@ class CreateProject extends React.Component {
                     value: slug,
                   }))}
                 />
-                <Tooltip title={t('Create a team')}>
+                <Tooltip2 title={t('Create a team')}>
                   <Button
                     borderless
                     data-test-id="create-team"
@@ -191,7 +191,7 @@ class CreateProject extends React.Component {
                       })
                     }
                   />
-                </Tooltip>
+                </Tooltip2>
               </TeamSelectInput>
             </div>
             <div>
diff --git a/src/sentry/static/sentry/app/components/events/groupingInfo.jsx b/src/sentry/static/sentry/app/components/events/groupingInfo.jsx
index ba85e68400..b900c5c0e1 100644
--- a/src/sentry/static/sentry/app/components/events/groupingInfo.jsx
+++ b/src/sentry/static/sentry/app/components/events/groupingInfo.jsx
@@ -5,7 +5,7 @@ import {isObject} from 'lodash';
 import AsyncComponent from 'app/components/asyncComponent';
 import DropdownAutoComplete from 'app/components/dropdownAutoComplete';
 import DropdownButton from 'app/components/dropdownButton';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 
 import EventDataSection from 'app/components/events/eventDataSection';
 import SentryTypes from 'app/sentryTypes';
@@ -233,11 +233,11 @@ class GroupingConfigSelect extends AsyncComponent {
         })}
       >
         {({isOpen}) => (
-          <Tooltip title="Click here to experiment with other grouping configs">
+          <Tooltip2 title="Click here to experiment with other grouping configs">
             <DropdownButton isOpen={isOpen} size="small" style={{fontWeight: 'inherit'}}>
               {renderIdLabel(configId)}
             </DropdownButton>
-          </Tooltip>
+          </Tooltip2>
         )}
       </DropdownAutoComplete>
     );
diff --git a/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx b/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx
index f87d3076d9..711ead3d16 100644
--- a/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx
+++ b/src/sentry/static/sentry/app/components/events/interfaces/frame.jsx
@@ -1,6 +1,5 @@
 import PropTypes from 'prop-types';
 import React from 'react';
-import _ from 'lodash';
 import classNames from 'classnames';
 import createReactClass from 'create-react-class';
 import styled, {css} from 'react-emotion';
@@ -13,7 +12,7 @@ import ExternalLink from 'app/components/links/externalLink';
 import FrameRegisters from 'app/components/events/interfaces/frameRegisters';
 import FrameVariables from 'app/components/events/interfaces/frameVariables';
 import StrictClick from 'app/components/strictClick';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 import Truncate from 'app/components/truncate';
 import OpenInContextLine from 'app/components/events/interfaces/openInContextLine';
 import SentryAppComponentsStore from 'app/stores/sentryAppComponentsStore';
@@ -125,22 +124,15 @@ const Frame = createReactClass({
   renderOriginalSourceInfo() {
     const data = this.props.data;
 
-    const sourceMapText = t('Source Map');
-
-    let out = `
-    <div>
-      <strong>${sourceMapText}</strong><br/>`;
-
     // mapUrl not always present; e.g. uploaded source maps
-    if (data.mapUrl) {
-      out += `${_.escape(data.mapUrl)}<br/>`;
-    } else {
-      out += `${_.escape(data.map)}<br/>`;
-    }
-
-    out += '</div>';
-
-    return out;
+    return (
+      <React.Fragment>
+        <strong>{t('Source Map')}</strong>
+        <br />
+        {data.mapUrl ? data.mapUrl : data.map}
+        <br />
+      </React.Fragment>
+    );
   },
 
   getPlatform() {
@@ -191,11 +183,11 @@ const Frame = createReactClass({
       // we want to show a litle (?) icon that on hover shows the actual filename
       if (shouldPrioritizeModuleName && data.filename) {
         title.push(
-          <Tooltip title={_.escape(data.filename)} tooltipOptions={{html: true}}>
+          <Tooltip2 title={data.filename}>
             <a className="in-at real-filename">
               <span className="icon-question" />
             </a>
-          </Tooltip>
+          </Tooltip2>
         );
       }
 
@@ -256,15 +248,11 @@ const Frame = createReactClass({
 
     if (defined(data.origAbsPath)) {
       title.push(
-        <Tooltip
-          key="info-tooltip"
-          title={this.renderOriginalSourceInfo()}
-          tooltipOptions={{html: true}}
-        >
+        <Tooltip2 key="info-tooltip" title={this.renderOriginalSourceInfo()}>
           <a className="in-at original-src">
             <span className="icon-question" />
           </a>
-        </Tooltip>
+        </Tooltip2>
       );
     }
 
@@ -477,11 +465,11 @@ const Frame = createReactClass({
                 </span>
               )}
               {hint !== null ? (
-                <Tooltip title={_.escape(hint)}>
+                <Tooltip2 title={hint}>
                   <a key="inline">
                     <span className="icon-question" />
                   </a>
-                </Tooltip>
+                </Tooltip2>
               ) : null}
             </span>
           </NativeLineContent>
diff --git a/src/sentry/static/sentry/app/components/forms/inputField.jsx b/src/sentry/static/sentry/app/components/forms/inputField.jsx
index f0b4a3eaa6..dea9c8b736 100644
--- a/src/sentry/static/sentry/app/components/forms/inputField.jsx
+++ b/src/sentry/static/sentry/app/components/forms/inputField.jsx
@@ -2,6 +2,7 @@ import $ from 'jquery';
 import PropTypes from 'prop-types';
 import React from 'react';
 import ReactDOM from 'react-dom';
+import 'bootstrap/js/tooltip';
 
 import FormField from 'app/components/forms/formField';
 
diff --git a/src/sentry/static/sentry/app/components/forms/multipleCheckboxField.jsx b/src/sentry/static/sentry/app/components/forms/multipleCheckboxField.jsx
index 130457ed59..45a34e7169 100644
--- a/src/sentry/static/sentry/app/components/forms/multipleCheckboxField.jsx
+++ b/src/sentry/static/sentry/app/components/forms/multipleCheckboxField.jsx
@@ -3,7 +3,7 @@ import React from 'react';
 import classNames from 'classnames';
 
 import FormField from 'app/components/forms/formField';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 
 import {defined} from 'app/utils';
 
@@ -65,11 +65,11 @@ export default class MultipleCheckboxField extends FormField {
             >
               {label}
               {shouldShowDisabledReason && (
-                <Tooltip title={disabledReason}>
+                <Tooltip2 title={disabledReason}>
                   <span className="disabled-indicator">
                     <span className="icon-question" />
                   </span>
-                </Tooltip>
+                </Tooltip2>
               )}
             </label>
             {help && <p className="help-block">{help}</p>}
diff --git a/src/sentry/static/sentry/app/components/group/participants.jsx b/src/sentry/static/sentry/app/components/group/participants.jsx
index 7ad61899ad..2857192dbb 100644
--- a/src/sentry/static/sentry/app/components/group/participants.jsx
+++ b/src/sentry/static/sentry/app/components/group/participants.jsx
@@ -1,43 +1,33 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 
-import createReactClass from 'create-react-class';
-
 import Avatar from 'app/components/avatar';
-import Tooltip from 'app/components/tooltip';
-import {userDisplayName} from 'app/utils/formatters';
-
-const GroupParticipants = createReactClass({
-  displayName: 'GroupParticipants',
 
-  propTypes: {
-    participants: PropTypes.array.isRequired,
-  },
+const GroupParticipants = props => {
+  const participants = props.participants;
 
-  render() {
-    const participants = this.props.participants;
+  return (
+    <div>
+      <h6>
+        <span>
+          {participants.length} {'Participant' + (participants.length === 1 ? '' : 's')}
+        </span>
+      </h6>
+      <ul className="faces">
+        {participants.map((user, i) => {
+          return (
+            <li key={user.username}>
+              <Avatar size={28} user={user} hasTooltip />
+            </li>
+          );
+        })}
+      </ul>
+    </div>
+  );
+};
 
-    return (
-      <div>
-        <h6>
-          <span>
-            {participants.length} {'Participant' + (participants.length === 1 ? '' : 's')}
-          </span>
-        </h6>
-        <ul className="faces">
-          {participants.map((user, i) => {
-            return (
-              <li key={user.username}>
-                <Tooltip title={userDisplayName(user)}>
-                  <Avatar size={28} user={user} />
-                </Tooltip>
-              </li>
-            );
-          })}
-        </ul>
-      </div>
-    );
-  },
-});
+GroupParticipants.propTypes = {
+  participants: PropTypes.array.isRequired,
+};
 
 export default GroupParticipants;
diff --git a/src/sentry/static/sentry/app/components/group/seenInfo.jsx b/src/sentry/static/sentry/app/components/group/seenInfo.jsx
index 63501e7485..daa7a512a3 100644
--- a/src/sentry/static/sentry/app/components/group/seenInfo.jsx
+++ b/src/sentry/static/sentry/app/components/group/seenInfo.jsx
@@ -5,8 +5,7 @@ import DateTime from 'app/components/dateTime';
 import TimeSince from 'app/components/timeSince';
 import Version from 'app/components/version';
 import VersionHoverCard from 'app/components/versionHoverCard';
-import Tooltip from 'app/components/tooltip';
-import {componentToString} from 'app/utils/componentToString';
+import Tooltip2 from 'app/components/tooltip2';
 import {defined, toTitleCase} from 'app/utils';
 import {t} from 'app/locale';
 
@@ -44,14 +43,14 @@ const SeenInfo = createReactClass({
   },
 
   getTooltipTitle() {
-    const {date, dateGlobal, environment, title} = this.props;
+    const {date, dateGlobal, title, environment} = this.props;
 
-    return componentToString(
+    return (
       <div style={{width: 170}}>
         <div className="time-label">{title}</div>
         <dl className="flat">
           {environment && [
-            <dt key="0">{toTitleCase(environment)}</dt>,
+            <dt key="0">{toTitleCase(environment)}:</dt>,
             <dd key="0.1">
               <TimeSince date={date} />
               <br />
@@ -74,9 +73,9 @@ const SeenInfo = createReactClass({
         <dt key={0}>{t('When')}:</dt>
         {date ? (
           <dd key={1}>
-            <Tooltip title={this.getTooltipTitle()} tooltipOptions={{html: true}}>
+            <Tooltip2 title={this.getTooltipTitle()}>
               <TimeSince className="dotted-underline" date={date} />
-            </Tooltip>
+            </Tooltip2>
             <br />
             <small>
               <DateTime date={date} seconds={true} />
@@ -84,9 +83,9 @@ const SeenInfo = createReactClass({
           </dd>
         ) : dateGlobal && environment === '' ? (
           <dd key={1}>
-            <Tooltip title={this.getTooltipTitle()} tooltipOptions={{html: true}}>
+            <Tooltip2 title={this.getTooltipTitle()}>
               <TimeSince date={dateGlobal} />
-            </Tooltip>
+            </Tooltip2>
             <br />
             <small>
               <DateTime date={dateGlobal} seconds={true} />
diff --git a/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx b/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx
index 8113abaf9b..91aabdede7 100644
--- a/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx
+++ b/src/sentry/static/sentry/app/components/group/tagDistributionMeter.jsx
@@ -5,14 +5,14 @@ import createReactClass from 'create-react-class';
 import styled from 'react-emotion';
 import isPropValid from '@emotion/is-prop-valid';
 
-import {escape, percent} from 'app/utils';
+import {percent} from 'app/utils';
 import {t} from 'app/locale';
 import DeviceName, {
   deviceNameMapper,
   loadDeviceListModule,
 } from 'app/components/deviceName';
 import SentryTypes from 'app/sentryTypes';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip2';
 import withEnvironment from 'app/utils/withEnvironment';
 
 const TagDistributionMeter = createReactClass({
@@ -108,15 +108,17 @@ const TagDistributionMeter = createReactClass({
           const pct = percent(value.count, totalValues);
           const pctLabel = Math.floor(pct);
 
-          const tooltipHtml =
-            '<div class="truncate">' +
-            escape(deviceNameMapper(value.name || '', this.state.iOSDeviceList) || '') +
-            '</div>' +
-            pctLabel +
-            '%';
+          const tooltipHtml = (
+            <React.Fragment>
+              <div className="truncate">
+                {deviceNameMapper(value.name || '', this.state.iOSDeviceList) || ''}
+              </div>
+              {pctLabel}%
+            </React.Fragment>
+          );
 
           return (
-            <Tooltip key={value.value} title={tooltipHtml} tooltipOptions={{html: true}}>
+            <Tooltip2 key={value.value} title={tooltipHtml}>
               <Segment
                 style={{width: pct + '%'}}
                 to={url}
@@ -131,14 +133,19 @@ const TagDistributionMeter = createReactClass({
                   </Label>
                 </Description>
               </Segment>
-            </Tooltip>
+            </Tooltip2>
           );
         })}
         {hasOther && (
-          <Tooltip
+          <Tooltip2
             key="other"
-            title={`Other<br/>${otherPctLabel}%`}
-            tooltipOptions={{html: true}}
+            title={
+              <React.Fragment>
+                Other
+                <br />
+                {otherPctLabel}%
+              </React.Fragment>
+            }
           >
             <Segment
               index={9}
@@ -152,7 +159,7 @@ const TagDistributionMeter = createReactClass({
                 <Label>{t('Other')}</Label>
               </Description>
             </Segment>
-          </Tooltip>
+          </Tooltip2>
         )}
       </React.Fragment>
     );
diff --git a/src/sentry/static/sentry/app/components/latestDeployOrReleaseTime.jsx b/src/sentry/static/sentry/app/components/latestDeployOrReleaseTime.jsx
index 991db4e895..39c5297387 100644
--- a/src/sentry/static/sentry/app/components/latestDeployOrReleaseTime.jsx
+++ b/src/sentry/static/sentry/app/components/latestDeployOrReleaseTime.jsx
@@ -1,7 +1,7 @@
 import PropTypes from 'prop-types';
 import React from 'react';
 import createReactClass from 'create-react-class';
-import Tooltip from 'app/components/tooltip';
+import Tooltip2 from 'app/components/tooltip';
 import TimeSince from 'app/components/timeSince';
 import {t} from 'app/locale';
 
@@ -40,9 +40,9 @@ const LatestDeployOrReleaseTime = createReactClass({
               <span className="icon icon-clock" />{' '}
               <TimeSince date={latestDeploy.dateFinished} />
               {earlierDeploysNum > 0 && (
-                <Tooltip title={earlierDeploysNum + t(' earlier deploys')}>
+                <Tooltip2 title={t('%s earlier deploys', earlierDeploysNum)}>
                   <span className="badge">{earlierDeploysNum}</span>
-                </Tooltip>
+                </Tooltip2>
               )}
             </p>
           </div>
diff --git a/src/sentry/static/sentry/app/components/smartSearchBar/index.jsx b/src/sentry/static/sentry/app/components/smartSearchBar/index.jsx
index 8eae221408..e04843543a 100644
--- a/src/sentry/static/sentry/app/components/smartSearchBar/index.jsx
+++ b/src/sentry/static/sentry/app/components/smartSearchBar/index.jsx
@@ -23,7 +23,6 @@ import CreateSavedSearchButton from 'app/views/stream/createSavedSearchButton';
 import InlineSvg from 'app/components/inlineSvg';
 import MemberListStore from 'app/stores/memberListStore';
 import SentryTypes from 'app/sentryTypes';
-import Tooltip from 'app/components/tooltip';
 import space from 'app/styles/space';
 import withApi from 'app/utils/withApi';
 import withOrganization from 'app/utils/withOrganization';
@@ -770,18 +769,18 @@ class SmartSearchBar extends React.Component {
               query={this.state.query}
               organization={organization}
             />
-            <Tooltip title={pinTooltip}>
-              <Button
-                type="button"
-                borderless
-                aria-label={pinTooltip}
-                size="zero"
-                onClick={this.onTogglePinnedSearch}
-              >
-                <PinIcon isPinned={!!pinnedSearch} src={pinIconSrc} />
-              </Button>
-            </Tooltip>
+            <Button
+              type="button"
+              title={pinTooltip}
+              borderless
+              aria-label={pinTooltip}
+              size="zero"
+              onClick={this.onTogglePinnedSearch}
+            >
+              <PinIcon isPinned={!!pinnedSearch} src={pinIconSrc} />
+            </Button>
             <SidebarButton
+              title={t('Toggle search builder')}
               borderless
               size="zero"
               aria-label={t('Toggle search builder')}
@@ -897,6 +896,7 @@ const Container = styled('div')`
 
 const ButtonBar = styled('div')`
   display: flex;
+  padding-top: 9px;
   justify-content: flex-end;
   margin-right: ${space(1)};
 
@@ -927,7 +927,8 @@ const StyledInput = styled('input')`
 
   font-size: ${p => p.theme.fontSizeMedium};
   width: 100%;
-  height: 100%;
+  height: 40px;
+  line-height: 40px;
   padding: 0 0 0 ${space(1)};
 
   &::placeholder {
diff --git a/src/sentry/static/sentry/app/components/tooltip2.jsx b/src/sentry/static/sentry/app/components/tooltip2.jsx
index 4de8e65d37..8a26543407 100644
--- a/src/sentry/static/sentry/app/components/tooltip2.jsx
+++ b/src/sentry/static/sentry/app/components/tooltip2.jsx
@@ -38,10 +38,16 @@ class Tooltip2 extends React.Component {
      * Additional style rules for the tooltip content.
      */
     popperStyle: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),
+
+    /**
+     * Display mode for the container element
+     */
+    containerDisplayMode: PropTypes.oneOf(['block', 'inline-block', 'inline']),
   };
 
   static defaultProps = {
     position: 'top',
+    containerDisplayMode: 'inline-block',
   };
 
   constructor(props) {
@@ -80,11 +86,13 @@ class Tooltip2 extends React.Component {
       onMouseEnter: this.handleOpen,
       onMouseLeave: this.handleClose,
     };
+
     // Use the `type` property of the react instance to detect whether we
     // have a basic element (type=string) or a class/function component (type=function)
     // Because we can't rely on the child element implementing forwardRefs we wrap
     // it with a span tag so that popper has ref
     if (children.type instanceof Function) {
+      propList.containerDisplayMode = this.props.containerDisplayMode;
       return (
         <Container {...propList} innerRef={ref}>
           {children}
@@ -101,7 +109,7 @@ class Tooltip2 extends React.Component {
   render() {
     const {disabled, children, title, position, popperStyle} = this.props;
     const {isOpen} = this.state;
-    if (disabled) {
+    if (disabled || title === '') {
       return children;
     }
 
@@ -153,7 +161,7 @@ class Tooltip2 extends React.Component {
 // Using an inline-block solves the container being smaller
 // than the elements it is wrapping
 const Container = styled('span')`
-  display: inline-block;
+  display: ${p => p.containerDisplayMode};
 `;
 
 const TooltipContent = styled('span')`
diff --git a/src/sentry/static/sentry/app/views/stream/createSavedSearchButton.jsx b/src/sentry/static/sentry/app/views/stream/createSavedSearchButton.jsx
index 998cdbc91b..788b9e4faf 100644
--- a/src/sentry/static/sentry/app/views/stream/createSavedSearchButton.jsx
+++ b/src/sentry/static/sentry/app/views/stream/createSavedSearchButton.jsx
@@ -8,7 +8,6 @@ import SentryTypes from 'app/sentryTypes';
 import Access from 'app/components/acl/access';
 import Feature from 'app/components/acl/feature';
 import Button from 'app/components/button';
-import Tooltip from 'app/components/tooltip';
 import {createSavedSearch} from 'app/actionCreators/savedSearches';
 import {addLoadingMessage, clearIndicators} from 'app/actionCreators/indicator';
 import {TextField} from 'app/components/forms';
@@ -94,17 +93,16 @@ class CreateSavedSearchButton extends React.Component {
     return (
       <Feature organization={organization} features={['sentry10']}>
         <Access organization={organization} access={['org:write']}>
-          <Tooltip title={t('Add to organization filter list')}>
-            <StyledButton
-              size="zero"
-              borderless
-              type="button"
-              onClick={this.onToggle}
-              data-test-id="save-current-search"
-              aria-label={t('Add to organization filter list')}
-              icon="icon-add-to-list"
-            />
-          </Tooltip>
+          <StyledButton
+            title={t('Add to organization filter list')}
+            size="zero"
+            borderless
+            type="button"
+            onClick={this.onToggle}
+            data-test-id="save-current-search"
+            aria-label={t('Add to organization filter list')}
+            icon="icon-add-to-list"
+          />
           <Modal show={isModalOpen} animation={false} onHide={this.onToggle}>
             <form onSubmit={this.onSubmit}>
               <div className="modal-header">
diff --git a/tests/js/spec/components/__snapshots__/createProject.spec.jsx.snap b/tests/js/spec/components/__snapshots__/createProject.spec.jsx.snap
index 0e3afee6a9..a1e26feaca 100644
--- a/tests/js/spec/components/__snapshots__/createProject.spec.jsx.snap
+++ b/tests/js/spec/components/__snapshots__/createProject.spec.jsx.snap
@@ -58,7 +58,9 @@ exports[`CreateProject should block if you have access to no teams 1`] = `
             placeholder="Select a Team"
             value={0}
           />
-          <Tooltip
+          <Tooltip2
+            containerDisplayMode="inline-block"
+            position="top"
             title="Create a team"
           >
             <Button
@@ -69,7 +71,7 @@ exports[`CreateProject should block if you have access to no teams 1`] = `
               onClick={[Function]}
               type="button"
             />
-          </Tooltip>
+          </Tooltip2>
         </TeamSelectInput>
       </div>
       <div>
@@ -1467,114 +1469,133 @@ exports[`CreateProject should deal with incorrect platform name if its provided
                   </ForwardRef(SelectPicker)>
                 </StyledSelect>
               </SelectControl>
-              <Tooltip
+              <Tooltip2
+                containerDisplayMode="inline-block"
+                position="top"
                 title="Create a team"
               >
-                <Button
-                  borderless={true}
-                  className="tip"
-                  data-test-id="create-team"
-                  disabled={false}
-                  icon="icon-circle-add"
-                  onClick={[Function]}
-                  title="Create a team"
-                  type="button"
-                >
-                  <Tooltip
-                    title="Create a team"
-                  >
-                    <StyledButton
-                      aria-disabled={false}
-                      borderless={true}
-                      className="tip tip"
-                      data-test-id="create-team"
-                      disabled={false}
-                      onClick={[Function]}
-                      role="button"
-                      title="Create a team"
-                      type="button"
+                <Manager>
+                  <Reference>
+                    <InnerReference
+                      setReferenceNode={[Function]}
                     >
-                      <ForwardRef
-                        aria-disabled={false}
-                        borderless={true}
-                        className="tip tip css-1ggcm4u-StyledButton-getColors e12ma6z0"
-                        data-test-id="create-team"
-                        disabled={false}
-                        onClick={[Function]}
-                        role="button"
-                        title="Create a team"
-                        type="button"
+                      <Container
+                        aria-describedby="tooltip-123456"
+                        containerDisplayMode="inline-block"
+                        innerRef={[Function]}
+                        onBlur={[Function]}
+                        onFocus={[Function]}
+                        onMouseEnter={[Function]}
+                        onMouseLeave={[Function]}
                       >
-                        <button
-                          aria-disabled={false}
-                          className="tip tip css-1ggcm4u-StyledButton-getColors e12ma6z0"
-                          data-test-id="create-team"
-                          onClick={[Function]}
-                          role="button"
-                          title="Create a team"
-                          type="button"
+                        <span
+                          aria-describedby="tooltip-123456"
+                          className="css-1m3e0hg-Container e7ebgxc0"
+                          onBlur={[Function]}
+                          onFocus={[Function]}
+                          onMouseEnter={[Function]}
+                          onMouseLeave={[Function]}
                         >
-                          <ButtonLabel
+                          <Button
                             borderless={true}
+                            data-test-id="create-team"
+                            disabled={false}
+                            icon="icon-circle-add"
+                            onClick={[Function]}
+                            type="button"
                           >
-                            <Component
+                            <StyledButton
+                              aria-disabled={false}
                               borderless={true}
-                              className="css-uthd1f-ButtonLabel e12ma6z1"
+                              data-test-id="create-team"
+                              disabled={false}
+                              onClick={[Function]}
+                              role="button"
+                              type="button"
                             >
-                              <span
-                                className="css-uthd1f-ButtonLabel e12ma6z1"
+                              <ForwardRef
+                                aria-disabled={false}
+                                borderless={true}
+                                className="css-1ggcm4u-StyledButton-getColors e12ma6z0"
+                                data-test-id="create-team"
+                                disabled={false}
+                                onClick={[Function]}
+                                role="button"
+                                type="button"
                               >
-                                <Icon
-                                  hasChildren={false}
+                                <button
+                                  aria-disabled={false}
+                                  className="css-1ggcm4u-StyledButton-getColors e12ma6z0"
+                                  data-test-id="create-team"
+                                  onClick={[Function]}
+                                  role="button"
+                                  type="button"
                                 >
-                                  <Component
-                                    className="css-ljhpxy-Icon e12ma6z2"
-                                    hasChildren={false}
+                                  <ButtonLabel
+                                    borderless={true}
                                   >
-                                    <span
-                                      className="css-ljhpxy-Icon e12ma6z2"
+                                    <Component
+                                      borderless={true}
+                                      className="css-uthd1f-ButtonLabel e12ma6z1"
                                     >
-                                      <StyledInlineSvg
-                                        size="16px"
-                                        src="icon-circle-add"
+                                      <span
+                                        className="css-uthd1f-ButtonLabel e12ma6z1"
                                       >
-                                        <InlineSvg
-                                          className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
-                                          size="16px"
-                                          src="icon-circle-add"
+                                        <Icon
+                                          hasChildren={false}
                                         >
-                                          <StyledSvg
-                                            className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
-                                            height="16px"
-                                            viewBox={Object {}}
-                                            width="16px"
+                                          <Component
+                                            className="css-ljhpxy-Icon e12ma6z2"
+                                            hasChildren={false}
                                           >
-                                            <svg
-                                              className="e12ma6z3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
-                                              height="16px"
-                                              viewBox={Object {}}
-                                              width="16px"
+                                            <span
+                                              className="css-ljhpxy-Icon e12ma6z2"
                                             >
-                                              <use
-                                                href="#test"
-                                                xlinkHref="#test"
-                                              />
-                                            </svg>
-                                          </StyledSvg>
-                                        </InlineSvg>
-                                      </StyledInlineSvg>
-                                    </span>
-                                  </Component>
-                                </Icon>
-                              </span>
-                            </Component>
-                          </ButtonLabel>
-                        </button>
-                      </ForwardRef>
-                    </StyledButton>
-                  </Tooltip>
-                </Button>
-              </Tooltip>
+                                              <StyledInlineSvg
+                                                size="16px"
+                                                src="icon-circle-add"
+                                              >
+                                                <InlineSvg
+                                                  className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
+                                                  size="16px"
+                                                  src="icon-circle-add"
+                                                >
+                                                  <StyledSvg
+                                                    className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
+                                                    height="16px"
+                                                    viewBox={Object {}}
+                                                    width="16px"
+                                                  >
+                                                    <svg
+                                                      className="e12ma6z3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
+                                                      height="16px"
+                                                      viewBox={Object {}}
+                                                      width="16px"
+                                                    >
+                                                      <use
+                                                        href="#test"
+                                                        xlinkHref="#test"
+                                                      />
+                                                    </svg>
+                                                  </StyledSvg>
+                                                </InlineSvg>
+                                              </StyledInlineSvg>
+                                            </span>
+                                          </Component>
+                                        </Icon>
+                                      </span>
+                                    </Component>
+                                  </ButtonLabel>
+                                </button>
+                              </ForwardRef>
+                            </StyledButton>
+                          </Button>
+                        </span>
+                      </Container>
+                    </InnerReference>
+                  </Reference>
+                </Manager>
+              </Tooltip2>
             </div>
           </TeamSelectInput>
         </div>
@@ -2429,114 +2450,133 @@ exports[`CreateProject should fill in platform name if its provided by url 1`] =
                   </ForwardRef(SelectPicker)>
                 </StyledSelect>
               </SelectControl>
-              <Tooltip
+              <Tooltip2
+                containerDisplayMode="inline-block"
+                position="top"
                 title="Create a team"
               >
-                <Button
-                  borderless={true}
-                  className="tip"
-                  data-test-id="create-team"
-                  disabled={false}
-                  icon="icon-circle-add"
-                  onClick={[Function]}
-                  title="Create a team"
-                  type="button"
-                >
-                  <Tooltip
-                    title="Create a team"
-                  >
-                    <StyledButton
-                      aria-disabled={false}
-                      borderless={true}
-                      className="tip tip"
-                      data-test-id="create-team"
-                      disabled={false}
-                      onClick={[Function]}
-                      role="button"
-                      title="Create a team"
-                      type="button"
+                <Manager>
+                  <Reference>
+                    <InnerReference
+                      setReferenceNode={[Function]}
                     >
-                      <ForwardRef
-                        aria-disabled={false}
-                        borderless={true}
-                        className="tip tip css-1ggcm4u-StyledButton-getColors e12ma6z0"
-                        data-test-id="create-team"
-                        disabled={false}
-                        onClick={[Function]}
-                        role="button"
-                        title="Create a team"
-                        type="button"
+                      <Container
+                        aria-describedby="tooltip-123456"
+                        containerDisplayMode="inline-block"
+                        innerRef={[Function]}
+                        onBlur={[Function]}
+                        onFocus={[Function]}
+                        onMouseEnter={[Function]}
+                        onMouseLeave={[Function]}
                       >
-                        <button
-                          aria-disabled={false}
-                          className="tip tip css-1ggcm4u-StyledButton-getColors e12ma6z0"
-                          data-test-id="create-team"
-                          onClick={[Function]}
-                          role="button"
-                          title="Create a team"
-                          type="button"
+                        <span
+                          aria-describedby="tooltip-123456"
+                          className="css-1m3e0hg-Container e7ebgxc0"
+                          onBlur={[Function]}
+                          onFocus={[Function]}
+                          onMouseEnter={[Function]}
+                          onMouseLeave={[Function]}
                         >
-                          <ButtonLabel
+                          <Button
                             borderless={true}
+                            data-test-id="create-team"
+                            disabled={false}
+                            icon="icon-circle-add"
+                            onClick={[Function]}
+                            type="button"
                           >
-                            <Component
+                            <StyledButton
+                              aria-disabled={false}
                               borderless={true}
-                              className="css-uthd1f-ButtonLabel e12ma6z1"
+                              data-test-id="create-team"
+                              disabled={false}
+                              onClick={[Function]}
+                              role="button"
+                              type="button"
                             >
-                              <span
-                                className="css-uthd1f-ButtonLabel e12ma6z1"
+                              <ForwardRef
+                                aria-disabled={false}
+                                borderless={true}
+                                className="css-1ggcm4u-StyledButton-getColors e12ma6z0"
+                                data-test-id="create-team"
+                                disabled={false}
+                                onClick={[Function]}
+                                role="button"
+                                type="button"
                               >
-                                <Icon
-                                  hasChildren={false}
+                                <button
+                                  aria-disabled={false}
+                                  className="css-1ggcm4u-StyledButton-getColors e12ma6z0"
+                                  data-test-id="create-team"
+                                  onClick={[Function]}
+                                  role="button"
+                                  type="button"
                                 >
-                                  <Component
-                                    className="css-ljhpxy-Icon e12ma6z2"
-                                    hasChildren={false}
+                                  <ButtonLabel
+                                    borderless={true}
                                   >
-                                    <span
-                                      className="css-ljhpxy-Icon e12ma6z2"
+                                    <Component
+                                      borderless={true}
+                                      className="css-uthd1f-ButtonLabel e12ma6z1"
                                     >
-                                      <StyledInlineSvg
-                                        size="16px"
-                                        src="icon-circle-add"
+                                      <span
+                                        className="css-uthd1f-ButtonLabel e12ma6z1"
                                       >
-                                        <InlineSvg
-                                          className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
-                                          size="16px"
-                                          src="icon-circle-add"
+                                        <Icon
+                                          hasChildren={false}
                                         >
-                                          <StyledSvg
-                                            className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
-                                            height="16px"
-                                            viewBox={Object {}}
-                                            width="16px"
+                                          <Component
+                                            className="css-ljhpxy-Icon e12ma6z2"
+                                            hasChildren={false}
                                           >
-                                            <svg
-                                              className="e12ma6z3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
-                                              height="16px"
-                                              viewBox={Object {}}
-                                              width="16px"
+                                            <span
+                                              className="css-ljhpxy-Icon e12ma6z2"
                                             >
-                                              <use
-                                                href="#test"
-                                                xlinkHref="#test"
-                                              />
-                                            </svg>
-                                          </StyledSvg>
-                                        </InlineSvg>
-                                      </StyledInlineSvg>
-                                    </span>
-                                  </Component>
-                                </Icon>
-                              </span>
-                            </Component>
-                          </ButtonLabel>
-                        </button>
-                      </ForwardRef>
-                    </StyledButton>
-                  </Tooltip>
-                </Button>
-              </Tooltip>
+                                              <StyledInlineSvg
+                                                size="16px"
+                                                src="icon-circle-add"
+                                              >
+                                                <InlineSvg
+                                                  className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
+                                                  size="16px"
+                                                  src="icon-circle-add"
+                                                >
+                                                  <StyledSvg
+                                                    className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
+                                                    height="16px"
+                                                    viewBox={Object {}}
+                                                    width="16px"
+                                                  >
+                                                    <svg
+                                                      className="e12ma6z3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
+                                                      height="16px"
+                                                      viewBox={Object {}}
+                                                      width="16px"
+                                                    >
+                                                      <use
+                                                        href="#test"
+                                                        xlinkHref="#test"
+                                                      />
+                                                    </svg>
+                                                  </StyledSvg>
+                                                </InlineSvg>
+                                              </StyledInlineSvg>
+                                            </span>
+                                          </Component>
+                                        </Icon>
+                                      </span>
+                                    </Component>
+                                  </ButtonLabel>
+                                </button>
+                              </ForwardRef>
+                            </StyledButton>
+                          </Button>
+                        </span>
+                      </Container>
+                    </InnerReference>
+                  </Reference>
+                </Manager>
+              </Tooltip2>
             </div>
           </TeamSelectInput>
         </div>
@@ -4091,114 +4131,133 @@ exports[`CreateProject should fill in project name if its empty when platform is
                   </ForwardRef(SelectPicker)>
                 </StyledSelect>
               </SelectControl>
-              <Tooltip
+              <Tooltip2
+                containerDisplayMode="inline-block"
+                position="top"
                 title="Create a team"
               >
-                <Button
-                  borderless={true}
-                  className="tip"
-                  data-test-id="create-team"
-                  disabled={false}
-                  icon="icon-circle-add"
-                  onClick={[Function]}
-                  title="Create a team"
-                  type="button"
-                >
-                  <Tooltip
-                    title="Create a team"
-                  >
-                    <StyledButton
-                      aria-disabled={false}
-                      borderless={true}
-                      className="tip tip"
-                      data-test-id="create-team"
-                      disabled={false}
-                      onClick={[Function]}
-                      role="button"
-                      title="Create a team"
-                      type="button"
+                <Manager>
+                  <Reference>
+                    <InnerReference
+                      setReferenceNode={[Function]}
                     >
-                      <ForwardRef
-                        aria-disabled={false}
-                        borderless={true}
-                        className="tip tip css-1ggcm4u-StyledButton-getColors e12ma6z0"
-                        data-test-id="create-team"
-                        disabled={false}
-                        onClick={[Function]}
-                        role="button"
-                        title="Create a team"
-                        type="button"
+                      <Container
+                        aria-describedby="tooltip-123456"
+                        containerDisplayMode="inline-block"
+                        innerRef={[Function]}
+                        onBlur={[Function]}
+                        onFocus={[Function]}
+                        onMouseEnter={[Function]}
+                        onMouseLeave={[Function]}
                       >
-                        <button
-                          aria-disabled={false}
-                          className="tip tip css-1ggcm4u-StyledButton-getColors e12ma6z0"
-                          data-test-id="create-team"
-                          onClick={[Function]}
-                          role="button"
-                          title="Create a team"
-                          type="button"
+                        <span
+                          aria-describedby="tooltip-123456"
+                          className="css-1m3e0hg-Container e7ebgxc0"
+                          onBlur={[Function]}
+                          onFocus={[Function]}
+                          onMouseEnter={[Function]}
+                          onMouseLeave={[Function]}
                         >
-                          <ButtonLabel
+                          <Button
                             borderless={true}
+                            data-test-id="create-team"
+                            disabled={false}
+                            icon="icon-circle-add"
+                            onClick={[Function]}
+                            type="button"
                           >
-                            <Component
+                            <StyledButton
+                              aria-disabled={false}
                               borderless={true}
-                              className="css-uthd1f-ButtonLabel e12ma6z1"
+                              data-test-id="create-team"
+                              disabled={false}
+                              onClick={[Function]}
+                              role="button"
+                              type="button"
                             >
-                              <span
-                                className="css-uthd1f-ButtonLabel e12ma6z1"
+                              <ForwardRef
+                                aria-disabled={false}
+                                borderless={true}
+                                className="css-1ggcm4u-StyledButton-getColors e12ma6z0"
+                                data-test-id="create-team"
+                                disabled={false}
+                                onClick={[Function]}
+                                role="button"
+                                type="button"
                               >
-                                <Icon
-                                  hasChildren={false}
+                                <button
+                                  aria-disabled={false}
+                                  className="css-1ggcm4u-StyledButton-getColors e12ma6z0"
+                                  data-test-id="create-team"
+                                  onClick={[Function]}
+                                  role="button"
+                                  type="button"
                                 >
-                                  <Component
-                                    className="css-ljhpxy-Icon e12ma6z2"
-                                    hasChildren={false}
+                                  <ButtonLabel
+                                    borderless={true}
                                   >
-                                    <span
-                                      className="css-ljhpxy-Icon e12ma6z2"
+                                    <Component
+                                      borderless={true}
+                                      className="css-uthd1f-ButtonLabel e12ma6z1"
                                     >
-                                      <StyledInlineSvg
-                                        size="16px"
-                                        src="icon-circle-add"
+                                      <span
+                                        className="css-uthd1f-ButtonLabel e12ma6z1"
                                       >
-                                        <InlineSvg
-                                          className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
-                                          size="16px"
-                                          src="icon-circle-add"
+                                        <Icon
+                                          hasChildren={false}
                                         >
-                                          <StyledSvg
-                                            className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
-                                            height="16px"
-                                            viewBox={Object {}}
-                                            width="16px"
+                                          <Component
+                                            className="css-ljhpxy-Icon e12ma6z2"
+                                            hasChildren={false}
                                           >
-                                            <svg
-                                              className="e12ma6z3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
-                                              height="16px"
-                                              viewBox={Object {}}
-                                              width="16px"
+                                            <span
+                                              className="css-ljhpxy-Icon e12ma6z2"
                                             >
-                                              <use
-                                                href="#test"
-                                                xlinkHref="#test"
-                                              />
-                                            </svg>
-                                          </StyledSvg>
-                                        </InlineSvg>
-                                      </StyledInlineSvg>
-                                    </span>
-                                  </Component>
-                                </Icon>
-                              </span>
-                            </Component>
-                          </ButtonLabel>
-                        </button>
-                      </ForwardRef>
-                    </StyledButton>
-                  </Tooltip>
-                </Button>
-              </Tooltip>
+                                              <StyledInlineSvg
+                                                size="16px"
+                                                src="icon-circle-add"
+                                              >
+                                                <InlineSvg
+                                                  className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
+                                                  size="16px"
+                                                  src="icon-circle-add"
+                                                >
+                                                  <StyledSvg
+                                                    className="css-1ov3rcq-StyledInlineSvg e12ma6z3"
+                                                    height="16px"
+                                                    viewBox={Object {}}
+                                                    width="16px"
+                                                  >
+                                                    <svg
+                                                      className="e12ma6z3 css-1jjmnki-StyledSvg-StyledInlineSvg e2idor0"
+                                                      height="16px"
+                                                      viewBox={Object {}}
+                                                      width="16px"
+                                                    >
+                                                      <use
+                                                        href="#test"
+                                                        xlinkHref="#test"
+                                                      />
+                                                    </svg>
+                                                  </StyledSvg>
+                                                </InlineSvg>
+                                              </StyledInlineSvg>
+                                            </span>
+                                          </Component>
+                                        </Icon>
+                                      </span>
+                                    </Component>
+                                  </ButtonLabel>
+                                </button>
+                              </ForwardRef>
+                            </StyledButton>
+                          </Button>
+                        </span>
+                      </Container>
+                    </InnerReference>
+                  </Reference>
+                </Manager>
+              </Tooltip2>
             </div>
           </TeamSelectInput>
         </div>
diff --git a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
index cc599935d3..ec21a2244e 100644
--- a/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
+++ b/tests/js/spec/components/actions/__snapshots__/resolve.spec.jsx.snap
@@ -240,196 +240,273 @@ exports[`ResolveActions with confirmation step renders 1`] = `
                   role="presentation"
                   title={null}
                 >
-                  <Tooltip
+                  <Tooltip2
+                    containerDisplayMode="block"
+                    position="top"
                     title="Set up release tracking in order to use this feature."
                   >
-                    <ActionLink
-                      className="tip"
-                      confirmLabel="Resolve"
-                      disabled={false}
-                      message="Are you sure???"
-                      onAction={[Function]}
-                      shouldConfirm={true}
-                      title="Set up release tracking in order to use this feature."
-                    >
-                      <Confirm
-                        cancelText="Cancel"
-                        confirmText="Resolve"
-                        disableConfirmButton={false}
-                        message="Are you sure???"
-                        onConfirm={[Function]}
-                        priority="primary"
-                        stopPropagation={false}
-                      >
-                        <a
-                          className="tip"
-                          onClick={[Function]}
-                          title="Set up release tracking in order to use this feature."
+                    <Manager>
+                      <Reference>
+                        <InnerReference
+                          setReferenceNode={[Function]}
                         >
-                           
-                          The next release
-                        </a>
-                        <Modal
-                          animation={false}
-                          autoFocus={true}
-                          backdrop={true}
-                          bsClass="modal"
-                          dialogComponentClass={[Function]}
-                          enforceFocus={true}
-                          keyboard={true}
-                          manager={
-                            ModalManager {
-                              "add": [Function],
-                              "containers": Array [],
-                              "data": Array [],
-                              "handleContainerOverflow": true,
-                              "hideSiblingNodes": true,
-                              "isTopModal": [Function],
-                              "modals": Array [],
-                              "remove": [Function],
-                            }
-                          }
-                          onHide={[Function]}
-                          renderBackdrop={[Function]}
-                          restoreFocus={true}
-                          show={false}
-                        >
-                          <Modal
-                            autoFocus={true}
-                            backdrop={true}
-                            backdropClassName="modal-backdrop"
-                            containerClassName="modal-open"
-                            enforceFocus={true}
-                            keyboard={true}
-                            manager={
-                              ModalManager {
-                                "add": [Function],
-                                "containers": Array [],
-                                "data": Array [],
-                                "handleContainerOverflow": true,
-                                "hideSiblingNodes": true,
-                                "isTopModal": [Function],
-                                "modals": Array [],
-                                "remove": [Function],
-                              }
-                            }
-                            onEntering={[Function]}
-                            onExited={[Function]}
-                            onHide={[Function]}
-                            renderBackdrop={[Function]}
-                            restoreFocus={true}
-                            show={false}
-                          />
-                        </Modal>
-                      </Confirm>
-                    </ActionLink>
-                  </Tooltip>
-                  <Tooltip
+                          <Container
+                            aria-describedby="tooltip-123456"
+                            containerDisplayMode="block"
+                            innerRef={[Function]}
+                            onBlur={[Function]}
+                            onFocus={[Function]}
+                            onMouseEnter={[Function]}
+                            onMouseLeave={[Function]}
+                          >
+                            <span
+                              aria-describedby="tooltip-123456"
+                              className="css-zt6512-Container e7ebgxc0"
+                              onBlur={[Function]}
+                              onFocus={[Function]}
+                              onMouseEnter={[Function]}
+                              onMouseLeave={[Function]}
+                            >
+                              <ActionLink
+                                confirmLabel="Resolve"
+                                disabled={false}
+                                message="Are you sure???"
+                                onAction={[Function]}
+                                shouldConfirm={true}
+                              >
+                                <Confirm
+                                  cancelText="Cancel"
+                                  confirmText="Resolve"
+                                  disableConfirmButton={false}
+                                  message="Are you sure???"
+                                  onConfirm={[Function]}
+                                  priority="primary"
+                                  stopPropagation={false}
+                                >
+                                  <a
+                                    onClick={[Function]}
+                                  >
+                                     
+                                    The next release
+                                  </a>
+                                  <Modal
+                                    animation={false}
+                                    autoFocus={true}
+                                    backdrop={true}
+                                    bsClass="modal"
+                                    dialogComponentClass={[Function]}
+                                    enforceFocus={true}
+                                    keyboard={true}
+                                    manager={
+                                      ModalManager {
+                                        "add": [Function],
+                                        "containers": Array [],
+                                        "data": Array [],
+                                        "handleContainerOverflow": true,
+                                        "hideSiblingNodes": true,
+                                        "isTopModal": [Function],
+                                        "modals": Array [],
+                                        "remove": [Function],
+                                      }
+                                    }
+                                    onHide={[Function]}
+                                    renderBackdrop={[Function]}
+                                    restoreFocus={true}
+                                    show={false}
+                                  >
+                                    <Modal
+                                      autoFocus={true}
+                                      backdrop={true}
+                                      backdropClassName="modal-backdrop"
+                                      containerClassName="modal-open"
+                                      enforceFocus={true}
+                                      keyboard={true}
+                                      manager={
+                                        ModalManager {
+                                          "add": [Function],
+                                          "containers": Array [],
+                                          "data": Array [],
+                                          "handleContainerOverflow": true,
+                                          "hideSiblingNodes": true,
+                                          "isTopModal": [Function],
+                                          "modals": Array [],
+                                          "remove": [Function],
+                                        }
+                                      }
+                                      onEntering={[Function]}
+                                      onExited={[Function]}
+                                      onHide={[Function]}
+                                      renderBackdrop={[Function]}
+                                      restoreFocus={true}
+                                      show={false}
+                                    />
+                                  </Modal>
+                                </Confirm>
+                              </ActionLink>
+                            </span>
+                          </Container>
+                        </InnerReference>
+                      </Reference>
+                    </Manager>
+                  </Tooltip2>
+                  <Tooltip2
+                    containerDisplayMode="block"
+                    position="top"
                     title="Set up release tracking in order to use this feature."
                   >
-                    <ActionLink
-                      className="tip"
-                      confirmLabel="Resolve"
-                      disabled={false}
-                      message="Are you sure???"
-                      onAction={[Function]}
-                      shouldConfirm={true}
-                      title="Set up release tracking in order to use this feature."
-                    >
-                      <Confirm
-                        cancelText="Cancel"
-                        confirmText="Resolve"
-                        disableConfirmButton={false}
-                        message="Are you sure???"
-                        onConfirm={[Function]}
-                        priority="primary"
-                        stopPropagation={false}
-                      >
-                        <a
-                          className="tip"
-                          onClick={[Function]}
-                          title="Set up release tracking in order to use this feature."
-                        >
-                           
-                          The current release
-                        </a>
-                        <Modal
-                          animation={false}
-                          autoFocus={true}
-                          backdrop={true}
-                          bsClass="modal"
-                          dialogComponentClass={[Function]}
-                          enforceFocus={true}
-                          keyboard={true}
-                          manager={
-                            ModalManager {
-                              "add": [Function],
-                              "containers": Array [],
-                              "data": Array [],
-                              "handleContainerOverflow": true,
-                              "hideSiblingNodes": true,
-                              "isTopModal": [Function],
-                              "modals": Array [],
-                              "remove": [Function],
-                            }
-                          }
-                          onHide={[Function]}
-                          renderBackdrop={[Function]}
-                          restoreFocus={true}
-                          show={false}
+                    <Manager>
+                      <Reference>
+                        <InnerReference
+                          setReferenceNode={[Function]}
                         >
-                          <Modal
-                            autoFocus={true}
-                            backdrop={true}
-                            backdropClassName="modal-backdrop"
-                            containerClassName="modal-open"
-                            enforceFocus={true}
-                            keyboard={true}
-                            manager={
-                              ModalManager {
-                                "add": [Function],
-                                "containers": Array [],
-                                "data": Array [],
-                                "handleContainerOverflow": true,
-                                "hideSiblingNodes": true,
-                                "isTopModal": [Function],
-                                "modals": Array [],
-                                "remove": [Function],
-                              }
-                            }
-                            onEntering={[Function]}
-                            onExited={[Function]}
-                            onHide={[Function]}
-                            renderBackdrop={[Function]}
-                            restoreFocus={true}
-                            show={false}
-                          />
-                        </Modal>
-                      </Confirm>
-                    </ActionLink>
-                  </Tooltip>
-                  <Tooltip
+                          <Container
+                            aria-describedby="tooltip-123456"
+                            containerDisplayMode="block"
+                            innerRef={[Function]}
+                            onBlur={[Function]}
+                            onFocus={[Function]}
+                            onMouseEnter={[Function]}
+                            onMouseLeave={[Function]}
+                          >
+                            <span
+                              aria-describedby="tooltip-123456"
+                              className="css-zt6512-Container e7ebgxc0"
+                              onBlur={[Function]}
+                              onFocus={[Function]}
+                              onMouseEnter={[Function]}
+                              onMouseLeave={[Function]}
+                            >
+                              <ActionLink
+                                confirmLabel="Resolve"
+                                disabled={false}
+                                message="Are you sure???"
+                                onAction={[Function]}
+                                shouldConfirm={true}
+                              >
+                                <Confirm
+                                  cancelText="Cancel"
+                                  confirmText="Resolve"
+                                  disableConfirmButton={false}
+                                  message="Are you sure???"
+                                  onConfirm={[Function]}
+                                  priority="primary"
+                                  stopPropagation={false}
+                                >
+                                  <a
+                                    onClick={[Function]}
+                                  >
+                                     
+                                    The current release
+                                  </a>
+                                  <Modal
+                                    animation={false}
+                                    autoFocus={true}
+                                    backdrop={true}
+                                    bsClass="modal"
+                                    dialogComponentClass={[Function]}
+                                    enforceFocus={true}
+                                    keyboard={true}
+                                    manager={
+                                      ModalManager {
+                                        "add": [Function],
+                                        "containers": Array [],
+                                        "data": Array [],
+                                        "handleContainerOverflow": true,
+                                        "hideSiblingNodes": true,
+                                        "isTopModal": [Function],
+                                        "modals": Array [],
+                                        "remove": [Function],
+                                      }
+                                    }
+                                    onHide={[Function]}
+                                    renderBackdrop={[Function]}
+                                    restoreFocus={true}
+                                    show={false}
+                                  >
+                                    <Modal
+                                      autoFocus={true}
+                                      backdrop={true}
+                                      backdropClassName="modal-backdrop"
+                                      containerClassName="modal-open"
+                                      enforceFocus={true}
+                                      keyboard={true}
+                                      manager={
+                                        ModalManager {
+                                          "add": [Function],
+                                          "containers": Array [],
+                                          "data": Array [],
+                                          "handleContainerOverflow": true,
+                                          "hideSiblingNodes": true,
+                                          "isTopModal": [Function],
+                                          "modals": Array [],
+                                          "remove": [Function],
+                                        }
+                                      }
+                                      onEntering={[Function]}
+                                      onExited={[Function]}
+                                      onHide={[Function]}
+                                      renderBackdrop={[Function]}
+                                      restoreFocus={true}
+                                      show={false}
+                                    />
+                                  </Modal>
+                                </Confirm>
+                              </ActionLink>
+                            </span>
+                          </Container>
+                        </InnerReference>
+                      </Reference>
+                    </Manager>
+                  </Tooltip2>
+                  <Tooltip2
+                    containerDisplayMode="block"
+                    position="top"
                     title="Set up release tracking in order to use this feature."
                   >
-                    <ActionLink
-                      className="tip"
-                      confirmLabel="Resolve"
-                      disabled={false}
-                      message="Are you sure???"
-                      onAction={[Function]}
-                      shouldConfirm={false}
-                      title="Set up release tracking in order to use this feature."
-                    >
-                      <a
-                        className="tip"
-                        data-test-id="action-link-set-up-release-tracking-in-order-to-use-this-feature."
-                        disabled={false}
-                        onClick={[Function]}
-                      >
-                        Another version
-                      </a>
-                    </ActionLink>
-                  </Tooltip>
+                    <Manager>
+                      <Reference>
+                        <InnerReference
+                          setReferenceNode={[Function]}
+                        >
+                          <Container
+                            aria-describedby="tooltip-123456"
+                            containerDisplayMode="block"
+                            innerRef={[Function]}
+                            onBlur={[Function]}
+                            onFocus={[Function]}
+                            onMouseEnter={[Function]}
+                            onMouseLeave={[Function]}
+                          >
+                            <span
+                              aria-describedby="tooltip-123456"
+                              className="css-zt6512-Container e7ebgxc0"
+                              onBlur={[Function]}
+                              onFocus={[Function]}
+                              onMouseEnter={[Function]}
+                              onMouseLeave={[Function]}
+                            >
+                              <ActionLink
+                                confirmLabel="Resolve"
+                                disabled={false}
+                                message="Are you sure???"
+                                onAction={[Function]}
+                                shouldConfirm={false}
+                              >
+                                <a
+                                  className=""
+                                  data-test-id="action-link"
+                                  disabled={false}
+                                  onClick={[Function]}
+                                >
+                                  Another version
+                                </a>
+                              </ActionLink>
+                            </span>
+                          </Container>
+                        </InnerReference>
+                      </Reference>
+                    </Manager>
+                  </Tooltip2>
                 </li>
               </MenuItem>
             </ul>
@@ -616,69 +693,150 @@ exports[`ResolveActions without confirmation renders 1`] = `
                   role="presentation"
                   title={null}
                 >
-                  <Tooltip
+                  <Tooltip2
+                    containerDisplayMode="block"
+                    position="top"
                     title="Set up release tracking in order to use this feature."
                   >
-                    <ActionLink
-                      className="tip"
-                      confirmLabel="Resolve"
-                      disabled={false}
-                      onAction={[Function]}
-                      shouldConfirm={false}
-                      title="Set up release tracking in order to use this feature."
-                    >
-                      <a
-                        className="tip"
-                        data-test-id="action-link-set-up-release-tracking-in-order-to-use-this-feature."
-                        disabled={false}
-                        onClick={[Function]}
-                      >
-                        The next release
-                      </a>
-                    </ActionLink>
-                  </Tooltip>
-                  <Tooltip
+                    <Manager>
+                      <Reference>
+                        <InnerReference
+                          setReferenceNode={[Function]}
+                        >
+                          <Container
+                            aria-describedby="tooltip-123456"
+                            containerDisplayMode="block"
+                            innerRef={[Function]}
+                            onBlur={[Function]}
+                            onFocus={[Function]}
+                            onMouseEnter={[Function]}
+                            onMouseLeave={[Function]}
+                          >
+                            <span
+                              aria-describedby="tooltip-123456"
+                              className="css-zt6512-Container e7ebgxc0"
+                              onBlur={[Function]}
+                              onFocus={[Function]}
+                              onMouseEnter={[Function]}
+                              onMouseLeave={[Function]}
+                            >
+                              <ActionLink
+                                confirmLabel="Resolve"
+                                disabled={false}
+                                onAction={[Function]}
+                                shouldConfirm={false}
+                              >
+                                <a
+                                  className=""
+                                  data-test-id="action-link"
+                                  disabled={false}
+                                  onClick={[Function]}
+                                >
+                                  The next release
+                                </a>
+                              </ActionLink>
+                            </span>
+                          </Container>
+                        </InnerReference>
+                      </Reference>
+                    </Manager>
+                  </Tooltip2>
+                  <Tooltip2
+                    containerDisplayMode="block"
+                    position="top"
                     title="Set up release tracking in order to use this feature."
                   >
-                    <ActionLink
-                      className="tip"
-                      confirmLabel="Resolve"
-                      disabled={false}
-                      onAction={[Function]}
-                      shouldConfirm={false}
-                      title="Set up release tracking in order to use this feature."
-                    >
-                      <a
-                        className="tip"
-                        data-test-id="action-link-set-up-release-tracking-in-order-to-use-this-feature."
-                        disabled={false}
-                        onClick={[Function]}
-                      >
-                        The current release
-                      </a>
-                    </ActionLink>
-                  </Tooltip>
-                  <Tooltip
+                    <Manager>
+                      <Reference>
+                        <InnerReference
+                          setReferenceNode={[Function]}
+                        >
+                          <Container
+                            aria-describedby="tooltip-123456"
+                            containerDisplayMode="block"
+                            innerRef={[Function]}
+                            onBlur={[Function]}
+                            onFocus={[Function]}
+                            onMouseEnter={[Function]}
+                            onMouseLeave={[Function]}
+                          >
+                            <span
+                              aria-describedby="tooltip-123456"
+                              className="css-zt6512-Container e7ebgxc0"
+                              onBlur={[Function]}
+                              onFocus={[Function]}
+                              onMouseEnter={[Function]}
+                              onMouseLeave={[Function]}
+                            >
+                              <ActionLink
+                                confirmLabel="Resolve"
+                                disabled={false}
+                                onAction={[Function]}
+                                shouldConfirm={false}
+                              >
+                                <a
+                                  className=""
+                                  data-test-id="action-link"
+                                  disabled={false}
+                                  onClick={[Function]}
+                                >
+                                  The current release
+                                </a>
+                              </ActionLink>
+                            </span>
+                          </Container>
+                        </InnerReference>
+                      </Reference>
+                    </Manager>
+                  </Tooltip2>
+                  <Tooltip2
+                    containerDisplayMode="block"
+                    position="top"
                     title="Set up release tracking in order to use this feature."
                   >
-                    <ActionLink
-                      className="tip"
-                      confirmLabel="Resolve"
-                      disabled={false}
-                      onAction={[Function]}
-                      shouldConfirm={false}
-                      title="Set up release tracking in order to use this feature."
-                    >
-                      <a
-                        className="tip"
-                        data-test-id="action-link-set-up-release-tracking-in-order-to-use-this-feature."
-                        disabled={false}
-                        onClick={[Function]}
-                      >
-                        Another version
-                      </a>
-                    </ActionLink>
-                  </Tooltip>
+                    <Manager>
+                      <Reference>
+                        <InnerReference
+                          setReferenceNode={[Function]}
+                        >
+                          <Container
+                            aria-describedby="tooltip-123456"
+                            containerDisplayMode="block"
+                            innerRef={[Function]}
+                            onBlur={[Function]}
+                            onFocus={[Function]}
+                            onMouseEnter={[Function]}
+                            onMouseLeave={[Function]}
+                          >
+                            <span
+                              aria-describedby="tooltip-123456"
+                              className="css-zt6512-Container e7ebgxc0"
+                              onBlur={[Function]}
+                              onFocus={[Function]}
+                              onMouseEnter={[Function]}
+                              onMouseLeave={[Function]}
+                            >
+                              <ActionLink
+                                confirmLabel="Resolve"
+                                disabled={false}
+                                onAction={[Function]}
+                                shouldConfirm={false}
+                              >
+                                <a
+                                  className=""
+                                  data-test-id="action-link"
+                                  disabled={false}
+                                  onClick={[Function]}
+                                >
+                                  Another version
+                                </a>
+                              </ActionLink>
+                            </span>
+                          </Container>
+                        </InnerReference>
+                      </Reference>
+                    </Manager>
+                  </Tooltip2>
                 </li>
               </MenuItem>
             </ul>
diff --git a/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap b/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
index 1538ffffb8..4905bf1e59 100644
--- a/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
+++ b/tests/js/spec/components/avatar/__snapshots__/avatarList.spec.jsx.snap
@@ -110,30 +110,56 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
         className="css-1go71fn"
         is={null}
       >
-        <Tooltip
+        <Tooltip2
+          containerDisplayMode="inline-block"
+          position="top"
           title="1 other users"
         >
-          <CollapsedUsers
-            className="tip"
-            size={28}
-            title="1 other users"
-          >
-            <div
-              className="tip css-17ychq3-CollapsedUsers-Circle e1axh4r51"
-              size={28}
-              title="1 other users"
-            >
-              <Plus>
-                <span
-                  className="css-sduhlv-Plus e1axh4r52"
+          <Manager>
+            <Reference>
+              <InnerReference
+                setReferenceNode={[Function]}
+              >
+                <Container
+                  aria-describedby="tooltip-123456"
+                  containerDisplayMode="inline-block"
+                  innerRef={[Function]}
+                  onBlur={[Function]}
+                  onFocus={[Function]}
+                  onMouseEnter={[Function]}
+                  onMouseLeave={[Function]}
                 >
-                  +
-                </span>
-              </Plus>
-              1
-            </div>
-          </CollapsedUsers>
-        </Tooltip>
+                  <span
+                    aria-describedby="tooltip-123456"
+                    className="css-1m3e0hg-Container e7ebgxc0"
+                    onBlur={[Function]}
+                    onFocus={[Function]}
+                    onMouseEnter={[Function]}
+                    onMouseLeave={[Function]}
+                  >
+                    <CollapsedUsers
+                      size={28}
+                    >
+                      <div
+                        className="css-17ychq3-CollapsedUsers-Circle e1axh4r51"
+                        size={28}
+                      >
+                        <Plus>
+                          <span
+                            className="css-sduhlv-Plus e1axh4r52"
+                          >
+                            +
+                          </span>
+                        </Plus>
+                        1
+                      </div>
+                    </CollapsedUsers>
+                  </span>
+                </Container>
+              </InnerReference>
+            </Reference>
+          </Manager>
+        </Tooltip2>
         <StyledAvatar
           hasTooltip={true}
           key="1-foo@example.com"
@@ -232,6 +258,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -243,6 +270,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
@@ -426,6 +454,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -437,6 +466,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
@@ -620,6 +650,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -631,6 +662,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
@@ -814,6 +846,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -825,6 +858,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
@@ -1008,6 +1042,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -1019,6 +1054,7 @@ exports[`AvatarList renders with collapsed avatar count if > 5 users 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
@@ -1262,6 +1298,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -1273,6 +1310,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
@@ -1456,6 +1494,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                 uploadPath="avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={false}
                   position="top"
                   title="Foo Bar (foo@example.com)"
@@ -1467,6 +1506,7 @@ exports[`AvatarList renders with user avatars 1`] = `
                       >
                         <Container
                           aria-describedby="tooltip-123456"
+                          containerDisplayMode="inline-block"
                           innerRef={[Function]}
                           onBlur={[Function]}
                           onFocus={[Function]}
diff --git a/tests/js/spec/components/events/interfaces/__snapshots__/frame.spec.jsx.snap b/tests/js/spec/components/events/interfaces/__snapshots__/frame.spec.jsx.snap
index a873533b53..a8bda2ea39 100644
--- a/tests/js/spec/components/events/interfaces/__snapshots__/frame.spec.jsx.snap
+++ b/tests/js/spec/components/events/interfaces/__snapshots__/frame.spec.jsx.snap
@@ -39,7 +39,12 @@ Array [
 `;
 
 exports[`Frame renderOriginalSourceInfo() should render the source map information as a HTML string 1`] = `
-"
-    <div>
-      <strong>Source Map</strong><br/>https://beta.getsentry.com/_static/sentry/dist/vendor.js.map<br/></div>"
+<React.Fragment>
+  <strong>
+    Source Map
+  </strong>
+  <br />
+  https://beta.getsentry.com/_static/sentry/dist/vendor.js.map
+  <br />
+</React.Fragment>
 `;
diff --git a/tests/js/spec/components/events/interfaces/frame.spec.jsx b/tests/js/spec/components/events/interfaces/frame.spec.jsx
index 6cfccfb59c..3dded908a4 100644
--- a/tests/js/spec/components/events/interfaces/frame.spec.jsx
+++ b/tests/js/spec/components/events/interfaces/frame.spec.jsx
@@ -22,7 +22,7 @@ describe('Frame', function() {
     it('should render the source map information as a HTML string', function() {
       const frame = shallow(<Frame data={data} />);
 
-      expect(frame.find('Tooltip').prop('title')).toMatchSnapshot();
+      expect(frame.find('Tooltip2').prop('title')).toMatchSnapshot();
     });
   });
 
diff --git a/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap b/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap
index 691cec16f0..ac316b7260 100644
--- a/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap
+++ b/tests/js/spec/components/group/__snapshots__/releaseStats.spec.jsx.snap
@@ -1039,29 +1039,80 @@ exports[`GroupReleaseStats renders 1`] = `
             <dd
               key="1"
             >
-              <Tooltip
-                title="<div style=\\"width:170px\\"><div class=\\"time-label\\">First seen</div><dl class=\\"flat\\"><dt>Globally:</dt><dd><time dateTime=\\"2019-04-05T19:44:05.963Z\\" title=\\"April 5, 2019 12:44 PM PDT\\">in a year</time><br/></dd></dl></div>"
-                tooltipOptions={
-                  Object {
-                    "html": true,
-                  }
+              <Tooltip2
+                containerDisplayMode="inline-block"
+                position="top"
+                title={
+                  <div
+                    style={
+                      Object {
+                        "width": 170,
+                      }
+                    }
+                  >
+                    <div
+                      className="time-label"
+                    >
+                      First seen
+                    </div>
+                    <dl
+                      className="flat"
+                    >
+                      <dt>
+                        Globally:
+                      </dt>
+                      <dd>
+                        <TimeSince
+                          date="2019-04-05T19:44:05.963Z"
+                          suffix="ago"
+                        />
+                        <br />
+                      </dd>
+                    </dl>
+                  </div>
                 }
               >
-                <TimeSince
-                  className="tip dotted-underline"
-                  date="2019-04-05T19:44:05.963Z"
-                  suffix="ago"
-                  title="<div style=\\"width:170px\\"><div class=\\"time-label\\">First seen</div><dl class=\\"flat\\"><dt>Globally:</dt><dd><time dateTime=\\"2019-04-05T19:44:05.963Z\\" title=\\"April 5, 2019 12:44 PM PDT\\">in a year</time><br/></dd></dl></div>"
-                >
-                  <time
-                    className="tip dotted-underline"
-                    dateTime="2019-04-05T19:44:05.963Z"
-                    title="April 5, 2019 12:44 PM PDT"
-                  >
-                    in a year
-                  </time>
-                </TimeSince>
-              </Tooltip>
+                <Manager>
+                  <Reference>
+                    <InnerReference
+                      setReferenceNode={[Function]}
+                    >
+                      <Container
+                        aria-describedby="tooltip-123456"
+                        containerDisplayMode="inline-block"
+                        innerRef={[Function]}
+                        onBlur={[Function]}
+                        onFocus={[Function]}
+                        onMouseEnter={[Function]}
+                        onMouseLeave={[Function]}
+                      >
+                        <span
+                          aria-describedby="tooltip-123456"
+                          className="css-1m3e0hg-Container e7ebgxc0"
+                          onBlur={[Function]}
+                          onFocus={[Function]}
+                          onMouseEnter={[Function]}
+                          onMouseLeave={[Function]}
+                        >
+                          <TimeSince
+                            className="dotted-underline"
+                            date="2019-04-05T19:44:05.963Z"
+                            suffix="ago"
+                          >
+                            <time
+                              className="dotted-underline"
+                              dateTime="2019-04-05T19:44:05.963Z"
+                              title="April 5, 2019 12:44 PM PDT"
+                            >
+                              in a year
+                            </time>
+                          </TimeSince>
+                        </span>
+                      </Container>
+                    </InnerReference>
+                  </Reference>
+                </Manager>
+              </Tooltip2>
               <br />
               <small>
                 <DateTime
@@ -1127,29 +1178,80 @@ exports[`GroupReleaseStats renders 1`] = `
             <dd
               key="1"
             >
-              <Tooltip
-                title="<div style=\\"width:170px\\"><div class=\\"time-label\\">Last seen</div><dl class=\\"flat\\"><dt>Globally:</dt><dd><time dateTime=\\"2019-04-11T01:08:59.000Z\\" title=\\"April 10, 2019 6:08 PM PDT\\">in a year</time><br/></dd></dl></div>"
-                tooltipOptions={
-                  Object {
-                    "html": true,
-                  }
+              <Tooltip2
+                containerDisplayMode="inline-block"
+                position="top"
+                title={
+                  <div
+                    style={
+                      Object {
+                        "width": 170,
+                      }
+                    }
+                  >
+                    <div
+                      className="time-label"
+                    >
+                      Last seen
+                    </div>
+                    <dl
+                      className="flat"
+                    >
+                      <dt>
+                        Globally:
+                      </dt>
+                      <dd>
+                        <TimeSince
+                          date="2019-04-11T01:08:59Z"
+                          suffix="ago"
+                        />
+                        <br />
+                      </dd>
+                    </dl>
+                  </div>
                 }
               >
-                <TimeSince
-                  className="tip dotted-underline"
-                  date="2019-04-11T01:08:59Z"
-                  suffix="ago"
-                  title="<div style=\\"width:170px\\"><div class=\\"time-label\\">Last seen</div><dl class=\\"flat\\"><dt>Globally:</dt><dd><time dateTime=\\"2019-04-11T01:08:59.000Z\\" title=\\"April 10, 2019 6:08 PM PDT\\">in a year</time><br/></dd></dl></div>"
-                >
-                  <time
-                    className="tip dotted-underline"
-                    dateTime="2019-04-11T01:08:59.000Z"
-                    title="April 10, 2019 6:08 PM PDT"
-                  >
-                    in a year
-                  </time>
-                </TimeSince>
-              </Tooltip>
+                <Manager>
+                  <Reference>
+                    <InnerReference
+                      setReferenceNode={[Function]}
+                    >
+                      <Container
+                        aria-describedby="tooltip-123456"
+                        containerDisplayMode="inline-block"
+                        innerRef={[Function]}
+                        onBlur={[Function]}
+                        onFocus={[Function]}
+                        onMouseEnter={[Function]}
+                        onMouseLeave={[Function]}
+                      >
+                        <span
+                          aria-describedby="tooltip-123456"
+                          className="css-1m3e0hg-Container e7ebgxc0"
+                          onBlur={[Function]}
+                          onFocus={[Function]}
+                          onMouseEnter={[Function]}
+                          onMouseLeave={[Function]}
+                        >
+                          <TimeSince
+                            className="dotted-underline"
+                            date="2019-04-11T01:08:59Z"
+                            suffix="ago"
+                          >
+                            <time
+                              className="dotted-underline"
+                              dateTime="2019-04-11T01:08:59.000Z"
+                              title="April 10, 2019 6:08 PM PDT"
+                            >
+                              in a year
+                            </time>
+                          </TimeSince>
+                        </span>
+                      </Container>
+                    </InnerReference>
+                  </Reference>
+                </Manager>
+              </Tooltip2>
               <br />
               <small>
                 <DateTime
diff --git a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
index a1e6d55119..fb77e67c94 100644
--- a/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
+++ b/tests/js/spec/components/sidebar/__snapshots__/index.spec.jsx.snap
@@ -286,6 +286,7 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                 uploadPath="organization-avatar"
               >
                 <Tooltip2
+                  containerDisplayMode="inline-block"
                   disabled={true}
                   position="top"
                   title="org-slug"
@@ -755,6 +756,7 @@ exports[`Sidebar SidebarDropdown can open Sidebar org/name dropdown menu 1`] = `
                                     uploadPath="avatar"
                                   >
                                     <Tooltip2
+                                      containerDisplayMode="inline-block"
                                       disabled={true}
                                       position="top"
                                       title="Foo Bar (foo@example.com)"
@@ -1989,6 +1991,7 @@ exports[`Sidebar renders without org and router 1`] = `
                                     uploadPath="avatar"
                                   >
                                     <Tooltip2
+                                      containerDisplayMode="inline-block"
                                       disabled={true}
                                       position="top"
                                       title="Foo Bar (foo@example.com)"
diff --git a/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap b/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
index 92e3f64d06..8e172d97c7 100644
--- a/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
+++ b/tests/js/spec/views/__snapshots__/ruleBuilder.spec.jsx.snap
@@ -2628,6 +2628,7 @@ exports[`RuleBuilder renders with suggestions 1`] = `
                                               uploadPath="avatar"
                                             >
                                               <Tooltip2
+                                                containerDisplayMode="inline-block"
                                                 disabled={false}
                                                 position="top"
                                                 title="Jane Doe (janedoe@example.com)"
@@ -2639,6 +2640,7 @@ exports[`RuleBuilder renders with suggestions 1`] = `
                                                     >
                                                       <Container
                                                         aria-describedby="tooltip-123456"
+                                                        containerDisplayMode="inline-block"
                                                         innerRef={[Function]}
                                                         onBlur={[Function]}
                                                         onFocus={[Function]}
diff --git a/tests/js/spec/views/organizationStream/overview.spec.jsx b/tests/js/spec/views/organizationStream/overview.spec.jsx
index 83fc772d26..ab743d319a 100644
--- a/tests/js/spec/views/organizationStream/overview.spec.jsx
+++ b/tests/js/spec/views/organizationStream/overview.spec.jsx
@@ -571,7 +571,7 @@ describe('OrganizationStream', function() {
         'Custom Search'
       );
 
-      wrapper.find('Button[aria-label="Pin this search"]').simulate('click');
+      wrapper.find('Button[aria-label="Pin this search"] button').simulate('click');
 
       expect(createPin).toHaveBeenCalled();
 
@@ -600,7 +600,7 @@ describe('OrganizationStream', function() {
         'My Pinned Search'
       );
 
-      wrapper.find('Button[aria-label="Unpin this search"]').simulate('click');
+      wrapper.find('Button[aria-label="Unpin this search"] button').simulate('click');
 
       expect(deletePin).toHaveBeenCalled();
 
@@ -672,7 +672,7 @@ describe('OrganizationStream', function() {
         'Unresolved Issues'
       );
 
-      wrapper.find('Button[aria-label="Pin this search"]').simulate('click');
+      wrapper.find('Button[aria-label="Pin this search"] button').simulate('click');
 
       expect(createPin).toHaveBeenCalled();
 
@@ -736,7 +736,7 @@ describe('OrganizationStream', function() {
         },
       });
 
-      wrapper.find('Button[aria-label="Pin this search"]').simulate('click');
+      wrapper.find('Button[aria-label="Pin this search"] button').simulate('click');
 
       expect(createPin).toHaveBeenCalled();
 
@@ -828,7 +828,7 @@ describe('OrganizationStream', function() {
       wrapper.setContext({router: newRouter});
       wrapper.update();
 
-      wrapper.find('Button[aria-label="Pin this search"]').simulate('click');
+      wrapper.find('Button[aria-label="Pin this search"] button').simulate('click');
 
       expect(createPin).toHaveBeenCalled();
 
@@ -856,7 +856,7 @@ describe('OrganizationStream', function() {
       await tick();
       wrapper.update();
 
-      wrapper.find('Button[aria-label="Unpin this search"]').simulate('click');
+      wrapper.find('Button[aria-label="Unpin this search"] button').simulate('click');
 
       expect(deletePin).toHaveBeenCalled();
 
diff --git a/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap b/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap
index 38da4571af..5168c8f822 100644
--- a/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap
+++ b/tests/js/spec/views/releases/detail/__snapshots__/releaseCommits.spec.jsx.snap
@@ -219,6 +219,7 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                     uploadPath="avatar"
                                   >
                                     <Tooltip2
+                                      containerDisplayMode="inline-block"
                                       disabled={true}
                                       position="top"
                                       title="Foo Bar (example@sentry.io)"
@@ -628,6 +629,7 @@ Users now have access to useful links from the blogs and docs on Spike-protectio
                                     uploadPath="avatar"
                                   >
                                     <Tooltip2
+                                      containerDisplayMode="inline-block"
                                       disabled={true}
                                       position="top"
                                       title="Foo Bar (example@sentry.io)"
diff --git a/tests/js/spec/views/stream/organizationSavedSearchSelector.spec.jsx b/tests/js/spec/views/stream/organizationSavedSearchSelector.spec.jsx
index ceb8b92819..319c172972 100644
--- a/tests/js/spec/views/stream/organizationSavedSearchSelector.spec.jsx
+++ b/tests/js/spec/views/stream/organizationSavedSearchSelector.spec.jsx
@@ -119,11 +119,11 @@ describe('OrganizationSavedSearchSelector', function() {
       const button = wrapper
         .find('MenuItem')
         .at(1)
-        .find('Button[icon="icon-trash"]');
+        .find('Button[icon="icon-trash"] button');
       button.simulate('click');
       await wrapper.update();
 
-      wrapper.find('Modal Button[priority="primary"]').simulate('click');
+      wrapper.find('Modal Button[priority="primary"] button').simulate('click');
       expect(onDelete).toHaveBeenCalledWith(savedSearchList[1]);
     });
   });
diff --git a/tests/js/spec/views/teamSettings.spec.jsx b/tests/js/spec/views/teamSettings.spec.jsx
index 6bd63bdcd1..bacd5e0cb5 100644
--- a/tests/js/spec/views/teamSettings.spec.jsx
+++ b/tests/js/spec/views/teamSettings.spec.jsx
@@ -115,12 +115,12 @@ describe('TeamSettings', function() {
     );
 
     // Click "Remove Team button
-    wrapper.find('Button[priority="danger"]').simulate('click');
+    wrapper.find('Button[priority="danger"] button').simulate('click');
 
     TeamStore.trigger.mockReset();
 
     // Wait for modal
-    wrapper.find('ModalDialog Button[priority="danger"]').simulate('click');
+    wrapper.find('ModalDialog Button[priority="danger"] button').simulate('click');
     expect(deleteMock).toHaveBeenCalledWith(
       `/teams/org/${team.slug}/`,
       expect.objectContaining({
