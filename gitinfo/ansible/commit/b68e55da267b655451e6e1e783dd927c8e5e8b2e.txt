commit b68e55da267b655451e6e1e783dd927c8e5e8b2e
Author: Matt Clay <mclay@redhat.com>
Date:   Wed Feb 26 11:48:30 2020 -0800

    Remove `test/legacy/` directory. (#67786)
    
    * Remove `test/legacy/` directory.
    
    * Remove references to `test/legacy/` directory.
    
    * Update the remaining valid legacy reference.
    
    * Remove outdated legacy references.

diff --git a/.github/BOTMETA.yml b/.github/BOTMETA.yml
index 7256da6370..8dbfff935f 100644
--- a/.github/BOTMETA.yml
+++ b/.github/BOTMETA.yml
@@ -4097,8 +4097,6 @@ files:
   test/integration/targets/zabbix_: $team_zabbix
   test/integration/targets/ucs_: *ucs
   test/integration/targets/vultr: *vultr
-  test/legacy/:
-    notified: mattclay
   test/lib/:
     notified: mattclay
   test/lib/ansible_test/_internal/cloud/acme.py: *crypto
diff --git a/docs/docsite/rst/scenario_guides/guide_scaleway.rst b/docs/docsite/rst/scenario_guides/guide_scaleway.rst
index 82d7ace757..d579f8fab3 100644
--- a/docs/docsite/rst/scenario_guides/guide_scaleway.rst
+++ b/docs/docsite/rst/scenario_guides/guide_scaleway.rst
@@ -68,8 +68,6 @@ The ``ssh_pub_key`` parameter contains your ssh public key as a string. Here is
 
 .. code-block:: yaml
 
-    # SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway_ssh_playbook.yml
-
     - name: Test SSH key lifecycle on a Scaleway account
       hosts: localhost
       gather_facts: no
@@ -120,8 +118,6 @@ Take a look at this short playbook to see a working example using ``scaleway_com
 
 .. code-block:: yaml
 
-    # SCW_TOKEN='XXX' ansible-playbook ./test/legacy/scaleway_compute.yml
-
     - name: Test compute instance lifecycle on a Scaleway account
       hosts: localhost
       gather_facts: no
@@ -253,7 +249,7 @@ Scaleway S3 object storage
 `Object Storage <https://www.scaleway.com/object-storage>`_ allows you to store any kind of objects (documents, images, videos, etc.).
 As the Scaleway API is S3 compatible, Ansible supports it natively through the modules: :ref:`s3_bucket_module`, :ref:`aws_s3_module`.
 
-You can find many examples in ``./test/legacy/roles/scaleway_s3``
+You can find many examples in the `scaleway_s3 integration tests <https://github.com/ansible/ansible-legacy-tests/tree/devel/test/legacy/roles/scaleway_s3>`_.
 
 .. code-block:: yaml+jinja
 
diff --git a/test/integration/targets/scaleway_compute/tasks/main.yml b/test/integration/targets/scaleway_compute/tasks/main.yml
index 922b1ea30f..d2d3ed0042 100644
--- a/test/integration/targets/scaleway_compute/tasks/main.yml
+++ b/test/integration/targets/scaleway_compute/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' SCW_ORG='YYY' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_compute
-
 - include_tasks: state.yml
 - include_tasks: ip.yml
 - include_tasks: security_group.yml
diff --git a/test/integration/targets/scaleway_image_info/tasks/main.yml b/test/integration/targets/scaleway_image_info/tasks/main.yml
index 540810479a..370855ce8e 100644
--- a/test/integration/targets/scaleway_image_info/tasks/main.yml
+++ b/test/integration/targets/scaleway_image_info/tasks/main.yml
@@ -1,6 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_image_info
-
-
 - name: Get image informations and register it in a variable
   scaleway_image_info:
     region: par1
diff --git a/test/integration/targets/scaleway_ip/tasks/main.yml b/test/integration/targets/scaleway_ip/tasks/main.yml
index 9b639ad027..b12ab0270b 100644
--- a/test/integration/targets/scaleway_ip/tasks/main.yml
+++ b/test/integration/targets/scaleway_ip/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' SCW_ORG='YYY' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_ip
-
 - name: Create IP (Check)
   check_mode: yes
   scaleway_ip:
diff --git a/test/integration/targets/scaleway_ip_info/tasks/main.yml b/test/integration/targets/scaleway_ip_info/tasks/main.yml
index d36c68fb9c..a3509f3d02 100644
--- a/test/integration/targets/scaleway_ip_info/tasks/main.yml
+++ b/test/integration/targets/scaleway_ip_info/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_ip_info
-
 - name: Get ip informations and register it in a variable
   scaleway_ip_info:
     region: par1
diff --git a/test/integration/targets/scaleway_lb/tasks/main.yml b/test/integration/targets/scaleway_lb/tasks/main.yml
index 6bbbe0e703..45d3551a48 100644
--- a/test/integration/targets/scaleway_lb/tasks/main.yml
+++ b/test/integration/targets/scaleway_lb/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' SCW_ORG='YYY' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_lb
-
 - name: Create a load-balancer (Check)
   check_mode: yes
   scaleway_lb:
diff --git a/test/integration/targets/scaleway_security_group_info/tasks/main.yml b/test/integration/targets/scaleway_security_group_info/tasks/main.yml
index ebba5223d9..3164fabcbc 100644
--- a/test/integration/targets/scaleway_security_group_info/tasks/main.yml
+++ b/test/integration/targets/scaleway_security_group_info/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_security_group_info
-
 - name: Get security group informations and register it in a variable
   scaleway_security_group_info:
     region: par1
diff --git a/test/integration/targets/scaleway_security_group_rule/tasks/main.yml b/test/integration/targets/scaleway_security_group_rule/tasks/main.yml
index 812ef1f506..2b436c1267 100644
--- a/test/integration/targets/scaleway_security_group_rule/tasks/main.yml
+++ b/test/integration/targets/scaleway_security_group_rule/tasks/main.yml
@@ -1,6 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_security_group_rule
-
-
 - name: Create a scaleway security_group
   scaleway_security_group:
     state: present
diff --git a/test/integration/targets/scaleway_server_info/tasks/main.yml b/test/integration/targets/scaleway_server_info/tasks/main.yml
index a6956e2a3b..585cc61ed3 100644
--- a/test/integration/targets/scaleway_server_info/tasks/main.yml
+++ b/test/integration/targets/scaleway_server_info/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_server_info
-
 - name: Get server informations and register it in a variable
   scaleway_server_info:
     region: par1
diff --git a/test/integration/targets/scaleway_snapshot_info/tasks/main.yml b/test/integration/targets/scaleway_snapshot_info/tasks/main.yml
index 1827bdb3c8..20ad969515 100644
--- a/test/integration/targets/scaleway_snapshot_info/tasks/main.yml
+++ b/test/integration/targets/scaleway_snapshot_info/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_snapshot_info
-
 - name: Get snapshot informations and register it in a variable
   scaleway_snapshot_info:
     region: par1
diff --git a/test/integration/targets/scaleway_sshkey/tasks/main.yml b/test/integration/targets/scaleway_sshkey/tasks/main.yml
index f6ae57890e..ca6beb1094 100644
--- a/test/integration/targets/scaleway_sshkey/tasks/main.yml
+++ b/test/integration/targets/scaleway_sshkey/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_ssh
-
 - scaleway_sshkey:
     ssh_pub_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDf29yyommeGyKSIgSmX0ISVXP+3x6RUY4JDGLoAMFh2efkfDaRVdsvkvnFuUywgP2RewrjTyLE8w0NpCBHVS5Fm1BAn3yvxOUtTMxTbsQcw6HQ8swJ02+1tewJYjHPwc4GrBqiDo3Nmlq354Us0zBOJg/bBzuEnVD5eJ3GO3gKaCSUYTVrYwO0U4eJE0D9OJeUP9J48kl4ULbCub976+mTHdBvlzRw0Tzfl2kxgdDwlks0l2NefY/uiTdz2oMt092bAY3wZHxjto/DXoChxvaf5s2k8Zb+J7CjimUYnzPlH+zA9F6ROjP5AUu6ZWPd0jOIBl1nDWWb2j/qfNLYM43l sieben@sieben-macbook.local"
     state: present
diff --git a/test/integration/targets/scaleway_user_data/tasks/main.yml b/test/integration/targets/scaleway_user_data/tasks/main.yml
index ee62b35003..68d23bac5e 100644
--- a/test/integration/targets/scaleway_user_data/tasks/main.yml
+++ b/test/integration/targets/scaleway_user_data/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_user_data
-
 - name: Create a server
   scaleway_compute:
     name: foobar
diff --git a/test/integration/targets/scaleway_volume/tasks/main.yml b/test/integration/targets/scaleway_volume/tasks/main.yml
index 0546dabe0f..c4182e0036 100644
--- a/test/integration/targets/scaleway_volume/tasks/main.yml
+++ b/test/integration/targets/scaleway_volume/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' SCW_ORG='YYY' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_volume
-
 - name: Make sure volume is not there before tests
   scaleway_volume:
     name: ansible-test-volume
diff --git a/test/integration/targets/scaleway_volume_info/tasks/main.yml b/test/integration/targets/scaleway_volume_info/tasks/main.yml
index 4463ddda04..41e8d4bb11 100644
--- a/test/integration/targets/scaleway_volume_info/tasks/main.yml
+++ b/test/integration/targets/scaleway_volume_info/tasks/main.yml
@@ -1,5 +1,3 @@
-# SCW_API_KEY='XXX' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_volume_info
-
 - name: Get volume informations and register it in a variable
   scaleway_volume_info:
     region: par1
diff --git a/test/legacy/Makefile b/test/legacy/Makefile
deleted file mode 100644
index 65a471a4a3..0000000000
--- a/test/legacy/Makefile
+++ /dev/null
@@ -1,147 +0,0 @@
-# This Makefile is for legacy integration tests.
-# Most new tests should be implemented using ansible-test.
-# Existing tests are slowly being migrated to ansible-test.
-# See: https://docs.ansible.com/ansible/devel/dev_guide/testing_integration.html
-
-TEST_DIR ?= ~/ansible_testing
-INVENTORY ?= inventory
-VARS_FILE ?= integration_config.yml
-
-# Create a semi-random string for use when testing cloud-based resources
-ifndef CLOUD_RESOURCE_PREFIX
-CLOUD_RESOURCE_PREFIX := $(shell python -c "import string,random; print('ansible-testing-' + ''.join(random.choice(string.ascii_letters + string.digits) for _ in range(8)));")
-endif
-
-CREDENTIALS_FILE ?= credentials.yml
-# If credentials.yml exists, use it
-ifneq ("$(wildcard $(CREDENTIALS_FILE))","")
-CREDENTIALS_ARG = -e @$(CREDENTIALS_FILE)
-else
-CREDENTIALS_ARG =
-endif
-
-# http://unix.stackexchange.com/questions/30091/fix-or-alternative-for-mktemp-in-os-x
-MYTMPDIR = $(shell mktemp -d 2>/dev/null || mktemp -d -t 'mytmpdir')
-
-VAULT_PASSWORD_FILE = vault-password
-
-CONSUL_RUNNING := $(shell python consul_running.py)
-EUID := $(shell id -u -r)
-
-UNAME := $(shell uname | tr '[:upper:]' '[:lower:]')
-
-setup:
-	rm -rf $(TEST_DIR)
-	mkdir -p $(TEST_DIR)
-
-cloud: amazon rackspace azure
-
-cloud_cleanup: amazon_cleanup rackspace_cleanup
-
-amazon_cleanup:
-	python cleanup_ec2.py -y --match="^$(CLOUD_RESOURCE_PREFIX)"
-
-azure_cleanup:
-	python cleanup_azure.py -y --match="^$(CLOUD_RESOURCE_PREFIX)"
-
-digital_ocean: $(CREDENTIALS_FILE)
-	ansible-playbook digital_ocean.yml -i $(INVENTORY) -e @$(VARS_FILE) $(CREDENTIALS_ARG) -v $(TEST_FLAGS) ; \
-	RC=$$? ; \
-	exit $$RC;
-
-gce_setup:
-	python setup_gce.py "$(CLOUD_RESOURCE_PREFIX)"
-
-gce_cleanup:
-	python cleanup_gce.py -y --match="^$(CLOUD_RESOURCE_PREFIX)"
-
-rackspace_cleanup:
-	python cleanup_rax.py -y --match="^$(CLOUD_RESOURCE_PREFIX)"
-
-$(CREDENTIALS_FILE):
-	@echo "No credentials file found.  A file named '$(CREDENTIALS_FILE)' is needed to provide credentials needed to run cloud tests.  See sample 'credentials.template' file."
-	@exit 1
-
-amazon: $(CREDENTIALS_FILE)
-	ANSIBLE_HOST_KEY_CHECKING=False ANSIBLE_PIPELINING=no BOTO_CONFIG=/dev/null ansible-playbook amazon.yml -i $(INVENTORY) -e @$(VARS_FILE) $(CREDENTIALS_ARG) -e "resource_prefix=$(CLOUD_RESOURCE_PREFIX)" -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    CLOUD_RESOURCE_PREFIX="$(CLOUD_RESOURCE_PREFIX)" make amazon_cleanup ; \
-    exit $$RC;
-
-azure: $(CREDENTIALS_FILE)
-	ANSIBLE_HOST_KEY_CHECKING=False ansible-playbook azure.yml -i $(INVENTORY) $(CREDENTIALS_ARG) -e "resource_prefix=$(CLOUD_RESOURCE_PREFIX)" -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    CLOUD_RESOURCE_PREFIX="$(CLOUD_RESOURCE_PREFIX)" make azure_cleanup ; \
-    exit $$RC;
-
-gce: $(CREDENTIALS_FILE)
-	CLOUD_RESOURCE_PREFIX="$(CLOUD_RESOURCE_PREFIX)" make gce_setup ; \
-    ansible-playbook gce.yml -i $(INVENTORY) -e @$(VARS_FILE) $(CREDENTIALS_ARG) -e "resource_prefix=$(CLOUD_RESOURCE_PREFIX)" -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    CLOUD_RESOURCE_PREFIX="$(CLOUD_RESOURCE_PREFIX)" make gce_cleanup ; \
-    exit $$RC;
-
-rackspace: $(CREDENTIALS_FILE)
-	ansible-playbook rackspace.yml -i $(INVENTORY) -e @$(VARS_FILE) $(CREDENTIALS_ARG) -e "resource_prefix=$(CLOUD_RESOURCE_PREFIX)" -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    CLOUD_RESOURCE_PREFIX="$(CLOUD_RESOURCE_PREFIX)" make rackspace_cleanup ; \
-    exit $$RC;
-
-exoscale:
-	ansible-playbook exoscale.yml -i $(INVENTORY) -e @$(VARS_FILE) -v $(TEST_FLAGS) ; \
-	RC=$$? ; \
-	exit $$RC;
-
-jenkins:
-	ansible-playbook jenkins.yml -i $(INVENTORY) -e @$(VARS_FILE) -v $(TEST_FLAGS) ; \
-	RC=$$? ; \
-	exit $$RC;
-
-cloudflare: $(CREDENTIALS_FILE)
-	ansible-playbook cloudflare.yml -i $(INVENTORY) -e @$(VARS_FILE) -e @$(CREDENTIALS_FILE) -e "resource_prefix=$(CLOUD_RESOURCE_PREFIX)" -v $(TEST_FLAGS) ; \
-	RC=$$? ; \
-	exit $$RC;
-
-cloudscale:
-	ansible-playbook cloudscale.yml -i $(INVENTORY) -e @$(VARS_FILE) -e "resource_prefix=$(CLOUD_RESOURCE_PREFIX)" -v $(TEST_FLAGS) ; \
-	RC=$$? ; \
-	exit $$RC;
-
-$(CONSUL_RUNNING):
-
-consul:
-ifeq ($(CONSUL_RUNNING), True)
-	ansible-playbook -i $(INVENTORY) consul.yml ; \
-	ansible-playbook -i ../../contrib/inventory/consul_io.py consul_inventory.yml
-else
-	@echo "Consul agent is not running locally. To run a cluster locally see http://github.com/sgargan/consul-vagrant"
-endif
-
-test_galaxy: test_galaxy_spec test_galaxy_yaml test_galaxy_git
-
-test_galaxy_spec: setup
-	mytmpdir=$(MYTMPDIR) ; \
-	ansible-galaxy install -r galaxy_rolesfile -p $$mytmpdir/roles -vvvv ; \
-    cp galaxy_playbook.yml $$mytmpdir ; \
-    ansible-playbook -i $(INVENTORY) $$mytmpdir/galaxy_playbook.yml -e @$(VARS_FILE) -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    rm -rf $$mytmpdir ; \
-    exit $$RC
-
-test_galaxy_yaml: setup
-	mytmpdir=$(MYTMPDIR) ; \
-	ansible-galaxy install -r galaxy_roles.yml -p $$mytmpdir/roles -vvvv; \
-    cp galaxy_playbook.yml $$mytmpdir ; \
-    ansible-playbook -i $(INVENTORY) $$mytmpdir/galaxy_playbook.yml -e @$(VARS_FILE) -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    rm -rf $$mytmpdir ; \
-    exit $$RC
-
-test_galaxy_git: setup
-	mytmpdir=$(MYTMPDIR) ; \
-	ansible-galaxy install git+https://bitbucket.org/willthames/git-ansible-galaxy,v1.6 -p $$mytmpdir/roles -vvvv; \
-    cp galaxy_playbook_git.yml $$mytmpdir ; \
-    ansible-playbook -i $(INVENTORY) $$mytmpdir/galaxy_playbook_git.yml -v $(TEST_FLAGS) ; \
-    RC=$$? ; \
-    rm -rf $$mytmpdir ; \
-    exit $$RC
diff --git a/test/legacy/aix_services.yml b/test/legacy/aix_services.yml
deleted file mode 100644
index 4da434c935..0000000000
--- a/test/legacy/aix_services.yml
+++ /dev/null
@@ -1,24 +0,0 @@
----
-- name: Services/Subsystems tests for AIX
-  hosts: localhost
-  connection: local
-  tasks:
-    - name: spooler shutdown
-      service:
-        name: spooler
-        state: started
-
-    - name: stopping sendmail
-      service:
-        name: sendmail
-        state: stopped
-
-    - name: starting sendmail
-      service:
-        name: sendmail
-        state: started
-
-    - name: starting an inexistent subsystem and group subsystem
-      service:
-        name: fakeservice
-        state: stopped
diff --git a/test/legacy/amazon.yml b/test/legacy/amazon.yml
deleted file mode 100644
index 18cf530eb5..0000000000
--- a/test/legacy/amazon.yml
+++ /dev/null
@@ -1,35 +0,0 @@
-- hosts: amazon
-  gather_facts: true
-  roles:
-    - { role: test_ec2_key, tags: test_ec2_key }
-    - { role: test_ec2_group, tags: test_ec2_group }
-    #- { role: test_ec2_vpc, tags: test_ec2_vpc }
-    #- { role: test_ec2_vol, tags: test_ec2_vol }
-    #- { role: test_ec2_tag, tags: test_ec2_tag }
-    #- { role: test_ec2_facts, tags: test_ec2_facts }
-    - { role: test_ec2_elb_lb, tags: test_ec2_elb_lb }
-    - { role: test_ec2_eip, tags: test_ec2_eip }
-    #- { role: test_ec2_ami, tags: test_ec2_ami }
-    #- { role: test_ec2, tags: test_ec2 }
-    - { role: test_ec2_asg, tags: test_ec2_asg }
-    - { role: test_ec2_vpc_nat_gateway, tags: test_ec2_vpc_nat_gateway }
-    - { role: test_ecs_ecr, tags: test_ecs_ecr }
-
-# complex test for ec2_elb, split up over multiple plays
-# since there is a setup component as well as the test which
-# runs on a different set of hosts (ec2 instances)
-
-- hosts: amazon
-  roles:
-    - { role: ec2_provision_instances, tags: test_ec2_elb, count: 5 }
-
-- hosts: ec2
-  gather_facts: no
-  remote_user: ec2-user
-  become: true
-  roles:
-    - { role: ec2_elb_instance_setup, tags: test_ec2_elb }
-
-- hosts: amazon
-  roles:
-    - { role: test_ec2_elb, tags: test_ec2_elb }
diff --git a/test/legacy/azure.yml b/test/legacy/azure.yml
deleted file mode 100644
index 4fceb2a13e..0000000000
--- a/test/legacy/azure.yml
+++ /dev/null
@@ -1,7 +0,0 @@
-- hosts: localhost
-  connection: local
-  gather_facts: no
-  tags:
-    - test_azure
-  roles:
-    - { role: test_azure }
diff --git a/test/legacy/cleanup_azure.py b/test/legacy/cleanup_azure.py
deleted file mode 100644
index e69de29bb2..0000000000
diff --git a/test/legacy/cleanup_ec2.py b/test/legacy/cleanup_ec2.py
deleted file mode 100644
index 826a720b1f..0000000000
--- a/test/legacy/cleanup_ec2.py
+++ /dev/null
@@ -1,207 +0,0 @@
-'''
-Find and delete AWS resources matching the provided --match string.  Unless
---yes|-y is provided, the prompt for confirmation prior to deleting resources.
-Please use caution, you can easily delete you're *ENTIRE* EC2 infrastructure.
-'''
-
-from __future__ import (absolute_import, division, print_function)
-__metaclass__ = type
-
-import boto
-import boto.ec2.elb
-import optparse
-import os
-import os.path
-import re
-import sys
-import time
-import yaml
-
-from ansible.module_utils.six.moves import input
-
-
-def delete_aws_resources(get_func, attr, opts):
-    for item in get_func():
-        val = getattr(item, attr)
-        if re.search(opts.match_re, val):
-            prompt_and_delete(item, "Delete matching %s? [y/n]: " % (item,), opts.assumeyes)
-
-
-def delete_autoscaling_group(get_func, attr, opts):
-    assumeyes = opts.assumeyes
-    group_name = None
-    for item in get_func():
-        group_name = getattr(item, attr)
-        if re.search(opts.match_re, group_name):
-            if not opts.assumeyes:
-                assumeyes = input("Delete matching %s? [y/n]: " % (item).lower()) == 'y'
-            break
-    if assumeyes and group_name:
-        groups = asg.get_all_groups(names=[group_name])
-        if groups:
-            group = groups[0]
-            group.max_size = 0
-            group.min_size = 0
-            group.desired_capacity = 0
-            group.update()
-            instances = True
-            while instances:
-                tmp_groups = asg.get_all_groups(names=[group_name])
-                if tmp_groups:
-                    tmp_group = tmp_groups[0]
-                    if not tmp_group.instances:
-                        instances = False
-                time.sleep(10)
-
-            group.delete()
-            while len(asg.get_all_groups(names=[group_name])):
-                time.sleep(5)
-            print("Terminated ASG: %s" % group_name)
-
-
-def delete_aws_eips(get_func, attr, opts):
-
-    # the file might not be there if the integration test wasn't run
-    try:
-        with open(opts.eip_log, 'r') as f:
-            eip_log = f.read().splitlines()
-    except IOError:
-        print('%s not found.' % opts.eip_log)
-        return
-
-    for item in get_func():
-        val = getattr(item, attr)
-        if val in eip_log:
-            prompt_and_delete(item, "Delete matching %s? [y/n]: " % (item,), opts.assumeyes)
-
-
-def delete_aws_instances(reservation, opts):
-    for list in reservation:
-        for item in list.instances:
-            prompt_and_delete(item, "Delete matching %s? [y/n]: " % (item,), opts.assumeyes)
-
-
-def prompt_and_delete(item, prompt, assumeyes):
-    if not assumeyes:
-        assumeyes = input(prompt).lower() == 'y'
-    assert hasattr(item, 'delete') or hasattr(item, 'terminate'), "Class <%s> has no delete or terminate attribute" % item.__class__
-    if assumeyes:
-        if hasattr(item, 'delete'):
-            item.delete()
-            print("Deleted %s" % item)
-        if hasattr(item, 'terminate'):
-            item.terminate()
-            print("Terminated %s" % item)
-
-
-def parse_args():
-    # Load details from credentials.yml
-    default_aws_access_key = os.environ.get('AWS_ACCESS_KEY', None)
-    default_aws_secret_key = os.environ.get('AWS_SECRET_KEY', None)
-    if os.path.isfile('credentials.yml'):
-        credentials = yaml.load(open('credentials.yml', 'r'))
-
-        if default_aws_access_key is None:
-            default_aws_access_key = credentials['ec2_access_key']
-        if default_aws_secret_key is None:
-            default_aws_secret_key = credentials['ec2_secret_key']
-
-    parser = optparse.OptionParser(
-        usage="%s [options]" % (sys.argv[0], ),
-        description=__doc__
-    )
-    parser.add_option(
-        "--access",
-        action="store", dest="ec2_access_key",
-        default=default_aws_access_key,
-        help="Amazon ec2 access id.  Can use EC2_ACCESS_KEY environment variable, or a values from credentials.yml."
-    )
-    parser.add_option(
-        "--secret",
-        action="store", dest="ec2_secret_key",
-        default=default_aws_secret_key,
-        help="Amazon ec2 secret key.  Can use EC2_SECRET_KEY environment variable, or a values from credentials.yml."
-    )
-    parser.add_option(
-        "--eip-log",
-        action="store", dest="eip_log",
-        default=None,
-        help="Path to log of EIPs created during test."
-    )
-    parser.add_option(
-        "--integration-config",
-        action="store", dest="int_config",
-        default="integration_config.yml",
-        help="path to integration config"
-    )
-    parser.add_option(
-        "--credentials", "-c",
-        action="store", dest="credential_file",
-        default="credentials.yml",
-        help="YAML file to read cloud credentials (default: %default)"
-    )
-    parser.add_option(
-        "--yes", "-y",
-        action="store_true", dest="assumeyes",
-        default=False,
-        help="Don't prompt for confirmation"
-    )
-    parser.add_option(
-        "--match",
-        action="store", dest="match_re",
-        default="^ansible-testing-",
-        help="Regular expression used to find AWS resources (default: %default)"
-    )
-
-    (opts, args) = parser.parse_args()
-    for required in ['ec2_access_key', 'ec2_secret_key']:
-        if getattr(opts, required) is None:
-            parser.error("Missing required parameter: --%s" % required)
-
-    return (opts, args)
-
-
-if __name__ == '__main__':
-
-    (opts, args) = parse_args()
-
-    int_config = yaml.load(open(opts.int_config).read())
-    if not opts.eip_log:
-        output_dir = os.path.expanduser(int_config["output_dir"])
-        opts.eip_log = output_dir + '/' + opts.match_re.replace('^', '') + '-eip_integration_tests.log'
-
-    # Connect to AWS
-    aws = boto.connect_ec2(aws_access_key_id=opts.ec2_access_key,
-                           aws_secret_access_key=opts.ec2_secret_key)
-
-    elb = boto.connect_elb(aws_access_key_id=opts.ec2_access_key,
-                           aws_secret_access_key=opts.ec2_secret_key)
-
-    asg = boto.connect_autoscale(aws_access_key_id=opts.ec2_access_key,
-                                 aws_secret_access_key=opts.ec2_secret_key)
-
-    try:
-        # Delete matching keys
-        delete_aws_resources(aws.get_all_key_pairs, 'name', opts)
-
-        # Delete matching security groups
-        delete_aws_resources(aws.get_all_security_groups, 'name', opts)
-
-        # Delete matching ASGs
-        delete_autoscaling_group(asg.get_all_groups, 'name', opts)
-
-        # Delete matching launch configs
-        delete_aws_resources(asg.get_all_launch_configurations, 'name', opts)
-
-        # Delete ELBs
-        delete_aws_resources(elb.get_all_load_balancers, 'name', opts)
-
-        # Delete recorded EIPs
-        delete_aws_eips(aws.get_all_addresses, 'public_ip', opts)
-
-        # Delete temporary instances
-        filters = {"tag:Name": opts.match_re.replace('^', ''), "instance-state-name": ['running', 'pending', 'stopped']}
-        delete_aws_instances(aws.get_all_instances(filters=filters), opts)
-
-    except KeyboardInterrupt as e:
-        print("\nExiting on user command.")
diff --git a/test/legacy/cleanup_gce.py b/test/legacy/cleanup_gce.py
deleted file mode 100644
index f98798a670..0000000000
--- a/test/legacy/cleanup_gce.py
+++ /dev/null
@@ -1,93 +0,0 @@
-'''
-Find and delete GCE resources matching the provided --match string.  Unless
---yes|-y is provided, the prompt for confirmation prior to deleting resources.
-Please use caution, you can easily delete your *ENTIRE* GCE infrastructure.
-'''
-
-import optparse
-import os
-import re
-import sys
-import yaml
-
-try:
-    from libcloud.common.google import (
-        GoogleBaseError,
-        QuotaExceededError,
-        ResourceExistsError,
-        ResourceInUseError,
-        ResourceNotFoundError,
-    )
-    from libcloud.compute.providers import get_driver
-    from libcloud.compute.types import Provider
-    _ = Provider.GCE
-except ImportError:
-    print("failed=True msg='libcloud with GCE support (0.13.3+) required for this module'")
-    sys.exit(1)
-
-import gce_credentials
-
-from ansible.module_utils.six.moves import input
-
-
-def delete_gce_resources(get_func, attr, opts):
-    for item in get_func():
-        val = getattr(item, attr)
-        if re.search(opts.match_re, val, re.IGNORECASE):
-            prompt_and_delete(item, "Delete matching %s? [y/n]: " % (item,), opts.assumeyes)
-
-
-def prompt_and_delete(item, prompt, assumeyes):
-    if not assumeyes:
-        assumeyes = input(prompt).lower() == 'y'
-    assert hasattr(item, 'destroy'), "Class <%s> has no delete attribute" % item.__class__
-    if assumeyes:
-        item.destroy()
-        print("Deleted %s" % item)
-
-
-def parse_args():
-    parser = optparse.OptionParser(
-        usage="%s [options]" % sys.argv[0],
-        description=__doc__
-    )
-    gce_credentials.add_credentials_options(parser)
-    parser.add_option(
-        "--yes", "-y",
-        action="store_true", dest="assumeyes",
-        default=False,
-        help="Don't prompt for confirmation"
-    )
-    parser.add_option(
-        "--match",
-        action="store", dest="match_re",
-        default="^ansible-testing-",
-        help="Regular expression used to find GCE resources (default: %default)"
-    )
-
-    (opts, args) = parser.parse_args()
-    gce_credentials.check_required(opts, parser)
-    return (opts, args)
-
-
-if __name__ == '__main__':
-
-    (opts, args) = parse_args()
-
-    # Connect to GCE
-    gce = gce_credentials.get_gce_driver(opts)
-
-    try:
-        # Delete matching instances
-        delete_gce_resources(gce.list_nodes, 'name', opts)
-
-        # Delete matching snapshots
-        def get_snapshots():
-            for volume in gce.list_volumes():
-                for snapshot in gce.list_volume_snapshots(volume):
-                    yield snapshot
-        delete_gce_resources(get_snapshots, 'name', opts)
-        # Delete matching disks
-        delete_gce_resources(gce.list_volumes, 'name', opts)
-    except KeyboardInterrupt as e:
-        print("\nExiting on user command.")
diff --git a/test/legacy/cleanup_rax.py b/test/legacy/cleanup_rax.py
deleted file mode 100755
index 1d7b1309a7..0000000000
--- a/test/legacy/cleanup_rax.py
+++ /dev/null
@@ -1,182 +0,0 @@
-#!/usr/bin/env python
-
-import os
-import re
-import yaml
-import argparse
-
-try:
-    import pyrax
-    HAS_PYRAX = True
-except ImportError:
-    HAS_PYRAX = False
-
-from ansible.module_utils.six.moves import input
-
-
-def rax_list_iterator(svc, *args, **kwargs):
-    method = kwargs.pop('method', 'list')
-    items = getattr(svc, method)(*args, **kwargs)
-    while items:
-        retrieved = getattr(svc, method)(*args, marker=items[-1].id, **kwargs)
-        if items and retrieved and items[-1].id == retrieved[0].id:
-            del items[-1]
-        items.extend(retrieved)
-        if len(retrieved) < 2:
-            break
-    return items
-
-
-def parse_args():
-    parser = argparse.ArgumentParser()
-    parser.add_argument('-y', '--yes', action='store_true', dest='assumeyes',
-                        default=False, help="Don't prompt for confirmation")
-    parser.add_argument('--match', dest='match_re',
-                        default='^ansible-testing',
-                        help='Regular expression used to find resources '
-                             '(default: %(default)s)')
-
-    return parser.parse_args()
-
-
-def authenticate():
-    try:
-        with open(os.path.realpath('./credentials.yml')) as f:
-            credentials = yaml.load(f)
-    except Exception as e:
-        raise SystemExit(e)
-
-    try:
-        pyrax.set_credentials(credentials.get('rackspace_username'),
-                              credentials.get('rackspace_api_key'))
-    except Exception as e:
-        raise SystemExit(e)
-
-
-def prompt_and_delete(item, prompt, assumeyes):
-    if not assumeyes:
-        assumeyes = input(prompt).lower() == 'y'
-    assert hasattr(item, 'delete') or hasattr(item, 'terminate'), \
-        "Class <%s> has no delete or terminate attribute" % item.__class__
-    if assumeyes:
-        if hasattr(item, 'delete'):
-            item.delete()
-            print("Deleted %s" % item)
-        if hasattr(item, 'terminate'):
-            item.terminate()
-            print("Terminated %s" % item)
-
-
-def delete_rax(args):
-    """Function for deleting CloudServers"""
-    print("--- Cleaning CloudServers matching '%s'" % args.match_re)
-    search_opts = dict(name='^%s' % args.match_re)
-    for region in pyrax.identity.services.compute.regions:
-        cs = pyrax.connect_to_cloudservers(region=region)
-        servers = rax_list_iterator(cs.servers, search_opts=search_opts)
-        for server in servers:
-            prompt_and_delete(server,
-                              'Delete matching %s? [y/n]: ' % server,
-                              args.assumeyes)
-
-
-def delete_rax_clb(args):
-    """Function for deleting Cloud Load Balancers"""
-    print("--- Cleaning Cloud Load Balancers matching '%s'" % args.match_re)
-    for region in pyrax.identity.services.load_balancer.regions:
-        clb = pyrax.connect_to_cloud_loadbalancers(region=region)
-        for lb in rax_list_iterator(clb):
-            if re.search(args.match_re, lb.name):
-                prompt_and_delete(lb,
-                                  'Delete matching %s? [y/n]: ' % lb,
-                                  args.assumeyes)
-
-
-def delete_rax_keypair(args):
-    """Function for deleting Rackspace Key pairs"""
-    print("--- Cleaning Key Pairs matching '%s'" % args.match_re)
-    for region in pyrax.identity.services.compute.regions:
-        cs = pyrax.connect_to_cloudservers(region=region)
-        for keypair in cs.keypairs.list():
-            if re.search(args.match_re, keypair.name):
-                prompt_and_delete(keypair,
-                                  'Delete matching %s? [y/n]: ' % keypair,
-                                  args.assumeyes)
-
-
-def delete_rax_network(args):
-    """Function for deleting Cloud Networks"""
-    print("--- Cleaning Cloud Networks matching '%s'" % args.match_re)
-    for region in pyrax.identity.services.network.regions:
-        cnw = pyrax.connect_to_cloud_networks(region=region)
-        for network in cnw.list():
-            if re.search(args.match_re, network.name):
-                prompt_and_delete(network,
-                                  'Delete matching %s? [y/n]: ' % network,
-                                  args.assumeyes)
-
-
-def delete_rax_cbs(args):
-    """Function for deleting Cloud Networks"""
-    print("--- Cleaning Cloud Block Storage matching '%s'" % args.match_re)
-    for region in pyrax.identity.services.network.regions:
-        cbs = pyrax.connect_to_cloud_blockstorage(region=region)
-        for volume in cbs.list():
-            if re.search(args.match_re, volume.name):
-                prompt_and_delete(volume,
-                                  'Delete matching %s? [y/n]: ' % volume,
-                                  args.assumeyes)
-
-
-def delete_rax_cdb(args):
-    """Function for deleting Cloud Databases"""
-    print("--- Cleaning Cloud Databases matching '%s'" % args.match_re)
-    for region in pyrax.identity.services.database.regions:
-        cdb = pyrax.connect_to_cloud_databases(region=region)
-        for db in rax_list_iterator(cdb):
-            if re.search(args.match_re, db.name):
-                prompt_and_delete(db,
-                                  'Delete matching %s? [y/n]: ' % db,
-                                  args.assumeyes)
-
-
-def _force_delete_rax_scaling_group(manager):
-    def wrapped(uri):
-        manager.api.method_delete('%s?force=true' % uri)
-    return wrapped
-
-
-def delete_rax_scaling_group(args):
-    """Function for deleting Autoscale Groups"""
-    print("--- Cleaning Autoscale Groups matching '%s'" % args.match_re)
-    for region in pyrax.identity.services.autoscale.regions:
-        asg = pyrax.connect_to_autoscale(region=region)
-        for group in rax_list_iterator(asg):
-            if re.search(args.match_re, group.name):
-                group.manager._delete = \
-                    _force_delete_rax_scaling_group(group.manager)
-                prompt_and_delete(group,
-                                  'Delete matching %s? [y/n]: ' % group,
-                                  args.assumeyes)
-
-
-def main():
-    if not HAS_PYRAX:
-        raise SystemExit('The pyrax python module is required for this script')
-
-    args = parse_args()
-    authenticate()
-
-    funcs = [f for n, f in globals().items() if n.startswith('delete_rax')]
-    for func in sorted(funcs, key=lambda f: f.__name__):
-        try:
-            func(args)
-        except Exception as e:
-            print("---- %s failed (%s)" % (func.__name__, e.message))
-
-
-if __name__ == '__main__':
-    try:
-        main()
-    except KeyboardInterrupt:
-        print('\nExiting...')
diff --git a/test/legacy/cloudflare.yml b/test/legacy/cloudflare.yml
deleted file mode 100644
index ddae6f26da..0000000000
--- a/test/legacy/cloudflare.yml
+++ /dev/null
@@ -1,8 +0,0 @@
----
-- hosts: localhost
-  connection: local
-  gather_facts: no
-  tags:
-    - cloudflare
-  roles:
-    - { role: test_cloudflare_dns, tags: test_cloudflare_dns }
diff --git a/test/legacy/cnos.yaml b/test/legacy/cnos.yaml
deleted file mode 100644
index eab7a87943..0000000000
--- a/test/legacy/cnos.yaml
+++ /dev/null
@@ -1,24 +0,0 @@
-- hosts: cnos
-  gather_facts: no
-  connection: local
-
-  vars:
-    limit_to: "*"
-    debug: false
-
-  roles:
-        - { role: cnos_facts, when: "limit_to in ['*', 'cnos_facts']" }
-        - { role: cnos_vlan, when: "limit_to in ['*', 'cnos_vlan']" }
-        - { role: cnos_ethernet, when: "limit_to in ['*', 'cnos_ethernet']" }
-        - { role: cnos_image, when: "limit_to in ['*', 'cnos_image']" }
-        - { role: cnos_portchannel, when: "limit_to in ['*', 'cnos_portchannel']" }
-        - { role: cnos_rollback, when: "limit_to in ['*', 'cnos_rollback']" }
-        - { role: cnos_save, when: "limit_to in ['*', 'cnos_save']" }
-        - { role: cnos_template, when: "limit_to in ['*', 'cnos_template']" }
-        - { role: cnos_conditional_template, when: "limit_to in ['*', 'cnos_conditional_template']" }
-        - { role: cnos_conditional_command, when: "limit_to in ['*', 'cnos_conditional_command']" }
-        - { role: cnos_vlag, when: "limit_to in ['*', 'cnos_vlag']" }
-        - { role: cnos_command, when: "limit_to in ['*', 'cnos_command']" }
-        - { role: cnos_bgp, when: "limit_to in ['*', 'cnos_bgp']" }
-        - { role: cnos_backup, when: "limit_to in ['*', 'cnos_backup']" }
-        - { role: cnos_showrun, when: "limit_to in ['*', 'cnos_showrun']" }
\ No newline at end of file
diff --git a/test/legacy/connection-buildah.yaml b/test/legacy/connection-buildah.yaml
deleted file mode 100644
index 336857f932..0000000000
--- a/test/legacy/connection-buildah.yaml
+++ /dev/null
@@ -1,5 +0,0 @@
-- hosts: buildah-container
-  connection: buildah
-  gather_facts: no
-  roles:
-    - { role: connection_buildah }
diff --git a/test/legacy/consul.yml b/test/legacy/consul.yml
deleted file mode 100644
index 90288f2bdb..0000000000
--- a/test/legacy/consul.yml
+++ /dev/null
@@ -1,78 +0,0 @@
-- hosts: localhost
-  connection: local
-  gather_facts: false
-
-  vars:
-    # these are the defaults from the consul-vagrant cluster setup
-    - mgmt_token: '4791402A-D875-4C18-8316-E652DBA53B18'
-    - acl_host: '11.0.0.2'
-    - metadata_json: '{"clearance": "top_secret"}'
-
-  pre_tasks:
-    # this works except for the KV_lookusp
-    - name: check that the consul agent is running locally
-      local_action: wait_for port=8500 timeout=5
-      ignore_errors: true
-      register: consul_running
-
-  roles:
-    - {role: test_consul_service,
-       when: not consul_running.failed is defined}
-
-    - {role: test_consul_kv,
-       when: not consul_running.failed is defined}
-
-    - {role: test_consul_acl,
-       when: not consul_running.failed is defined}
-
-    - {role: test_consul_session,
-       when: not consul_running.failed is defined}
-
-  tasks:
-    - name: setup services with passing check for consul inventory test
-      consul:
-        service_name: nginx
-        service_port: 80
-        script: "sh -c true"
-        interval: 5
-        token: '4791402A-D875-4C18-8316-E652DBA53B18'
-        tags:
-          - dev
-          - master
-
-    - name: setup failing service for inventory test
-      consul:
-        service_name: nginx
-        service_port: 443
-        script: "sh -c false"
-        interval: 5
-        tags:
-          - qa
-          - slave
-
-    - name: setup ssh service for inventory test
-      consul:
-        service_name: ssh
-        service_port: 2222
-        script: "sh -c true"
-        interval: 5
-        token: '4791402A-D875-4C18-8316-E652DBA53B18'
-
-    - name: update the Anonymous token to allow anon access to kv store
-      consul_acl:
-        mgmt_token: '{{mgmt_token}}'
-        host: '{{acl_host}}'
-        token: 'anonymous'
-        rules:
-          - key: ''
-            policy: write
-
-    - name: add metadata for the node through kv_store
-      consul_kv: "key=ansible/metadata/dc1/consul-1 value='{{metadata_json}}'"
-
-    - name: add metadata for the node through kv_store
-      consul_kv: key=ansible/groups/dc1/consul-1 value='a_group, another_group'
-
-    - name: warn that tests are ignored if consul agent is not running
-      debug: msg="A consul agent needs to be running inorder to run the tests. To setup a vagrant cluster for use in testing see http://github.com/sgargan/consul-vagrant"
-      when: consul_running.failed is defined
diff --git a/test/legacy/consul_inventory.yml b/test/legacy/consul_inventory.yml
deleted file mode 100644
index 0007a0965d..0000000000
--- a/test/legacy/consul_inventory.yml
+++ /dev/null
@@ -1,19 +0,0 @@
-- hosts: all;!localhost
-  gather_facts: false
-
-  pre_tasks:
-    - name: check that the consul agent is running locally
-      local_action: wait_for port=8500 timeout=5
-      ignore_errors: true
-      register: consul_running
-
-  roles:
-
-    - {role: test_consul_inventory,
-       when: not consul_running.failed is defined}
-
-  tasks:
-
-    - name: warn that tests are ignored if consul agent is not running
-      debug: msg="A consul agent needs to be running inorder to run the tests. To setup a vagrant cluster for use in testing see http://github.com/sgargan/consul-vagrant"
-      when: consul_running.failed is defined
diff --git a/test/legacy/consul_running.py b/test/legacy/consul_running.py
deleted file mode 100644
index 0772cd4046..0000000000
--- a/test/legacy/consul_running.py
+++ /dev/null
@@ -1,11 +0,0 @@
-''' Checks that the consul agent is running locally. '''
-
-if __name__ == '__main__':
-
-    try:
-        import consul
-        consul = consul.Consul(host='0.0.0.0', port=8500)
-        consul.catalog.nodes()
-        print("True")
-    except Exception:
-        pass
diff --git a/test/legacy/credentials.template b/test/legacy/credentials.template
deleted file mode 100644
index 72e30f9f56..0000000000
--- a/test/legacy/credentials.template
+++ /dev/null
@@ -1,26 +0,0 @@
----
-# Rackspace Credentials
-rackspace_username:
-rackspace_api_key:
-rackspace_region:
-
-# AWS Credentials
-ec2_access_key:
-ec2_secret_key:
-security_token:
-
-# GCE Credentials
-gce_service_account_email:
-gce_pem_file:
-gce_project_id:
-
-# Azure Credentials
-azure_subscription_id: "{{ lookup('env', 'AZURE_SUBSCRIPTION_ID') }}"
-azure_cert_path: "{{ lookup('env', 'AZURE_CERT_PATH') }}"
-
-# Cloudflare Credentials
-cloudflare_api_token:
-cloudflare_email:
-cloudflare_zone:
-
-digitalocean_oauth_token: "{{ lookup('env', 'DO_API_TOKEN') }}"
diff --git a/test/legacy/digital_ocean.yml b/test/legacy/digital_ocean.yml
deleted file mode 100644
index f87a5227b7..0000000000
--- a/test/legacy/digital_ocean.yml
+++ /dev/null
@@ -1,9 +0,0 @@
-- hosts: localhost
-  connection: local
-  gather_facts: no
-  tags:
-    - test_digital_ocean
-  vars:
-    dummy_ssh_pub_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCzTSH4WVqnK2kUgtbs2VryNUXBaox7SoXPmV4yMP4INPAndrtPTS3BRzBPrJwQSwjsT7y3kBLNIHGppxLFMoQTEL03WlMDfM1TthMT7Y5B65wOUMxdwbSn9zlblAqbbRg7XU/UgNZb+B2kBPepPRJlh1ap4CPTNrbzdKlmwqS4X3+hX/WM3Gt3S09eNxUKDBK18Fbf/yKvhXP4bGtD0cxYNKL4qoGjEZTkjiYQyC4TvfuZaUtOFpiMLPAt0V7ao2S2bKr8hAgxl9MtrJpa2q1FueAjljMSBWUhOjFgmO0SpWDcBu157vMtscmtUC2cMpQwAY2HQyMJAYs0HOa59dpUKtxBR3LwjXyZvL+RbjEbzZjp4JQSer/bB/jekrxHAIABCwdFmx6qBGNVqDdfT7o+OcEJaAvk4gKEFI24OU8k6WF4ss97VfxlvIT6Bq2p04oUsxN0qh9aSjRVfqJmhkSocf+1iGWGfa4DMFpeQAXCzUkhJS5ecYXSDmyMHGtl7OfhLnncUDHVRjhsmrCFb5kkHHVfNd601ixixydInlssUhQRRzhnJ+ciTh/x7ARDfwMendHTTHCj5sO1IvnOJdCcX4FTMKp1GLo6eaK738o9w4rWL0bs3kWJfxWg91QegwZW0r8xSJBtga7HyQafxivhwEN8knN8HuD47iBuAL+VTw==
-  roles:
-    - { role: test_digital_ocean, tags: test_digital_ocean }
diff --git a/test/legacy/exoscale.yml b/test/legacy/exoscale.yml
deleted file mode 100644
index a6f5621bd2..0000000000
--- a/test/legacy/exoscale.yml
+++ /dev/null
@@ -1,5 +0,0 @@
----
-- hosts: localhost
-  gather_facts: no
-  roles:
-    - { role: test_exoscale_dns, tags: test_exoscale_dns }
diff --git a/test/legacy/galaxy_playbook.yml b/test/legacy/galaxy_playbook.yml
deleted file mode 100644
index 8e64798c70..0000000000
--- a/test/legacy/galaxy_playbook.yml
+++ /dev/null
@@ -1,7 +0,0 @@
-- hosts: localhost
-  connection: local
-
-  roles:
-  - "git-ansible-galaxy"
-  - "http-role"
-  - "hg-ansible-galaxy"
diff --git a/test/legacy/galaxy_playbook_git.yml b/test/legacy/galaxy_playbook_git.yml
deleted file mode 100644
index 1d9b03b22a..0000000000
--- a/test/legacy/galaxy_playbook_git.yml
+++ /dev/null
@@ -1,5 +0,0 @@
-- hosts: localhost
-  connection: local
-
-  roles:
-  - "git-ansible-galaxy"
diff --git a/test/legacy/galaxy_roles.yml b/test/legacy/galaxy_roles.yml
deleted file mode 100644
index b323ffef6f..0000000000
--- a/test/legacy/galaxy_roles.yml
+++ /dev/null
@@ -1,16 +0,0 @@
-# change these to some ansible owned test roles
-- src: briancoca.oracle_java7
-  name: oracle_java7
-
-- src: git+http://bitbucket.org/willthames/git-ansible-galaxy
-  version: pr-10620
-
-- src: http://bitbucket.org/willthames/hg-ansible-galaxy
-  scm: hg
-
-- src: https://bitbucket.org/willthames/http-ansible-galaxy/get/master.tar.gz
-  name: http-role
-
-- src: git@github.com:geerlingguy/ansible-role-php.git
-  scm: git
-  name: php
diff --git a/test/legacy/galaxy_rolesfile b/test/legacy/galaxy_rolesfile
deleted file mode 100644
index 047eef9550..0000000000
--- a/test/legacy/galaxy_rolesfile
+++ /dev/null
@@ -1,8 +0,0 @@
-# deliberate non-empty whitespace line to follow
-    
-
-git+https://bitbucket.org/willthames/git-ansible-galaxy,pr-10620
-hg+https://bitbucket.org/willthames/hg-ansible-galaxy
-https://bitbucket.org/willthames/http-ansible-galaxy/get/master.tar.gz,,http-role
-# comment
-git+git@github.com:geerlingguy/ansible-role-php.git
diff --git a/test/legacy/gce.yml b/test/legacy/gce.yml
deleted file mode 100644
index 72fb420482..0000000000
--- a/test/legacy/gce.yml
+++ /dev/null
@@ -1,14 +0,0 @@
-- hosts: testhost
-  gather_facts: true
-  roles:
-    - { role: test_gce, tags: test_gce }
-    - { role: test_gce_pd, tags: test_gce_pd }
-    - { role: test_gce_mig, tags: test_gce_mig }
-    - { role: test_gcdns, tags: test_gcdns }
-    - { role: test_gce_tag, tags: test_gce_tag }
-    - { role: test_gce_net, tags: test_gce_net }
-    - { role: test_gcp_url_map, tags: test_gcp_url_map }
-    - { role: test_gcp_glb, tags: test_gcp_glb }
-    - { role: test_gcp_healthcheck, tags: test_gcp_healthcheck }
-    - { role: test_gce_labels, tags: test_gce_labels }
-    # TODO: tests for gce_lb, gc_storage
diff --git a/test/legacy/gce_credentials.py b/test/legacy/gce_credentials.py
deleted file mode 100644
index 4d3b540fe5..0000000000
--- a/test/legacy/gce_credentials.py
+++ /dev/null
@@ -1,52 +0,0 @@
-import collections
-import os
-import sys
-import yaml
-
-try:
-    from libcloud.compute.types import Provider
-    from libcloud.compute.providers import get_driver
-    _ = Provider.GCE
-except ImportError:
-    print("failed=True msg='libcloud with GCE support (0.13.3+) required for this module'")
-    sys.exit(1)
-
-
-def add_credentials_options(parser):
-    default_service_account_email = None
-    default_pem_file = None
-    default_project_id = None
-
-    # Load details from credentials.yml
-    if os.path.isfile('credentials.yml'):
-        credentials = yaml.load(open('credentials.yml', 'r'))
-        default_service_account_email = credentials[
-            'gce_service_account_email']
-        default_pem_file = credentials['gce_pem_file']
-        default_project_id = credentials['gce_project_id']
-
-    parser.add_option(
-        "--service_account_email", action="store",
-        dest="service_account_email", default=default_service_account_email,
-        help="GCE service account email. Default is loaded from credentials.yml.")
-    parser.add_option(
-        "--pem_file", action="store", dest="pem_file",
-        default=default_pem_file,
-        help="GCE client key. Default is loaded from credentials.yml.")
-    parser.add_option(
-        "--project_id", action="store", dest="project_id",
-        default=default_project_id,
-        help="Google Cloud project ID. Default is loaded from credentials.yml.")
-
-
-def check_required(opts, parser):
-    for required in ['service_account_email', 'pem_file', 'project_id']:
-        if getattr(opts, required) is None:
-            parser.error("Missing required parameter: --%s" % required)
-
-
-def get_gce_driver(opts):
-    # Connect to GCE
-    gce_cls = get_driver(Provider.GCE)
-    return gce_cls(opts.service_account_email, opts.pem_file,
-                   project=opts.project_id)
diff --git a/test/legacy/group_vars/all b/test/legacy/group_vars/all
deleted file mode 100644
index 0f8a226030..0000000000
--- a/test/legacy/group_vars/all
+++ /dev/null
@@ -1,17 +0,0 @@
-a: 999
-b: 998
-c: 997
-d: 996
-uno: 1
-dos: 2
-tres: 3
-etest: 'from group_vars'
-inventory_beats_default: 'narf'
-# variables used for hash merging behavior testing
-test_hash:
-  group_vars_all: "this is in group_vars/all"
-# variables used for conditional testing
-test_bare: true
-test_bare_var: 123
-test_bare_nested_good: "test_bare_var == 123"
-test_bare_nested_bad: "{{test_bare_var}} == 321"
diff --git a/test/legacy/group_vars/amazon b/test/legacy/group_vars/amazon
deleted file mode 100644
index 3d7209ef1b..0000000000
--- a/test/legacy/group_vars/amazon
+++ /dev/null
@@ -1,3 +0,0 @@
----
-ec2_url: ec2.amazonaws.com
-ec2_region: us-east-1
diff --git a/test/legacy/group_vars/local b/test/legacy/group_vars/local
deleted file mode 100644
index 4bb5f3a24c..0000000000
--- a/test/legacy/group_vars/local
+++ /dev/null
@@ -1,3 +0,0 @@
-tres: 'three'
-hash_test:
-  group_vars_local: "this is in group_vars/local"
diff --git a/test/legacy/group_vars/vyos.yaml b/test/legacy/group_vars/vyos.yaml
deleted file mode 100644
index 43c37b11cc..0000000000
--- a/test/legacy/group_vars/vyos.yaml
+++ /dev/null
@@ -1,5 +0,0 @@
----
-cli:
-  host: "{{ ansible_ssh_host }}"
-#  username: "{{ vyos_cli_user | default('ansible-admin') }}"
-#  password: "{{ vyos_cli_pass | default('adminpw') }}"
diff --git a/test/legacy/host_vars/testhost b/test/legacy/host_vars/testhost
deleted file mode 100644
index 4d04a96cbc..0000000000
--- a/test/legacy/host_vars/testhost
+++ /dev/null
@@ -1,10 +0,0 @@
-a: 1
-b: 2
-c: 3
-d: 4
-role_var_beats_inventory: 'should_not_see_this'
-test_hash:
-  host_vars_testhost: "this is in host_vars/testhost"
-
-# Var precedence testing
-defaults_file_var_role3: "overridden from inventory"
diff --git a/test/legacy/integration_config.yml b/test/legacy/integration_config.yml
deleted file mode 100644
index 3159daf196..0000000000
--- a/test/legacy/integration_config.yml
+++ /dev/null
@@ -1,5 +0,0 @@
----
-win_output_dir: 'C:\ansible_testing'
-output_dir: ~/ansible_testing
-non_root_test_user: ansible
-pip_test_package: isort
diff --git a/test/legacy/inventory b/test/legacy/inventory
deleted file mode 100644
index 3534b8cb8a..0000000000
--- a/test/legacy/inventory
+++ /dev/null
@@ -1,55 +0,0 @@
-[local]
-testhost ansible_ssh_host=127.0.0.1 ansible_connection=local
-testhost2 ansible_ssh_host=127.0.0.1 ansible_connection=local
-# For testing delegate_to
-testhost3 ansible_ssh_host=127.0.0.3
-testhost4 ansible_ssh_host=127.0.0.4
-# For testing fact gathering
-facthost[0:20] ansible_host=127.0.0.1 ansible_connection=local
-
-[binary_modules]
-testhost_binary_modules ansible_host=127.0.0.1 ansible_connection=local
-
-[local_group]
-kube-pippin.knf.local
-
-# the following inline declarations are accompanied
-# by (preferred) group_vars/ and host_vars/ variables
-# and are used in testing of variable precedence
-
-[inven_overridehosts]
-invenoverride ansible_ssh_host=127.0.0.1 ansible_connection=local
-
-[all:vars]
-extra_var_override=FROM_INVENTORY
-inven_var=inventory_var
-unicode_host_var=CafEyei
-
-[inven_overridehosts:vars]
-foo=foo
-var_dir=vars
-
-[arbitrary_parent:children]
-local
-
-[local:vars]
-parent_var=6000
-groups_tree_var=5000
-
-[arbitrary_parent:vars]
-groups_tree_var=4000
-overridden_in_parent=1000
-
-[arbitrary_grandparent:children]
-arbitrary_parent
-
-[arbitrary_grandparent:vars]
-groups_tree_var=3000
-grandparent_var=2000
-overridden_in_parent=2000
-
-[amazon]
-localhost ansible_ssh_host=127.0.0.1 ansible_connection=local
-
-[azure]
-localhost ansible_ssh_host=127.0.0.1 ansible_connection=local
diff --git a/test/legacy/inventory.yaml b/test/legacy/inventory.yaml
deleted file mode 100644
index 25760b347c..0000000000
--- a/test/legacy/inventory.yaml
+++ /dev/null
@@ -1,62 +0,0 @@
-all:
-    children:
-        local:
-            hosts:
-                testhost:
-                    ansible_host: 127.0.0.1
-                    ansible_connection: local
-                testhost2:
-                    ansible_host: 127.0.0.1
-                    ansible_connection: local
-                # For testing delegate_to
-                testhost3:
-                    ansible_ssh_host: 127.0.0.3
-                testhost4:
-                    ansible_ssh_host: 127.0.0.4
-                # For testing fact gathering
-                'facthost[0:20]':
-                    ansible_host: 1270.0.0.1
-                    ansible_connection: local
-            vars:
-                parent_var: 6000
-                groups_tree_var: 5000
-
-        binary_modules:
-            hosts:
-                testhost_binary_modules:
-                    ansible_host: 127.0.0.1
-                    ansible_connection: local
-
-        inven_overridehosts:
-            desc: |
-                the following inline declarations are accompanied# by (preferred) group_vars/ and host_vars/ variables and
-                are used in testing of variable precedence
-            hosts:
-                invenoverride:
-                    ansible_ssh_host: 127.0.0.1
-                    ansible_connection: local
-            vars:
-                foo: foo
-                var_dir: vars
-
-        arbitrary_grandparent:
-            children:
-                arbitrary_parent:
-                    children:
-                        local:
-                vars:
-                    groups_tree_var: 4000
-                    overridden_in_parent: 1000
-            vars:
-                groups_tree_var: 3000
-                grandparent_var: 2000
-                overridden_in_parent: 2000
-        amazon:
-            hosts:
-                localhost:
-                    ansible_ssh_host: 127.0.0.1
-                    ansible_connection: local
-    vars:
-        extra_var_override: FROM_INVENTORY
-        inven_var: inventory_var
-        unicode_host_var: CafEyei
diff --git a/test/legacy/jenkins.yml b/test/legacy/jenkins.yml
deleted file mode 100644
index a20e4bdc2b..0000000000
--- a/test/legacy/jenkins.yml
+++ /dev/null
@@ -1,8 +0,0 @@
----
-- hosts: localhost
-  connection: local
-  gather_facts: no
-  tags:
-    - jenkins
-  roles:
-    - test_jenkins_job
diff --git a/test/legacy/netscaler.yaml b/test/legacy/netscaler.yaml
deleted file mode 100644
index ee35939eb2..0000000000
--- a/test/legacy/netscaler.yaml
+++ /dev/null
@@ -1,25 +0,0 @@
----
-
-- hosts: netscaler
-
-  gather_facts: no
-  connection: local
-
-  vars:
-    limit_to: "*"
-    debug: false
-
-  roles:
-    - { role: netscaler_cs_action, when: "limit_to in ['*', 'netscaler_cs_action']" }
-    - { role: netscaler_cs_policy, when: "limit_to in ['*', 'netscaler_cs_policy']" }
-    - { role: netscaler_cs_vserver, when: "limit_to in ['*', 'netscaler_cs_vserver']" }
-    - { role: netscaler_server, when: "limit_to in ['*', 'netscaler_server']" }
-    - { role: netscaler_lb_vserver, when: "limit_to in ['*', 'netscaler_lb_vserver']" }
-    - { role: netscaler_lb_monitor, when: "limit_to in ['*', 'netscaler_lb_monitor']" }
-    - { role: netscaler_save_config, when: "limit_to in ['*', 'netscaler_save_config']" }
-    - { role: netscaler_service, when: "limit_to in ['*', 'netscaler_service']" }
-    - { role: netscaler_servicegroup, when: "limit_to in ['*', 'netscaler_servicegroup']" }
-    - { role: netscaler_gslb_service, when: "limit_to in ['*', 'netscaler_gslb_service']" }
-    - { role: netscaler_gslb_site, when: "limit_to in ['*', 'netscaler_gslb_site']" }
-    - { role: netscaler_gslb_vserver, when: "limit_to in ['*', 'netscaler_gslb_vserver']" }
-    - { role: netscaler_ssl_certkey, when: "limit_to in ['*', 'netscaler_ssl_certkey']" }
diff --git a/test/legacy/nuage.yaml b/test/legacy/nuage.yaml
deleted file mode 100644
index b59efbdcd9..0000000000
--- a/test/legacy/nuage.yaml
+++ /dev/null
@@ -1,11 +0,0 @@
----
-- hosts: nuage
-  gather_facts: no
-  connection: local
-
-  vars:
-    limit_to: "*"
-    debug: false
-
-  roles:
-  - { role: nuage_vspk, when: "limit_to in ['*', 'nuage_vspk']" }
\ No newline at end of file
diff --git a/test/legacy/online.yml b/test/legacy/online.yml
deleted file mode 100644
index a64a5afa3b..0000000000
--- a/test/legacy/online.yml
+++ /dev/null
@@ -1,8 +0,0 @@
----
-- hosts: localhost
-  gather_facts: no
-  connection: local
-
-  roles:
-    - { role: online_server_info, tags: test_online_server_info }
-    - { role: online_user_info, tags: test_online_user_info }
diff --git a/test/legacy/opennebula.yml b/test/legacy/opennebula.yml
deleted file mode 100644
index 66f38d904e..0000000000
--- a/test/legacy/opennebula.yml
+++ /dev/null
@@ -1,7 +0,0 @@
----
-- hosts: localhost
-  roles:
-    - { role: one_vm, tags: test_one_vm }
-    - { role: one_image, tags: test_one_image }
-    - { role: one_image_info, tags: test_one_image_info }
-    - { role: one_service, tags: test_one_service }
diff --git a/test/legacy/ovs.yaml b/test/legacy/ovs.yaml
deleted file mode 100644
index 35d3acc0fd..0000000000
--- a/test/legacy/ovs.yaml
+++ /dev/null
@@ -1,36 +0,0 @@
----
-- hosts: ovs
-  gather_facts: no
-  remote_user: ubuntu
-  become: yes
-
-  vars:
-    limit_to: "*"
-    debug: false
-
-# Run the tests within blocks allows the next module to be tested if the previous one fails.
-# This is done to allow https://github.com/ansible/dci-partner-ansible/ to run the full set of tests.
-
-
-  tasks:
-    - set_fact:
-        test_failed: false
-        failed_modules: []
-    - block:
-      - include_role:
-          name: openvswitch_db
-        when: "limit_to in ['*', 'openvswitch_db']"
-      rescue:
-        - set_fact:
-            failed_modules: "{{ failed_modules + [ 'openvswitch_db' ]}}"
-            test_failed: true
-
-
-###########
-    - debug: var=failed_modules
-      when: test_failed
-
-    - name: Has any previous test failed?
-      fail:
-        msg: "One or more tests failed, check log for details"
-      when: test_failed
diff --git a/test/legacy/rackspace.yml b/test/legacy/rackspace.yml
deleted file mode 100644
index 0fd56dc300..0000000000
--- a/test/legacy/rackspace.yml
+++ /dev/null
@@ -1,45 +0,0 @@
----
-- hosts: localhost
-  connection: local
-  gather_facts: false
-  tags:
-    - rackspace
-  roles:
-    - role: test_rax
-      tags: test_rax
-
-    - role: test_rax_facts
-      tags: test_rax_facts
-
-    - role: test_rax_meta
-      tags: test_rax_meta
-
-    - role: test_rax_keypair
-      tags: test_rax_keypair
-
-    - role: test_rax_clb
-      tags: test_rax_clb
-
-    - role: test_rax_clb_nodes
-      tags: test_rax_clb_nodes
-
-    - role: test_rax_network
-      tags: test_rax_network
-
-    - role: test_rax_cbs
-      tags: test_rax_cbs
-
-    - role: test_rax_cbs_attachments
-      tags: test_rax_cbs_attachments
-
-    - role: test_rax_identity
-      tags: test_rax_identity
-
-    - role: test_rax_cdb
-      tags: test_rax_cdb
-
-    - role: test_rax_cdb_database
-      tags: test_rax_cdb_database
-
-    - role: test_rax_scaling_group
-      tags: test_rax_scaling_group
diff --git a/test/legacy/roles/azure_rm_networkinterface/tasks/main.yml b/test/legacy/roles/azure_rm_networkinterface/tasks/main.yml
deleted file mode 100644
index 9bacb6e42a..0000000000
--- a/test/legacy/roles/azure_rm_networkinterface/tasks/main.yml
+++ /dev/null
@@ -1,339 +0,0 @@
-- name: Create virtual network
-  azure_rm_virtualnetwork:
-      name: vnet001
-      resource_group: "{{ resource_group }}"
-      address_prefixes_cidr: "10.10.0.0/16"
-  register: output
-
-- name: Create subnet
-  azure_rm_subnet:
-      name: subnet001
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet001
-      address_prefix_cidr: "10.10.0.0/24"
-  register: output
-
-- name: Create second virtual network
-  azure_rm_virtualnetwork:
-      name: vnet002
-      resource_group: "{{ resource_group }}"
-      address_prefixes_cidr: "10.20.0.0/16"
-  register: output
-
-- name: Create second subnet
-  azure_rm_subnet:
-      name: subnet002
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet002
-      address_prefix_cidr: "10.20.0.0/24"
-  register: output
-
-- name: Create security group
-  azure_rm_securitygroup:
-      name: secgroup001
-      resource_group: "{{ resource_group }}"
-  register: output
-
-- name: Create second security group
-  azure_rm_securitygroup:
-      name: secgroup002
-      resource_group: "{{ resource_group }}"
-  register: output
-
-- name: Create a public ip
-  azure_rm_publicipaddress:
-      name: publicip001
-      resource_group: "{{ resource_group }}"
-      allocation_method: "Static"
-  register: output
-
-- name: Create second public ip
-  azure_rm_publicipaddress:
-      name: publicip002
-      resource_group: "{{ resource_group }}"
-      allocation_method: "Static"
-  register: output
-
-- name: Delete network interface, if it exists
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      state: absent
-  register: output
-
-- name: Should require subnet when creating nic
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet001
-      security_group_name: secgroup001
-      public_ip_address_name: publicip001
-  register: output
-  ignore_errors: yes
-
-- assert:
-      that:
-          - output.failed
-          - "'subnet' in output.msg"
-
-- name: Should require virtual network when creating nic
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      security_group_name: secgroup001
-      public_ip_address_name: publicip001
-      subnet: subnet001
-  register: output
-  ignore_errors: yes
-
-- assert:
-      that:
-          - output.failed
-          - "'virtual_network_name' in output.msg"
-
-- name: Create nic
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet001
-      subnet: subnet001
-      security_group_name: secgroup001
-      public_ip_address_name: publicip001
-  register: output
-
-- name: Should be idempotent
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet001
-      subnet: subnet001
-      security_group_name: secgroup001
-      public_ip_address_name: publicip001
-  register: output
-
-- assert:
-      that: not output.changed
-
-- name: Should change private IP address
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      private_ip_address: 10.10.0.10
-      private_ip_allocation_method: Static
-      virtual_network_name: vnet001
-      subnet: subnet001
-      security_group_name: secgroup001
-      public_ip_address_name: publicip001
-  register: output
-
-- assert:
-      that:
-          - output.changed
-          - output.state.ip_configuration.private_ip_address == '10.10.0.10'
-          - output.state.ip_configuration.private_ip_allocation_method == 'Static'
-
-- name: Should change virtual network and subnet
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      private_ip_allocation_method: Dynamic
-      virtual_network_name: vnet002
-      subnet: subnet002
-      security_group_name: secgroup002
-      public_ip_address_name: publicip002
-  register: output
-
-- assert:
-      that:
-          - output.changed
-          - "'10.20' in output.state.ip_configuration.private_ip_address"
-          - output.state.ip_configuration.private_ip_allocation_method == 'Dynamic'
-          - output.state.ip_configuration.subnet.name == 'subnet002'
-          - output.state.ip_configuration.public_ip_address.name == 'publicip002'
-
-- name: Add tags
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      tags:
-          testing: testing
-          foo: bar
-  register: output
-
-- assert:
-      that:
-          - output.state.tags | length == 2
-          - output.state.tags.testing == 'testing'
-
-- name: Gather facts for tags
-  azure_rm_networkinterface_info:
-    tags: testing
-  register: output
-
-- assert:
-      that:
-          - azure_networkinterfaces | length >= 1
-
-- name: Gather facts for resource group and tags
-  azure_rm_networkinterface_info:
-    resource_group: "{{ resource_group }}"
-    tags: testing
-  register: output
-
-- assert:
-      that:
-          - azure_networkinterfaces| length == 1
-
-- name: Gather facts for name and tags
-  azure_rm_networkinterface_info:
-    resource_group: "{{ resource_group }}"
-    name: nic003
-    tags: testing
-  register: output
-
-- assert:
-      that:
-          - azure_networkinterfaces | length == 1
-
-- name: Purge one tag
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      tags:
-        testing: testing
-  register: output
-
-- assert:
-      that:
-          - output.changed
-          - output.state.tags | length == 1
-
-- name: Purge all tags
-  azure_rm_networkinterface:
-      name: nic003
-      resource_group: "{{ resource_group }}"
-      tags: {}
-  register: output
-
-- assert:
-      that:
-          - output.changed
-          - output.state.tags | length == 0
-
-- name: Remove network interface, if it exists
-  azure_rm_networkinterface:
-      name: "{{ item }}"
-      resource_group: "{{ resource_group }}"
-      state: absent
-  register: output
-  with_items:
-      - nic004
-      - nic005
-
-- name: Remove publicip, if it exists
-  azure_rm_publicipaddress:
-      name: "{{ item }}"
-      resource_group: "{{ resource_group }}"
-      state: absent
-  with_items:
-      - nic00401
-      - nic00501
-
-- name: Remove security group, if it exists
-  azure_rm_securitygroup:
-      name: "{{ item }}"
-      resource_group: "{{ resource_group }}"
-      state: absent
-  with_items:
-      - nic00401
-      - nic00501
-
-- name: Should create default security group and default public ip for linux host
-  azure_rm_networkinterface:
-      name: nic004
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet001
-      subnet: subnet001
-  register: output
-
-- assert:
-      that:
-          - output.state.ip_configuration.public_ip_address.name == 'nic00401'
-          - output.state.network_security_group.name == 'nic00401'
-
-- name: Gather facts for security group nic00401
-  azure_rm_securitygroup_info:
-      resource_group: "{{ resource_group }}"
-      name: nic00401
-  register: output
-
-- assert:
-      that:
-          - azure_securitygroups[0].properties.securityRules[0].properties.destinationPortRange == '22'
-
-- name: Should create default security group and default public ip for windows host
-  azure_rm_networkinterface:
-      name: nic005
-      resource_group: "{{ resource_group }}"
-      virtual_network_name: vnet001
-      subnet: subnet001
-      os_type: Windows
-      open_ports:
-          - 9000
-          - '9005-9010'
-  register: output
-
-- assert:
-      that:
-          - output.state.ip_configuration.public_ip_address.name == 'nic00501'
-          - output.state.network_security_group.name == 'nic00501'
-
-- name: Gather facts for security group nic00501
-  azure_rm_securitygroup_info:
-      resource_group: "{{ resource_group }}"
-      name: nic00501
-  register: output
-
-- name: Security group should allow RDP access on custom port
-  assert:
-      that:
-          - azure_securitygroups[0].properties.securityRules[0].properties.destinationPortRange == '9000'
-          - azure_securitygroups[0].properties.securityRules[1].properties.destinationPortRange == '9005-9010'
-
-- name: Gather facts for one nic
-  azure_rm_networkinterface_info:
-      resource_group: "{{ resource_group }}"
-      name: nic003
-  register: output
-
-- assert:
-      that:
-          - azure_networkinterfaces | length == 1
-
-- name: Gather facts for all nics in resource groups
-  azure_rm_networkinterface_info:
-      resource_group: "{{ resource_group }}"
-  register: output
-
-- assert:
-      that:
-          - azure_networkinterfaces | length >= 3
-
-- name: Gather facts for all nics
-  azure_rm_networkinterface_info:
-  register: output
-
-- assert:
-      that:
-          - azure_networkinterfaces | length >= 3
-
-- name: Delete nic
-  azure_rm_networkinterface:
-      name: "{{ item }}"
-      resource_group: "{{ resource_group }}"
-      state: absent
-  register: output
-  with_items:
-      - nic003
-      - nic004
-      - nic005
diff --git a/test/legacy/roles/azure_rm_resourcegroup/tasks/main.yml b/test/legacy/roles/azure_rm_resourcegroup/tasks/main.yml
deleted file mode 100644
index 00c257cce2..0000000000
--- a/test/legacy/roles/azure_rm_resourcegroup/tasks/main.yml
+++ /dev/null
@@ -1,142 +0,0 @@
-- name: Get resource group
-  azure_rm_resourcegroup_info:
-    name: "{{ resource_group }}"
-
-- name: Create resource group
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-    location: "{{ azure_resourcegroups[0].location }}"
-    tags:
-      testing: testing
-      delete: never
-  register: output
-
-- assert:
-      that:
-          - output.state.tags.testing == 'testing'
-          - output.state.tags.delete == 'never'
-          - output.state.location == '{{ location }}'
-
-- name: Should be idempotent
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-    tags:
-      testing: testing
-      delete: never
-  register: output
-
-- assert:
-    that: not output.changed
-
-- name: Change resource group tags
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-    tags:
-      testing: 'no'
-      delete: 'on-exit'
-      foo: 'bar'
-  register: output
-
-- assert:
-   that:
-     - output.state.tags | length == 3
-     - output.state.tags.testing == 'no'
-     - output.state.tags.delete == 'on-exit'
-     - output.state.tags.foo == 'bar'
-
-- name: Gather facts by tags
-  azure_rm_resourcegroup_info:
-    tags:
-      - testing
-      - foo:bar
-  register: output
-
-- assert:
-      that: azure_resourcegroups | length == 1
-
-- name: Purge one tag
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-    tags:
-      testing: 'no'
-      delete: 'on-exit'
-    debug: yes
-  register: output
-
-- assert:
-    that:
-      - output.state.tags | length == 2
-      - output.state.tags.testing == 'no'
-      - output.state.tags.delete == 'on-exit'
-
-- name: Purge no tags
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-  register: output
-
-- assert:
-    that:
-      - output.state.tags | length == 2
-
-- name: Purge all tags
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-    tags: {}
-  register: output
-
-- assert:
-    that:
-      - output.state.tags | length == 0
-
-- name: Add a resource
-  azure_rm_virtualnetwork:
-    resource_group: "{{ resource_prefix }}"
-    name: "virtualnet01"
-    address_prefixes_cidr: '10.1.0.0/16'
-  register: output
-
-- name: Remove resource group should fail
-  azure_rm_resourcegroup:
-    name: "{{ resource_prefix }}"
-    state: absent
-  register: output
-  ignore_errors: yes
-
-- assert:
-    that:
-      - output.failed
-      - "'Resources exist' in output.msg"
-
-- name: Create a second resource group
-  azure_rm_resourcegroup:
-      name: Testing2
-      location: "{{ location }}"
-  register: output
-
-- name: Gather facts for a resource group
-  azure_rm_resourcegroup_info:
-      name: "{{ resource_group }}"
-  register: output
-
-- assert:
-      that: azure_resourcegroups | length == 1
-
-- name: Gather facts for all resource groups
-  azure_rm_resourcegroup_info:
-  register: output
-
-- assert:
-      that: azure_resourcegroups | length > 1
-
-- name: Force remove resource group
-  azure_rm_resourcegroup:
-    name: "{{ resource_group }}"
-    state: absent
-    force: yes
-  register: output
-
-- name: Remove second resource group
-  azure_rm_resourcegroup:
-    name: Testing2
-    state: absent
-  register: output
diff --git a/test/legacy/roles/cnos_backup/README.md b/test/legacy/roles/cnos_backup/README.md
deleted file mode 100644
index e1ccda3657..0000000000
--- a/test/legacy/roles/cnos_backup/README.md
+++ /dev/null
@@ -1,113 +0,0 @@
-# Ansible Role: cnos_backup_sample - Saving the switch configuration to a remote server
----
-<add role description below>
-
-This role is an example of using the *cnos_backup.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with switch configurations. It provides a way to back up the running or startup configurations of a switch to a remote server. This is achieved by periodically saving a copy of the startup or running configuration of the network device to a remote server using FTP, SFTP, TFTP, or SCP.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_backup](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_backup.html&cp=0_3_1_0_4_4).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`configType` | Specifies the type of configuration to be backed up to the remote server (**running-config** - running configuration, **startup-config** - startup configuration)
-`protocol` | Specifies the protocol used by the network device to interact with the remote server to where to upload the backup configuration (**ftp** - FTP, **sftp** - SFTP, **tftp** - TFTP, **scp** - SCP)
-`serverip` | Specifies the IP Address of the remote server to where the configuration will be backed up
-`rcpath` | Specifies the full file path where the configuration file will be copied on the remote server (when backing up the switch configuration through TFTP, an empty directory needs to be created, otherwise the operation will fail)
-`serverusername` | Configures the username for the server relating to the protocol used
-`serverpassword` | Configures the password for the server relating to the protocol used
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_backup.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_backup_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-  
-```
-[cnos_backup_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
-  
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_backup_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
-- name: Module to back up configuration
-   hosts: cnos_backup_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_backup_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_backup/cnos_backup_sample_hosts b/test/legacy/roles/cnos_backup/cnos_backup_sample_hosts
deleted file mode 100644
index 3ffb1f4733..0000000000
--- a/test/legacy/roles/cnos_backup/cnos_backup_sample_hosts
+++ /dev/null
@@ -1,18 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_backup_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_backup_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos rcpath=/root/cnos_config/G8272-running-config.txt
-
-#Use this in case its TFTP as tftpboot folder is the starting point for tftp
-#10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos rcpath=/anil/G8272-running-config.txt
-
diff --git a/test/legacy/roles/cnos_backup/tasks/main.yml b/test/legacy/roles/cnos_backup/tasks/main.yml
deleted file mode 100644
index d0f7cf8012..0000000000
--- a/test/legacy/roles/cnos_backup/tasks/main.yml
+++ /dev/null
@@ -1,24 +0,0 @@
-# This contain sample config back up tasks
----
-- name: Test Running Config Backup
-  cnos_backup: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_backup_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}} serverusername='{{item.serverusername}}' serverpassword='{{item.serverpassword}}'
-  with_items: "{{test_config_data1}}"
-
-- name: Test Startup Config Backup
-  cnos_backup: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_backup_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}} serverusername='{{item.serverusername}}' serverpassword='{{item.serverpassword}}'
-  with_items: "{{test_config_data2}}"
-
-#Root folder will be different for SFTP/SCP and TFTP
-#The following task is commented. 
-#Before trying this, please change in /etc/ansible/hosts file 
-#and backup the config file with reference to your tftp-root folder  
-
-#- name: Test Running Config Backup -TFTP
-#  cnos_backup: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_backup_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}}
-#  with_items: "{{test_config_data3}}"
-
-#- name: Test Startup Config Backup - TFTP
-#  cnos_backup: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_backup_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}} 
-#  with_items: "{{test_config_data4}}"
-
-# Completed file
diff --git a/test/legacy/roles/cnos_backup/vars/main.yml b/test/legacy/roles/cnos_backup/vars/main.yml
deleted file mode 100644
index bca8c2edcb..0000000000
--- a/test/legacy/roles/cnos_backup/vars/main.yml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-test_config_data1:
-  - {configType: running-config, protocol: "sftp", serverip: "10.241.106.118", serverusername: "root", serverpassword: "root123"}
-
-test_config_data2:
-  - {configType: startup-config, protocol: "sftp", serverip: "10.241.106.118", serverusername: "root", serverpassword: "root123"}
-
-test_config_data3:
-  - {configType: running-config, protocol: "tftp", serverip: "10.241.106.118"}
-
-test_config_data4:
-  - {configType: startup-config, protocol: "tftp", serverip: "10.241.106.118"}
diff --git a/test/legacy/roles/cnos_bgp/README.md b/test/legacy/roles/cnos_bgp/README.md
deleted file mode 100644
index 8c21d0b400..0000000000
--- a/test/legacy/roles/cnos_bgp/README.md
+++ /dev/null
@@ -1,118 +0,0 @@
-# Ansible Role: cnos_bgp_sample - CNOS Switch BGP Configuration
----
-<add role description below>
-
-This role is an example of using the *cnos_bgp.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with Border Gateway Protocol (BGP) related configurations. The operators used are overloaded to ensure control over switch BGP configurations. This module is invoked using method with *asNumber* as one of its arguments.
-
-The first level of the BGP configuration allows to set up an AS number, with the following attributes going into various configuration operations under the context of BGP. After passing this level, there are eight BGP arguments that will perform further configurations. They are *bgpArg1*, *bgpArg2*, *bgpArg3*, *bgpArg4*, *bgpArg5*, *bgpArg6*, *bgpArg7*, and *bgpArg8*.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_bgp](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_bgp.html&cp=0_3_1_0_4_16).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`asNum` | Specifies the AS number
-`bgpArg1` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **address-family**, **bestpath**, **bgp**, **cluster-id**, **confederation**, **enforce-first-as**, **fast-external-failover**, **graceful-restart**, **graceful-restart-helper**, **log-neighbor-changes**, **maxas-limit**, **neighbor**, **router-id**, **shutdown**, **synchronization**, **timers**, **vrf**.
-`bgpArg2` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **ipv4**, **ipv6**, **always-compare-med**, **compare-confed-aspath**, **compare-routerid**, **dont-compare-originator-id**, **tie-break-on-age**, **as-path**, **med**, number of times to prepend the local AS, Route Reflector Cluster ID as a 32 bit quantity or in IP address format, **identifier**, **peers**, delay value, number of autonomous systems in the AS-path attribute, neighbor address, neighbor prefix, manually configured router identifier, keepalive interval.
-`bgpArg3` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **aggregate-address**, **client-to-client**, **dampening**, **distance**, **maximum-paths**, **network**, **nexthop**, **redistribute**, **save**, **synchronization**, **ignore**, **multipath-relax**, **confed**, **missing-as-worst**, **non-deterministic**, **remove-recv-med**, **remove-send-med**, set routing domain confederation AS, AS number.
-`bgpArg4` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: IP address/prefix length, **route-map**, time after which a penalty is decreased by half, administrative distance to routes outside the AS, **ebgp**, **ibgp**, **synchronization**, IP address, delay value, **direct**, **ospf**, **static**, **memory**.
-`bgpArg5` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **as-set**, **summary-only**, name of the route map that controls where BGP route dampening is enabled, value to start reusing a route, administrative distance to routes inside the AS, value for maximum path numbers, **backdoor**, **mask**, **route-map**.
-`bgpArg6` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **summary-only**, **as-set**, value to start suppressing a route, administrative distance for local routes, IP subnet address mask, name of the route map.
-`bgpArg7` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: maximum duration to suppress a stable route, **route-map**, **backdoor**.
-`bgpArg8` | This is an overloaded BGP variable. Please refer to the [cnos_bgp module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_bgp.html?cp=0_3_1_0_2_13) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: time after which an unreachable route's penalty is decreased by half, **backdoor**.
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_bgp.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_bgp_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_bgp_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
-  
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_bgp_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
-- name: Module to do BGP configuration
-   hosts: cnos_bgp_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_bgp_sample
-```
-	
-	
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_bgp/cnos_bgp_sample_hosts b/test/legacy/roles/cnos_bgp/cnos_bgp_sample_hosts
deleted file mode 100644
index 1f45ac9dab..0000000000
--- a/test/legacy/roles/cnos_bgp/cnos_bgp_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_bgp_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_bgp_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_bgp/tasks/main.yml b/test/legacy/roles/cnos_bgp/tasks/main.yml
deleted file mode 100644
index 6a23d372de..0000000000
--- a/test/legacy/roles/cnos_bgp/tasks/main.yml
+++ /dev/null
@@ -1,78 +0,0 @@
-## This contain sample BGP execution tasks
----
-- name: Test BGP  - neighbor
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}' bgpArg4='{{item.bgpArg4}}' bgpArg5='{{item.bgpArg5}}' bgpArg6='{{item.bgpArg6}}'
-  with_items: "{{test_bgp_data13}}"
-
-- name: Test BGP  - BFD
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}' bgpArg4='{{item.bgpArg4}}'
-  with_items: "{{test_bgp_data19}}"
-
-- name: Test BGP  - address-family - dampening
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}' bgpArg4='{{item.bgpArg4}}' bgpArg5='{{item.bgpArg5}}' bgpArg6='{{item.bgpArg6}}' bgpArg7='{{item.bgpArg7}}' bgpArg8='{{item.bgpArg8}}'
-  with_items: "{{test_bgp_data1}}"
-
-- name: Test BGP  - address-family - network
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}' bgpArg4='{{item.bgpArg4}}' bgpArg5='{{item.bgpArg5}}'
-  with_items: "{{test_bgp_data18}}"
-  
-- name: Test BGP - bestpath - always-compare-med
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data2}}"
-
-- name: Test BGP - bestpath-compare-confed-aspat
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt  asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data3}}"
-
-- name: Test BGP - bgp
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data4}}"
-
-- name: Test BGP  - cluster-id
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data5}}"
-
-- name: Test BGP - confederation-identifier
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}'
-  with_items: "{{test_bgp_data6}}"
-
-- name: Test BGP - enforce-first-as
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}'
-  with_items: "{{test_bgp_data7}}"
-
-- name: Test BGP - fast-external-failover
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}'
-  with_items: "{{test_bgp_data8}}"
-
-- name: Test BGP  - graceful-restart
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data9}}"
-
-- name: Test BGP - graceful-restart-helper
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}'
-  with_items: "{{test_bgp_data10}}"
-
-- name: Test BGP - maxas-limit
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data11}}"
-
-#- name: Test BGP  - neighbor
-#  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}'
-#  with_items: "{{test_bgp_data13}}"
-
-- name: Test BGP - router-id
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}'
-  with_items: "{{test_bgp_data14}}"
-
-- name: Test BGP - synchronization
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}'
-  with_items: "{{test_bgp_data15}}"
-
-- name: Test BGP - timers
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}' bgpArg2='{{item.bgpArg2}}' bgpArg3='{{item.bgpArg3}}'
-  with_items: "{{test_bgp_data16}}"
-
-- name: Test BGP - vrf
-  cnos_bgp:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_bgp_{{ inventory_hostname }}_output.txt asNum='{{item.asNum}}' bgpArg1='{{item.bgpArg1}}'
-  with_items: "{{test_bgp_data17}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_bgp/vars/main.yml b/test/legacy/roles/cnos_bgp/vars/main.yml
deleted file mode 100644
index ba08d9c0ff..0000000000
--- a/test/legacy/roles/cnos_bgp/vars/main.yml
+++ /dev/null
@@ -1,37 +0,0 @@
----
-test_bgp_data1:
-  - {asNum: 33, bgpArg1: "address-family", bgpArg2: "ipv4", bgpArg3: "dampening",  bgpArg4: 13, bgpArg5: 233, bgpArg6: 333, bgpArg7: 15, bgpArg8: 33 }
-test_bgp_data2:
-  - {asNum: 33, bgpArg1: "bestpath", bgpArg2: "always-compare-med"}
-test_bgp_data3:
-  - {asNum: 33, bgpArg1: "bestpath", bgpArg2: "compare-confed-aspath"}
-test_bgp_data4:
-  - {asNum: 33, bgpArg1: "bgp", bgpArg2: 33}
-test_bgp_data5:
-  - {asNum: 33, bgpArg1: "cluster-id", bgpArg2: "1.2.3.4"}
-test_bgp_data6:
-  - {asNum: 33, bgpArg1: "confederation", bgpArg2: "identifier", bgpArg3: 333}
-test_bgp_data7:
-  - {asNum: 33, bgpArg1: "enforce-first-as"}
-test_bgp_data8:
-  - {asNum: 33, bgpArg1: "fast-external-failover"}
-test_bgp_data9:
-  - {asNum: 33, bgpArg1: "graceful-restart", bgpArg2: 333}
-test_bgp_data10:
-  - {asNum: 33, bgpArg1: "graceful-restart-helper"}
-test_bgp_data11:
-  - {asNum: 33, bgpArg1: "maxas-limit", bgpArg2: 333}
-test_bgp_data13:
-  - {asNum: 33, bgpArg1: "neighbor", bgpArg2: "10.241.107.40", bgpArg3: 13,  bgpArg4: "address-family", bgpArg5: "ipv4",  bgpArg6: "next-hop-self" }
-test_bgp_data14:
-  - {asNum: 33, bgpArg1: "router-id", bgpArg2: "1.2.3.4"}
-test_bgp_data15:
-  - {asNum: 33, bgpArg1: "synchronization"}
-test_bgp_data16:
-  - {asNum: 33, bgpArg1: "timers", bgpArg2: 333, bgpArg3: 3333}
-test_bgp_data17:
-  - {asNum: 33, bgpArg1: "vrf"}
-test_bgp_data18:
-  - {asNum: 33, bgpArg1: "address-family", bgpArg2: "ipv4", bgpArg3: "network",  bgpArg4: "1.2.3.4/5", bgpArg5: "backdoor"}
-test_bgp_data19:
-  - {asNum: 33, bgpArg1: "neighbor", bgpArg2: "10.241.107.40", bgpArg3: 13, bgpArg4: "bfd"}
diff --git a/test/legacy/roles/cnos_command/README.md b/test/legacy/roles/cnos_command/README.md
deleted file mode 100644
index 6798a26f13..0000000000
--- a/test/legacy/roles/cnos_command/README.md
+++ /dev/null
@@ -1,110 +0,0 @@
-# Ansible Role: cnos_command_sample - Executing a single CNOS command
----
-<add role description below>
-
-This role is an example of using the *cnos_command.py* Lenovo module in the context of CNOS switch configuration. This module allows you to modify the switch running configuration. It provides a way to execute a single CNOS command on a switch by evaluating the current running configuration and executing the command only if the specific setting has not been already configured.
-
-The CNOS command is passed as an argument of the method.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_command](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_command.html&cp=0_3_1_0_4_8).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`clicommand` | Specifies the CLI command as an attribute to this method
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_command.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_command_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_command_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-   
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_command_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do some CLI Command configurations
-   hosts: cnos_command_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_command_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_command/cnos_command_sample_hosts b/test/legacy/roles/cnos_command/cnos_command_sample_hosts
deleted file mode 100644
index 9367f0fe50..0000000000
--- a/test/legacy/roles/cnos_command/cnos_command_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_command_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_command_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_command/tasks/main.yml b/test/legacy/roles/cnos_command/tasks/main.yml
deleted file mode 100644
index 6e0cde1135..0000000000
--- a/test/legacy/roles/cnos_command/tasks/main.yml
+++ /dev/null
@@ -1,7 +0,0 @@
-# This contain sample template execution tasks
----
-
-- name: Test Command
-  cnos_command: host={{ inventory_hostname }}  username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} clicommand='{{item.clicommand}}' outputfile=./results/cnos_command_{{ inventory_hostname }}_output.txt
-  with_items: "{{test_runcommand_data1}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_command/vars/main.yml b/test/legacy/roles/cnos_command/vars/main.yml
deleted file mode 100644
index 70e7380d25..0000000000
--- a/test/legacy/roles/cnos_command/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-test_runcommand_data1:
-  - {clicommand: "display users"}
diff --git a/test/legacy/roles/cnos_conditional_command/README.md b/test/legacy/roles/cnos_conditional_command/README.md
deleted file mode 100644
index 6da94b9e8c..0000000000
--- a/test/legacy/roles/cnos_conditional_command/README.md
+++ /dev/null
@@ -1,118 +0,0 @@
-# Ansible Role: cnos_conditional_command_sample - Executing a single CNOS command with respect to conditions specified in the inventory
----
-<add role description below>
-
-This role is an example of using the *cnos_conditional_command.py* Lenovo module in the context of CNOS switch configuration. This module allows you to modify the running configuration of a switch. It provides a way to execute a single CNOS command on a network device by evaluating the current running configuration and executing the command only if the specific settings have not been already configured.
-
-The CNOS command is passed as an argument of the method.
-
-This module functions the same as the *cnos_command.py* module. The only exception is that the following inventory variable can be specified: condition = <flag string>
-
-When this inventory variable is specified as the variable of a task, the command is executed for the network element that matches the flag string.
-Usually, commands are executed across a group of network devices. When there is a requirement to skip the execution of the command on one or more devices, it is recommended to use this module.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_conditional_command](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_conditional_command.html&cp=0_3_1_0_4_9).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-`condition` | If `condition=false` is specified in the inventory file against any device, the command execution is skipped for that device (**true**, **false**)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`flag` | If a task needs to be executed, the flag needs to be set the same as it is specified in the inventory for that device 
-`clicommand` | Specifies the CLI command as an attribute to this method
-
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_conditional_command.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_conditional_command_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-  
-```
-[cnos_conditional_command_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos condition=pass
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_conditional_command_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do some configurations
-   hosts: cnos_conditional_command_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_conditional_command_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_conditional_command/cnos_conditional_command_sample_hosts b/test/legacy/roles/cnos_conditional_command/cnos_conditional_command_sample_hosts
deleted file mode 100644
index 87df2fc902..0000000000
--- a/test/legacy/roles/cnos_conditional_command/cnos_conditional_command_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_conditional_command_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_conditional_command_sample]
-10.241.107.39   username=<username> password=<password> condition=pass deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_conditional_command/tasks/main.yml b/test/legacy/roles/cnos_conditional_command/tasks/main.yml
deleted file mode 100644
index 8b6ce9ec69..0000000000
--- a/test/legacy/roles/cnos_conditional_command/tasks/main.yml
+++ /dev/null
@@ -1,7 +0,0 @@
-# This contain sample command execution tasks
----
-
-- name: Run a command
-  cnos_conditional_command: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} condition={{ hostvars[inventory_hostname]['condition'] }} flag='{{item.flag}}' clicommand='{{item.clicommand}}' outputfile=./results/cnos_conditional_command_{{ inventory_hostname }}_output.txt
-  with_items: "{{conditional_command_data1}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_conditional_command/vars/main.yml b/test/legacy/roles/cnos_conditional_command/vars/main.yml
deleted file mode 100644
index 588ae01178..0000000000
--- a/test/legacy/roles/cnos_conditional_command/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-conditional_command_data1:
-  - {flag: "pass", clicommand: "display users"}
diff --git a/test/legacy/roles/cnos_conditional_template/README.md b/test/legacy/roles/cnos_conditional_template/README.md
deleted file mode 100644
index 4287db725a..0000000000
--- a/test/legacy/roles/cnos_conditional_template/README.md
+++ /dev/null
@@ -1,118 +0,0 @@
-# Ansible Role: cnos_conditional_template_sample - Manages switch configuration using templates with respect to conditions specified in the inventory
----
-<add role description below>
-
-This role is an example of using the *cnos_conditional_template.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with the running configuration of a switch. It provides a way to execute a set of CNOS commands on a switch by evaluating the current running configuration and executing the commands only if the specific settings have not been already configured.
-
-The configuration source can be a set of commands or a template written in the Jinja2 templating language.
-
-This module functions the same as the *cnos_template.py* module. The only exception is that the following inventory variable can be specified: condition = <flag string>
-
-When this inventory variable is specified as the variable of a task, the template is executed for the network element that matches the flag string.
-
-Usually, templates are used when commands are the same across a group of network devices. When there is a requirement to skip the execution of the template on one or more devices, it is recommended to use this module.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_conditional_template](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_conditional_template.html&cp=0_3_1_0_4_11).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-`condition` | If `condition=<flag string>` is specified in the inventory file against any device, the template execution is done for that device in case it matches the flag setting for that task
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`flag` | If a task needs to be executed, you have to set the flag the same as it is specified in the inventory for that device
-`commandfile` | Specifies the path to the CNOS command file which needs to be applied
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_conditional_template.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_conditional_template_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_conditional_template_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos condition=pass
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_conditional_template_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do some template configurations
-   hosts: cnos_conditional_template_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_conditional_template_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_conditional_template/cnos_conditional_template_sample_hosts b/test/legacy/roles/cnos_conditional_template/cnos_conditional_template_sample_hosts
deleted file mode 100644
index 5014c838c6..0000000000
--- a/test/legacy/roles/cnos_conditional_template/cnos_conditional_template_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_conditional_template_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_conditional_template_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos condition=pass
-
diff --git a/test/legacy/roles/cnos_conditional_template/tasks/main.yml b/test/legacy/roles/cnos_conditional_template/tasks/main.yml
deleted file mode 100644
index d414469a7d..0000000000
--- a/test/legacy/roles/cnos_conditional_template/tasks/main.yml
+++ /dev/null
@@ -1,11 +0,0 @@
-# This contain sample conditional template execution tasks
----
-- name: Replace Config CLI command template with values
-  template: src=demo_template.j2 dest=./commands/cnos_conditional_template_{{ inventory_hostname }}_command.txt
-  with_items: "{{conditional_template_data1}}"
-
-- name: Applying CLI commands on Switches
-  cnos_conditional_template: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} 
-   condition={{ hostvars[inventory_hostname]['condition'] }} flag='{{item.flag}}' commandfile=./commands/cnos_conditional_template_{{ inventory_hostname }}_command.txt outputfile=./results/cnos_conditional_template_{{ inventory_hostname }}_output.txt
-  with_items: "{{conditional_template_data1}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_conditional_template/templates/demo_template.j2 b/test/legacy/roles/cnos_conditional_template/templates/demo_template.j2
deleted file mode 100644
index 1b683084f5..0000000000
--- a/test/legacy/roles/cnos_conditional_template/templates/demo_template.j2
+++ /dev/null
@@ -1,14 +0,0 @@
-#Demo Template
-vlan {{item.vlanid1}}
-exit
-config d
-interface ethernet {{item.slot_chassis_number1}}
-aggregation-group {{item.portchannel_interface_number1}} mode {{item.portchannel_mode1}}
-exit
-config d
-interface port-aggregation {{item.portchannel_interface_number1}}
-shut
-lacp suspend-individual
-no shut
-exit
-
diff --git a/test/legacy/roles/cnos_conditional_template/vars/main.yml b/test/legacy/roles/cnos_conditional_template/vars/main.yml
deleted file mode 100644
index b2795dc79a..0000000000
--- a/test/legacy/roles/cnos_conditional_template/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-conditional_template_data1:
-  - {flag: "pass", vlanid1: 13, slot_chassis_number1: "1/2", portchannel_interface_number1: 100, portchannel_mode1: "active"}
diff --git a/test/legacy/roles/cnos_ethernet/README.md b/test/legacy/roles/cnos_ethernet/README.md
deleted file mode 100644
index ecb88d7732..0000000000
--- a/test/legacy/roles/cnos_ethernet/README.md
+++ /dev/null
@@ -1,118 +0,0 @@
-# Ansible Role: cnos_ethernet_sample - Performs switch ethernet port configuration and state management
----
-<add role description below>
-
-This role is an example of using the *cnos_interface.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with interface related configurations. The operators used are overloaded to ensure control over switch interface configurations, such as ethernet ports, loopback interfaces, VLANs, and the management interface.
-
-Apart from the regular device connection related attributes, there are seven interface arguments that will perform further configurations. They are *interfaceArg1*, *interfaceArg2*, *interfaceArg3*, *interfaceArg4*, *interfaceArg5*, *interfaceArg6*, and *interfaceArg7*.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_interface](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_interface.html&cp=0_3_1_0_4_12).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`interfaceOption` | Specifies the type of the interface that will be configured (**ethernet** - ethernet port, **loopback** - loopback interface, **vlan** - VLAN, **mgmt** - management interface, **port-aggregation** - Link Aggregation Group)
-`interfaceRange` | Specifies the interface range that will be configured
-`interfaceArg1` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **aggregation-group**, **bfd**, **bridge-port**, **description**, **duplex**, **flowcontrol**, **ip**, **ipv6**, **lacp**, **lldp**, **load-interval**, **mac**, **mac-address**, **mac-learn**, **microburst-detection**, **mtu**, **service**, **service-policy**, **shutdown**, **snmp**, **spanning-tree**, **speed**, **storm-control**, **vlan**, **vrrp**, **port-aggregation**.
-`interfaceArg2` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: specify a LAG number, **authentication**, **echo**, **ipv4**, **ipv6**, **interval**, **neighbor**, **access**, **mode**, **trunk**, interface description, **auto**, **full**, **half**, **receive**, **send**, **access-group**, **arp**, **dhcp**, **port**, **port-unreachable**, **redirects**, **router**, **unreachables**, **address**, **link-local**, **port-priority**, **suspend-individual**, **timeout**, **transmit**, **trap-notification**, **tlv-select**, load interval delay, **counter**, name for the MAC access group, MAC address in XXXX.XXXX.XXXX format, threshold value, MTU in bytes, instance ID to map to the EVC, **input**, **output**, **copp-system-policy**, **type**, **bpdufilter**, **bpduguard**, **cost**, **enable**, **disable**, **guard**, **link-type**, **mst**, **port**, **port-priority**, **vlan**, **auto**, 1000, 10000, 40000, **broadcast**, **unicast**, **multicast**, **egress-only**, **destination-ip**, **destination-mac**, **destination-port**, **source-dest-ip**, **source-dest-mac**, **source-dest-port**, **source-interface**, **source-ip**, **source-mac**, **source-port**.
-`interfaceArg3` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **active**, **passive**, **on**, **keyed-md5**, **keyed-sha1**, **meticulous-keyed-md5**, **meticulous-keyed-sha1**, **simple**, **authentication**, **echo**, **interval**, interval value, source IP address, **off**, ACL name, IP address of the ARP entry, **timeout**, **client**, **relay**, **area**, **multi-area**, **dhcp**, IPv6 address, IPv6 address of the DHCP Relay, Neighbor IPv6 address, LACP port priority, **long**, **short**, **link-aggregation**, **mac-phy-status**, **management-address**, **max-frame-size**, **port-description**, **port-protocol-vlan**, **port-vlan**, **power-mdi**, **protocol-identity**, **system-capabilities**, **system-description**, **system-name**, **vid-management**, **vlan-name**, counter for the load interval, name of the policy to attach, **all**, COPP class name to attach, **qos**, **queuing**, **enable**, **disable**, **auto**, port path cost, **loop**, **root**, **auto**, **point-to-point**, **shared**, MSTP instance range, port priority value, specify VLAN, allowed traffic level, **ipv6**, **source-interface**.
-`interfaceArg4` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **key-chain**, **key-id**, **keyed-md5**, **keyed-sha1**, **meticulous-keyed-md5**, **meticulous-keyed-sha1**, **simple**, interval value, BFD minimum receive interval, destination IP address, **in**, **out**, MAC address in XXXX.XXXX.XXXX format, timeout value, **class-id**, **request**, IPv4 address of the DHCP Relay, OSPF area ID, **anycast**, **secondary**, **ethernet**, **vlan**, load interval delay, name of the QoS policy to attach, **input**, **output**, **cost**, **port-priority**.
-`interfaceArg5` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: name of the key chain, key ID, **key-chain**, **key-id**, BFD minimum receive interval, Hello multiplier value, **admin-down**, **multihop**, **non-persistent**, vendor class ID name, **bootfile-name**, **host-name**, **log-server**, **ntp-server**, **tftp-server-name**, specify ethernet port, specify VLAN, name of the QoS policy to attach, **auto**, port path cost, port priority value.
-`interfaceArg6` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: authentication key string, name of the key chain, key ID, Hello multiplier value, **admin-down**, **non-persistent**.
-`interfaceArg7` | This is an overloaded BGP variable. Please refer to the [cnos_interface module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_interface.html?cp=0_3_1_0_2_12) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: authentication key string, **admin-down**.
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_interface.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_interface_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_ethernet_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_interface_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do Interface Ethernet configurations
-   hosts: cnos_ethernet_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_ethernet_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
diff --git a/test/legacy/roles/cnos_ethernet/cnos_ethernet_sample_hosts b/test/legacy/roles/cnos_ethernet/cnos_ethernet_sample_hosts
deleted file mode 100644
index bf315d12e3..0000000000
--- a/test/legacy/roles/cnos_ethernet/cnos_ethernet_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_ethernet_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_ethernet_sample]
-10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_ethernet/tasks/main.yml b/test/legacy/roles/cnos_ethernet/tasks/main.yml
deleted file mode 100644
index a6be7ee634..0000000000
--- a/test/legacy/roles/cnos_ethernet/tasks/main.yml
+++ /dev/null
@@ -1,98 +0,0 @@
-### This contain sample execution tasks
----
-- name: Test Interface Ethernet - aggregation-group
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data1}}"
-
-#- name: Test Interface Ethernet - aggregation-group - Interface Range
-#  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-#  with_items: "{{test_ethernet_data24}}"
-
-- name: Test Interface Ethernet - bridge-port
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt   interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data2}}"
-
-- name: Test Interface Ethernet - bridgeport mode
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data3}}"
-
-- name: Test Interface Ethernet  - Description
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_ethernet_data4}}"
-
-- name: Test Interface Ethernet - Duplex
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_ethernet_data5}}"
-
-- name: Test Interface Ethernet - flowcontrol
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data6}}"
-
-- name: Test Interface Ethernet - lacp
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data7}}"
-
-- name: Test Interface Ethernet  - lldp
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data8}}"
-
-- name: Test Interface Ethernet - load-interval
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}'
-  with_items: "{{test_ethernet_data9}}"
-
-#- name: Test Interface Ethernet - mac
-#  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-#  with_items: "{{test_ethernet_data10}}"
-
-- name: Test Interface Ethernet - microburst-detection
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_ethernet_data11}}"
-
-- name: Test Interface Ethernet  - mtu
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_ethernet_data12}}"
-
-- name: Test Interface Ethernet - service-policy
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data13}}"
-
-- name: Test Interface Ethernet - speed
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_ethernet_data14}}"
-
-- name: Test Interface Ethernet - storm
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data15}}"
-
-#- name: Test Interface Ethernet - vlan
-#  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-#  with_items: "{{test_ethernet_data16}}"
-
-- name: Test Interface Ethernet - vrrp
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_ethernet_data17}}"
-
-- name: Test Interface Ethernet - spanning tree1
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data18}}"
-
-- name: Test Interface Ethernet - spanning tree 2
-  cnos_interface: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}' interfaceArg5='{{item.interfaceArg5}}'
-  with_items: "{{test_ethernet_data19}}"
-
-- name: Test Interface Ethernet - ip1
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}'
-  with_items: "{{test_ethernet_data20}}"
-
-- name: Test Interface Ethernet - ip2
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_ethernet_data21}}"
-
-- name: Test Interface Ethernet - bfd
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}' interfaceArg5='{{item.interfaceArg5}}'
-  with_items: "{{test_ethernet_data22}}"
-
-- name: Test Interface Ethernet - bfd
-  cnos_interface:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_ethernet_{{ inventory_hostname }}_output.txt  interfaceOption='{{item.interfaceOption}}' interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}' interfaceArg5='{{item.interfaceArg5}}' interfaceArg6='{{item.interfaceArg6}}'
-  with_items: "{{test_ethernet_data23}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_ethernet/vars/main.yml b/test/legacy/roles/cnos_ethernet/vars/main.yml
deleted file mode 100644
index 3cfaf51587..0000000000
--- a/test/legacy/roles/cnos_ethernet/vars/main.yml
+++ /dev/null
@@ -1,49 +0,0 @@
----
-test_ethernet_data1:
-  - {interfaceOption: 'ethernet', interfaceRange: 1, interfaceArg1: "aggregation-group", interfaceArg2: 33, interfaceArg3: "on"}
-test_ethernet_data2:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "bridge-port", interfaceArg2: "access", interfaceArg3: 33}
-test_ethernet_data3:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "bridge-port", interfaceArg2: "mode", interfaceArg3: "access"}
-test_ethernet_data4:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "description", interfaceArg2: "Hentammoo "}
-test_ethernet_data5:
-  - {interfaceOption: 'ethernet', interfaceRange: 1, interfaceArg1: "duplex", interfaceArg2: "auto"}
-test_ethernet_data6:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "flowcontrol", interfaceArg2: "send", interfaceArg3: "off"}
-test_ethernet_data7:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "lacp", interfaceArg2: "port-priority", interfaceArg3: 33}
-test_ethernet_data8:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "lldp", interfaceArg2: "tlv-select", interfaceArg3: "max-frame-size"}
-test_ethernet_data9:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "load-interval", interfaceArg2: "counter", interfaceArg3: 2, interfaceArg4: 33}
-test_ethernet_data10:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "mac", interfaceArg2: "copp-system-acl-vlag-hc"}
-test_ethernet_data11:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "microburst-detection", interfaceArg2: 25}
-test_ethernet_data12:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "mtu", interfaceArg2: 66}
-test_ethernet_data13:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "service-policy", interfaceArg2: "input", interfaceArg3: "Anil"}
-test_ethernet_data14:
-  - {interfaceOption: 'ethernet', interfaceRange: 1, interfaceArg1: "speed", interfaceArg2: "auto"}
-test_ethernet_data15:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "storm-control", interfaceArg2: "broadcast", interfaceArg3: 12.5 }
-test_ethernet_data16:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "vlan", interfaceArg2: "disable"}
-test_ethernet_data17:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "vrrp", interfaceArg2: 33}
-test_ethernet_data18:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "spanning-tree", interfaceArg2: "bpduguard", interfaceArg3: "enable"}
-test_ethernet_data19:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "spanning-tree", interfaceArg2: "mst", interfaceArg3: "33-35", interfaceArg4: "cost", interfaceArg5: 33}
-test_ethernet_data20:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "ip", interfaceArg2: "access-group", interfaceArg3: "anil", interfaceArg4: "in"}
-test_ethernet_data21:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "ip", interfaceArg2: "port", interfaceArg3: "anil" }
-test_ethernet_data22:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "bfd", interfaceArg2: "interval", interfaceArg3: 55, interfaceArg4: 55, interfaceArg5: 33}
-test_ethernet_data23:
-  - {interfaceOption: 'ethernet', interfaceRange: 33, interfaceArg1: "bfd", interfaceArg2: "ipv4", interfaceArg3: "authentication", interfaceArg4: "meticulous-keyed-md5", interfaceArg5: "key-chain", interfaceArg6: "mychain"}
-test_ethernet_data24:
-  - {interfaceOption: 'ethernet', interfaceRange: "1/1-2", interfaceArg1: "aggregation-group", interfaceArg2: 33, interfaceArg3: "on"}
diff --git a/test/legacy/roles/cnos_facts/README.md b/test/legacy/roles/cnos_facts/README.md
deleted file mode 100644
index 1035ea7602..0000000000
--- a/test/legacy/roles/cnos_facts/README.md
+++ /dev/null
@@ -1,94 +0,0 @@
-# Ansible Role: cnos_facts_sample - Displays switch information
----
-<add role description below>
-
-This role is an example of using the *cnos_facts.py* Lenovo module in the context of CNOS switch configuration. This module allows you to view the switch information. It executes the **display sys-info** CLI command on a switch and returns a file containing all the system information of the target network device.
-
-The results of the operation can be viewed in results directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_facts](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_facts.html&cp=0_3_1_0_4_0).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_facts.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_facts_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_facts_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_facts_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to do Show Sys Info
-   hosts: cnos_facts_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_facts_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_facts/cnos_facts_sample_hosts b/test/legacy/roles/cnos_facts/cnos_facts_sample_hosts
deleted file mode 100644
index 50d86ecbb7..0000000000
--- a/test/legacy/roles/cnos_facts/cnos_facts_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_facts_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_facts_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_facts/tasks/main.yml b/test/legacy/roles/cnos_facts/tasks/main.yml
deleted file mode 100644
index 783e9cf0a0..0000000000
--- a/test/legacy/roles/cnos_facts/tasks/main.yml
+++ /dev/null
@@ -1,7 +0,0 @@
-# This contain sample show sys info tasks
----
-
-- name: Test Sys Info
-  cnos_facts: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} enablePassword='{{item.enablePassword}}' outputfile=./results/cnos_facts_{{ inventory_hostname }}_output.txt
-  with_items: "{{test_showsysinfo_data}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_facts/vars/main.yml b/test/legacy/roles/cnos_facts/vars/main.yml
deleted file mode 100644
index f6e9f0bad4..0000000000
--- a/test/legacy/roles/cnos_facts/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-test_showsysinfo_data:
-  - {enablePassword: "anil"}
diff --git a/test/legacy/roles/cnos_image/README.md b/test/legacy/roles/cnos_image/README.md
deleted file mode 100644
index 15f2f16613..0000000000
--- a/test/legacy/roles/cnos_image/README.md
+++ /dev/null
@@ -1,117 +0,0 @@
-# Ansible Role: cnos_image_sample - Switch firmware download from a remote server
----
-<add role description below>
-
-This role is an example of using the *cnos_image.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with switch firmware images. It provides a way to download a firmware image to a network device from a remote server using FTP, SFTP, TFTP, or SCP.
-
-The first step is to create a directory from where the remote server can be reached. The next step is to provide the full file path of the image's location. Authentication details required by the remote server must be provided as well.
-
-By default, this method makes the newly downloaded firmware image the active image, which will be used by the switch during the next restart.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_image](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_image.html&cp=0_3_1_0_4_2).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`imgType` | Specifies the firmware image type to be downloaded (**all** - both Uboot and OS images, **boot** - only the Uboot image, **os** - only the OS image, **onie** - ONIE image)
-`protocol` | Specifies the protocol used by the network device to interact with the remote server from where to download the firmware image (**ftp** - FTP, **sftp** - SFTP, **tftp** - TFTP, **scp** - SCP)
-`serverip` | Specifies the IP Address of the remote server from where the software image will be downloaded
-`imgpath` | Specifies the full file path of the image located on the remote server (in case the relative path is used as the variable value, the root folder for the user of the server needs to be specified)
-`serverusername` | Configures the username for the server relating to the protocol used
-`serverpassword` | Configures the password for the server relating to the protocol used
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_image.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_image_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_image_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
- 
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_image_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
-  - name: Module to  do image download
-   hosts: cnos_image_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_image_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_image/cnos_image_sample_hosts b/test/legacy/roles/cnos_image/cnos_image_sample_hosts
deleted file mode 100644
index 0b1fd34567..0000000000
--- a/test/legacy/roles/cnos_image/cnos_image_sample_hosts
+++ /dev/null
@@ -1,17 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_image_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_image_sample]
-10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos imgpath=/root/cnos_images/G8272-10.1.0.112.img
-
-#Use this in case its TFTP as tftpboot is the starting point for tftp
-#10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos imgpath="/anil/G8272-10.2.0.34.img
diff --git a/test/legacy/roles/cnos_image/tasks/main.yml b/test/legacy/roles/cnos_image/tasks/main.yml
deleted file mode 100644
index 3b3d36c432..0000000000
--- a/test/legacy/roles/cnos_image/tasks/main.yml
+++ /dev/null
@@ -1,16 +0,0 @@
-# This contain sample Image download tasks
----
-
-- name: Test Image transfer
-  cnos_image: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_image_{{ inventory_hostname }}_output.txt protocol='{{item.protocol}}' serverip='{{item.serverip}}' imgpath={{ hostvars[inventory_hostname]['imgpath']}} imgtype='{{item.imgtype}}' serverusername='{{item.serverusername}}' serverpassword='{{item.serverpassword}}'
-  with_items: "{{test_image_data1}}"
-
-#Root folder will be different for SFTP/SCP and TFTP
-#The following task is commented. 
-#Before trying this, please change in /etc/ansible/hosts file 
-#and place an image with reference to your tftp-root folder  
-#- name: Test Image tftp
-#  cnos_image: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_image_{{ inventory_hostname }}_output.txt protocol='{{item.protocol}}' serverip='{{item.serverip}}' imgpath={{ hostvars[inventory_hostname]['imgpath']}} imgtype='{{item.imgtype}}'
-#  with_items: "{{test_image_data2}}"
-  
-# Completed file
diff --git a/test/legacy/roles/cnos_image/vars/main.yml b/test/legacy/roles/cnos_image/vars/main.yml
deleted file mode 100644
index 1b77668dda..0000000000
--- a/test/legacy/roles/cnos_image/vars/main.yml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-test_image_data1:
-  - {protocol: "sftp", serverip: "10.241.106.118", imgtype: "os", serverusername: "root", serverpassword: "root123"}
-
-test_image_data2:
-  - {protocol: "tftp", serverip: "10.241.106.118", imgtype: "os"}
diff --git a/test/legacy/roles/cnos_portchannel/README.md b/test/legacy/roles/cnos_portchannel/README.md
deleted file mode 100644
index 6f90dd89e4..0000000000
--- a/test/legacy/roles/cnos_portchannel/README.md
+++ /dev/null
@@ -1,115 +0,0 @@
-# Ansible Role: cnos_portchannel_sample - Switch Link Aggregation Group (LAG) configuration
----
-<add role description below>
-
-This role is an example of using the *cnos_portchannel.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with port aggregation related configurations. The operators used are overloaded to ensure control over switch port aggregation configurations.
-
-Apart from the regular device connection related attributes, there are five vLAG arguments which are overloaded variables that will perform further configurations. They are portChArg1, portChArg2, portChArg3, portChArg4, and portChArg5.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_portchannel](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_portchannel.html&cp=0_3_1_0_4_13).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`interfaceRange` | Specifies the interface range that will be part of the LAG
-`portChArg1` | This is an overloaded BGP variable. Please refer to the [cnos_portchannel module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_portchannel.html?cp=0_3_1_0_2_14) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **aggregation-group**, **bridge-port**, **description**, **duplex**, **flowcontrol**, **lacp**, **lldp**, **load-interval**, **mac**, **mac-address**, **mac-learn**, **microburst-detection**, **mtu**, **service**, **service-policy**, **shutdown**, **snmp**, **speed**, **storm-control**, **vlan**, **vrrp**, **port-aggregation**.
-`portChArg2` | This is an overloaded BGP variable. Please refer to the [cnos_portchannel module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_portchannel.html?cp=0_3_1_0_2_14) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: specify a LAG number, **access**, **mode**, **trunk**, LAG description, **auto**, **full**, **half**, **receive**, **send**, **port-priority**, **suspend-individual**, **timeout**, **transmit**, **trap-notification**, **tlv-select**, load interval delay, **counter**, name for the MAC access group, MAC address in XXXX.XXXX.XXXX format, threshold value, MTU in bytes, instance ID to map to the EVC, **input**, **output**, **copp-system-policy**, **type**, **auto**, 1000, 10000, 40000, **broadcast**, **unicast**, **multicast**, **disable**, **enable**, **egress-only**, virtual router ID, **destination-ip**, **destination-mac**, **destination-port**, **source-dest-ip**, **source-dest-mac**, **source-dest-port**, **source-interface**, **source-ip**, **source-mac**, **source-port**.
-`portChArg3` | This is an overloaded BGP variable. Please refer to the [cnos_portchannel module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_portchannel.html?cp=0_3_1_0_2_14) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **active**, **passive**, **on**, **off**, LACP port priority, **long**, **short**, **link-aggregation**, **mac-phy-status**, **management-address**, **max-frame-size**, **port-description**, **port-protocol-vlan**, **port-vlan**, **power-mdi**, **protocol-identity**, **system-capabilities**, **system-description**, **system-name**, **vid-management**, **vlan-name**, counter for the load interval, the name of the policy to attach, **all**, COPP class name to attach, **qos**, **queuing**, allowed traffic level, **ipv6**, **source-interface**.
-`portChArg4` | This is an overloaded BGP variable. Please refer to the [cnos_portchannel module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_portchannel.html?cp=0_3_1_0_2_14) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: load interval delay, name of the QoS policy to attach, **input**, **output**
-`portChArg5` | This is an overloaded BGP variable. Please refer to the [cnos_portchannel module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_portchannel.html?cp=0_3_1_0_2_14) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: name of the QoS policy to attach
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_portchannel.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_portchannel_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_portchannel_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_portchannel_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do Port Channel configurations
-   hosts: cnos_portchannel_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_portchannel_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_portchannel/cnos_portchannel_sample_hosts b/test/legacy/roles/cnos_portchannel/cnos_portchannel_sample_hosts
deleted file mode 100644
index 1fc68a9228..0000000000
--- a/test/legacy/roles/cnos_portchannel/cnos_portchannel_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_portchannel_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_portchannel_sample]
-10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_portchannel/tasks/main.yml b/test/legacy/roles/cnos_portchannel/tasks/main.yml
deleted file mode 100644
index e30a424a2a..0000000000
--- a/test/legacy/roles/cnos_portchannel/tasks/main.yml
+++ /dev/null
@@ -1,98 +0,0 @@
-# This contain sample template execution tasks
----
-- name: Test Port Channel - aggregation-group
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data1}}"
- 
-- name: Test Port Channel - aggregation-group - Interface Range
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data24}}"
-
-- name: Test Port Channel - bridge-port
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt  interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data2}}"
-
-- name: Test Port Channel - bridgeport mode
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data3}}"
-
-- name: Test Port Channel  - Description
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_portchannel_data4}}"
-
-- name: Test Port Channel - Duplex
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_portchannel_data5}}"
-
-- name: Test Port Channel - flowcontrol
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data6}}"
-
-- name: Test Port Channel - lacp
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data7}}"
-
-- name: Test Port Channel  - lldp
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data8}}"
-
-- name: Test Port Channel - load-interval
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}'
-  with_items: "{{test_portchannel_data9}}"
-
-#- name: Test Port Channel - mac
-#  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-#  with_items: "{{test_portchannel_data10}}"
-
-- name: Test Port Channel - microburst-detection
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_portchannel_data11}}"
-
-- name: Test Port Channel  - mtu
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_portchannel_data12}}"
-
-- name: Test Port Channel - service-policy
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data13}}"
-
-- name: Test Port Channel - speed
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_portchannel_data14}}"
-
-- name: Test Port Channel - storm
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data15}}"
-
-#- name: Test Port Channel - vlan
-#  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-#  with_items: "{{test_portchannel_data16}}"
-
-- name: Test Port Channel - vrrp
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}'
-  with_items: "{{test_portchannel_data17}}"
-
-- name: Test Port Channel - spanning tree1
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data18}}"
-
-- name: Test Port Channel - spanning tree 2
-  cnos_portchannel: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}' interfaceArg5='{{item.interfaceArg5}}'
-  with_items: "{{test_portchannel_data19}}"
-
-- name: Test Port Channel - ip1
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}'
-  with_items: "{{test_portchannel_data20}}"
-
-- name: Test Port Channel - ip2
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}'
-  with_items: "{{test_portchannel_data21}}"
-
-- name: Test Port Channel - bfd
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}' interfaceArg5='{{item.interfaceArg5}}'
-  with_items: "{{test_portchannel_data22}}"
-
-- name: Test Port Channel - bfd
-  cnos_portchannel:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_portchannel_{{ inventory_hostname }}_output.txt interfaceRange='{{item.interfaceRange}}' interfaceArg1='{{item.interfaceArg1}}' interfaceArg2='{{item.interfaceArg2}}' interfaceArg3='{{item.interfaceArg3}}' interfaceArg4='{{item.interfaceArg4}}' interfaceArg5='{{item.interfaceArg5}}' interfaceArg6='{{item.interfaceArg6}}'
-  with_items: "{{test_portchannel_data23}}"
-## Completed file
diff --git a/test/legacy/roles/cnos_portchannel/vars/main.yml b/test/legacy/roles/cnos_portchannel/vars/main.yml
deleted file mode 100644
index f4e72e87b2..0000000000
--- a/test/legacy/roles/cnos_portchannel/vars/main.yml
+++ /dev/null
@@ -1,49 +0,0 @@
----
-test_portchannel_data1:
-  - {interfaceRange: 33, interfaceArg1: "aggregation-group", interfaceArg2: 33, interfaceArg3: "on"}
-test_portchannel_data2:
-  - {interfaceRange: 33, interfaceArg1: "bridge-port", interfaceArg2: "access", interfaceArg3: 33}
-test_portchannel_data3:
-  - {interfaceRange: 33, interfaceArg1: "bridge-port", interfaceArg2: "mode", interfaceArg3: "access"}
-test_portchannel_data4:
-  - {interfaceRange: 33, interfaceArg1: "description", interfaceArg2: "Hentammoo "}
-test_portchannel_data5:
-  - {interfaceRange: 2, interfaceArg1: "duplex", interfaceArg2: "auto"}
-test_portchannel_data6:
-  - {interfaceRange: 33, interfaceArg1: "flowcontrol", interfaceArg2: "send", interfaceArg3: "off"}
-test_portchannel_data7:
-  - {interfaceRange: 33, interfaceArg1: "lacp", interfaceArg2: "port-priority", interfaceArg3: 33}
-test_portchannel_data8:
-  - {interfaceRange: 33, interfaceArg1: "lldp", interfaceArg2: "tlv-select", interfaceArg3: "max-frame-size"}
-test_portchannel_data9:
-  - {interfaceRange: 33, interfaceArg1: "load-interval", interfaceArg2: "counter", interfaceArg3: 2, interfaceArg4: 33 }
-test_portchannel_data10:
-  - {interfaceRange: 33, interfaceArg1: "mac", interfaceArg2: "copp-system-acl-vlag-hc"}
-test_portchannel_data11:
-  - {interfaceRange: 33, interfaceArg1: "microburst-detection", interfaceArg2: 25}
-test_portchannel_data12:
-  - {interfaceRange: 33, interfaceArg1: "mtu", interfaceArg2: 66}
-test_portchannel_data13:
-  - {interfaceRange: 33, interfaceArg1: "service-policy", interfaceArg2: "input", interfaceArg3: "Anil"}
-test_portchannel_data14:
-  - {interfaceRange: 13, interfaceArg1: "speed", interfaceArg2: "auto"}
-test_portchannel_data15:
-  - {interfaceRange: 33, interfaceArg1: "storm-control", interfaceArg2: "broadcast", interfaceArg3: 12.5 }
-test_portchannel_data16:
-  - {interfaceRange: 33, interfaceArg1: "vlan", interfaceArg2: "disable"}
-test_portchannel_data17:
-  - {interfaceRange: 33, interfaceArg1: "vrrp", interfaceArg2: 33}
-test_portchannel_data18:
-  - {interfaceRange: 33, interfaceArg1: "spanning-tree", interfaceArg2: "bpduguard", interfaceArg3: "enable"}
-test_portchannel_data19:
-  - {interfaceRange: 33, interfaceArg1: "spanning-tree", interfaceArg2: "mst", interfaceArg3: "33-35", interfaceArg4: "cost", interfaceArg5: 33}
-test_portchannel_data20:
-  - {interfaceRange: 33, interfaceArg1: "ip", interfaceArg2: "access-group", interfaceArg3: "anil", interfaceArg4: "in"}
-test_portchannel_data21:
-  - {interfaceRange: 33, interfaceArg1: "ip", interfaceArg2: "port", interfaceArg3: "anil" }
-test_portchannel_data22:
-  - {interfaceRange: 33, interfaceArg1: "bfd", interfaceArg2: "interval", interfaceArg3: 55, interfaceArg4: 55, interfaceArg5: 33}
-test_portchannel_data23:
-  - {interfaceRange: 33, interfaceArg1: "bfd", interfaceArg2: "ipv4", interfaceArg3: "authentication", interfaceArg4: "meticulous-keyed-md5", interfaceArg5: "key-chain", interfaceArg6: "mychain"}
-test_portchannel_data24:
-- {interfaceRange: "1/1-2", interfaceArg1: "aggregation-group", interfaceArg2: 33, interfaceArg3: "on"}
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_rollback/README.md b/test/legacy/roles/cnos_rollback/README.md
deleted file mode 100644
index c357bc5eb0..0000000000
--- a/test/legacy/roles/cnos_rollback/README.md
+++ /dev/null
@@ -1,117 +0,0 @@
-# Ansible Role: cnos_rollback_sample - Rolls back the configuration of a switch from a remote server
----
-<add role description below>
-
-This role is an example of using the *cnos_rollback.py* Lenovo module in the context of CNOS switch configuration.This module allows you to work with switch configurations. It provides a way to roll back configurations of a switch from a remote server. This is achieved by using startup or running configurations of the target device that were previously backed up to a remote server using FTP, SFTP, TFTP, or SCP.
-
-The first step is to create a directory from where the remote server can be reached. The next step is to provide the full file path of the backup configuration's location. Authentication details required by the remote server must be provided as well.
-
-By default, this method overwrites the switch's configuration file with the newly downloaded file.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_rollback](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_rollback.html&cp=0_3_1_0_4_5).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`configType` | Specifies the type of configuration which will be used for the rolling back process (**running-config** - running configuration, **startup-config** - startup configuration)
-`protocol` | Specifies the protocol used by the network device to interact with the remote server from where to download the backup configuration (**ftp** - FTP, **sftp** - SFTP, **tftp** - TFTP, **scp** - SCP)
-`serverip` | Specifies the IP Address of the remote server from where the backup configuration will be downloaded
-`rcpath` | Specifies the full file path where the configuration file located on the remote server (in case the relative path is used as the variable value, the root folder for the user of the server needs to be specified)
-`serverusername` | Configures the username for the server relating to the protocol used
-`serverpassword` | Configures the password for the server relating to the protocol used
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_rollback.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_rollback_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_rollback_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
- 
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_rollback_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to do rollback of configurations
-   hosts: cnos_rollback_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_rollback_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_rollback/cnos_rollback_sample_hosts b/test/legacy/roles/cnos_rollback/cnos_rollback_sample_hosts
deleted file mode 100644
index 1e3e7e37c0..0000000000
--- a/test/legacy/roles/cnos_rollback/cnos_rollback_sample_hosts
+++ /dev/null
@@ -1,18 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_rollback_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_rollback_sample]
-10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos rcpath=/root/cnos_config/G8272-running-config.txt
-
-#Use this in case its TFTP as tftpboot folder is the starting point for tftp
-#10.241.107.39  username=<username> password=<password> deviceType=g8272_cnos rcpath=/anil/G8272-running-config.txt
-
diff --git a/test/legacy/roles/cnos_rollback/tasks/main.yml b/test/legacy/roles/cnos_rollback/tasks/main.yml
deleted file mode 100644
index 59e5f123d6..0000000000
--- a/test/legacy/roles/cnos_rollback/tasks/main.yml
+++ /dev/null
@@ -1,25 +0,0 @@
-# This contain sample config Roll Back execution tasks
----
-
-- name: Test Rollback of config - Running config
-  cnos_rollback: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_rollback_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}} serverusername='{{item.serverusername}}' serverpassword='{{item.serverpassword}}'
-  with_items: "{{test_rollback_data1}}"
-  
-- name: Test Rollback of config - Startup config
-  cnos_rollback: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_rollback_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}} serverusername='{{item.serverusername}}' serverpassword='{{item.serverpassword}}'
-  with_items: "{{test_rollback_data2}}"
- 
-#Root folder will be different for SFTP/SCP and TFTP
-#The following task is commented. 
-#Before trying this, please change in /etc/ansible/hosts file 
-#and place an config file with reference to your tftp-root folder 
-
-#- name: Test Rollback of config - Running config - TFTP
-#  cnos_rollback: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_rollback_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}}
-#  with_items: "{{test_rollback_data3}}"
-  
-#- name: Test Rollback of config - Startup config - TFTP
-#  cnos_rollback: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_rollback_{{ inventory_hostname }}_output.txt configType='{{item.configType}}' protocol='{{item.protocol}}' serverip='{{item.serverip}}' rcpath={{ hostvars[inventory_hostname]['rcpath']}} 
-#  with_items: "{{test_rollback_data4}}"
-
-# Completed file
diff --git a/test/legacy/roles/cnos_rollback/vars/main.yml b/test/legacy/roles/cnos_rollback/vars/main.yml
deleted file mode 100644
index dc82301e04..0000000000
--- a/test/legacy/roles/cnos_rollback/vars/main.yml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-test_rollback_data1:
-  - {configType: running-config, protocol: "sftp", serverip: "10.241.106.118", serverusername: "root", serverpassword: "root123"}
-
-test_rollback_data2:
-  - {configType: startup-config, protocol: "sftp", serverip: "10.241.106.118", serverusername: "root", serverpassword: "root123"}
-
-test_rollback_data3:
-  - {configType: running-config, protocol: "tftp", serverip: "10.241.106.118"}
-  
-test_rollback_data4:
-  - {configType: startup-config, protocol: "tftp", serverip: "10.241.106.118"}
diff --git a/test/legacy/roles/cnos_save/README.md b/test/legacy/roles/cnos_save/README.md
deleted file mode 100644
index a5d26dd8f2..0000000000
--- a/test/legacy/roles/cnos_save/README.md
+++ /dev/null
@@ -1,94 +0,0 @@
-# Ansible Role: cnos_save_sample - Saving the switch running configuration
----
-<add role description below>
-
-This role is an example of using the *cnos_save.py* Lenovo module in the context of CNOS switch configuration. This module allows you to copy the running configuration of a switch over its startup configuration. It is recommended to use this module shortly after any major configuration changes so they persist after a switch restart.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_save](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_save.html&cp=0_3_1_0_4_3).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_save.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_save_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_save_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
- 
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_save_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do save configurations
-   hosts: cnos_save_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_save_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_save/cnos_save_sample_hosts b/test/legacy/roles/cnos_save/cnos_save_sample_hosts
deleted file mode 100644
index 0f34cf17fa..0000000000
--- a/test/legacy/roles/cnos_save/cnos_save_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_save_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_save_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_save/tasks/main.yml b/test/legacy/roles/cnos_save/tasks/main.yml
deleted file mode 100644
index c6e5a5d5ee..0000000000
--- a/test/legacy/roles/cnos_save/tasks/main.yml
+++ /dev/null
@@ -1,18 +0,0 @@
-# This contain sample template execution tasks
----
-- name: Test Save
-  cnos_save:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_save_{{ inventory_hostname }}_output.txt 
-  with_items: "{{cnos_save_data1}}"
-
-- name: Test Reset to factory
-  cnos_factory:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_save_{{ inventory_hostname }}_output.txt 
-  with_items: "{{cnos_save_data2}}"
-
-- name: Test Again save
-  cnos_save:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_save_{{ inventory_hostname }}_output.txt 
-  with_items: "{{cnos_save_data3}}"
-
-- name: Test Reload
-  cnos_reload:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_save_{{ inventory_hostname }}_output.txt 
-  with_items: "{{cnos_save_data4}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_save/vars/main.yml b/test/legacy/roles/cnos_save/vars/main.yml
deleted file mode 100644
index e577a44753..0000000000
--- a/test/legacy/roles/cnos_save/vars/main.yml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-cnos_save_data1:
-  - {}
-cnos_save_data2:
-  - {}
-cnos_save_data3:
-  - {}
-cnos_save_data4:
-  - {}
diff --git a/test/legacy/roles/cnos_showrun/README.md b/test/legacy/roles/cnos_showrun/README.md
deleted file mode 100644
index ddbff3e704..0000000000
--- a/test/legacy/roles/cnos_showrun/README.md
+++ /dev/null
@@ -1,94 +0,0 @@
-# Ansible Role: cnos_showrun_sample - Displays Running Configuration information
----
-<add role description below>
-
-This role is an example of using the *cnos_showrun.py* Lenovo module in the context of CNOS switch configuration. This module allows you to view the switch information. It executes the **display running-config** CLI command on a switch and returns a file containing all the system information of the target network device.
-
-The results of the operation can be viewed in results directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_showrun](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_showrun.html&cp=0_3_1_0_4_0).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_showrun.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_showrun_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The hosts file for the role is located in the main directory of the role.
-
-```
-[cnos_showrun_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_showrun_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to do Show Sys Info
-   hosts: cnos_showrun_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_showrun_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_showrun/cnos_showrun_sample_hosts b/test/legacy/roles/cnos_showrun/cnos_showrun_sample_hosts
deleted file mode 100644
index 6c90bab8fd..0000000000
--- a/test/legacy/roles/cnos_showrun/cnos_showrun_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_facts_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_showrun_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_showrun/tasks/main.yml b/test/legacy/roles/cnos_showrun/tasks/main.yml
deleted file mode 100644
index 9a4881dba6..0000000000
--- a/test/legacy/roles/cnos_showrun/tasks/main.yml
+++ /dev/null
@@ -1,6 +0,0 @@
-# This contain sample show rnunning config tasks
----
-- name: Test Running Configurations
-  cnos_showrun: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} enablePassword='{{item.enablePassword}}' outputfile=./results/cnos_showrun_{{ inventory_hostname }}_output.txt
-  with_items: "{{test_showrun_data}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_showrun/vars/main.yml b/test/legacy/roles/cnos_showrun/vars/main.yml
deleted file mode 100644
index 892e75c5fb..0000000000
--- a/test/legacy/roles/cnos_showrun/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-test_showrun_data:
-  - {enablePassword: "anil"}
diff --git a/test/legacy/roles/cnos_template/README.md b/test/legacy/roles/cnos_template/README.md
deleted file mode 100644
index 4c4a261848..0000000000
--- a/test/legacy/roles/cnos_template/README.md
+++ /dev/null
@@ -1,110 +0,0 @@
-# Ansible Role: cnos_template_sample - Manages switch configuration using templates
----
-<add role description below>
-
-This role is an example of using the *cnos_template.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with the running configuration of a switch. It provides a way to execute a set of CNOS commands on a switch by evaluating the current running configuration and executing the commands only if the specific settings have not been already configured.
-
-The configuration source can be a set of commands or a template written in the Jinja2 templating language.#
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_template](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_template.html&cp=0_3_1_0_4_10).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`commandfile` | Specifies the path to the CNOS command file which needs to be applied
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_template.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_template_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_template_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_template_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do some template configurations
-   hosts: cnos_template_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_template_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_template/cnos_template_sample_hosts b/test/legacy/roles/cnos_template/cnos_template_sample_hosts
deleted file mode 100644
index 8e84f5ec2e..0000000000
--- a/test/legacy/roles/cnos_template/cnos_template_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_template_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_template_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_template/tasks/main.yml b/test/legacy/roles/cnos_template/tasks/main.yml
deleted file mode 100644
index 689358a6ee..0000000000
--- a/test/legacy/roles/cnos_template/tasks/main.yml
+++ /dev/null
@@ -1,10 +0,0 @@
-# This contain sample template execution tasks
----
-- name: Replace Config CLI command template with values
-  template: src=demo_template.j2 dest=./commands/cnos_template_{{ inventory_hostname }}_commands.txt
-  with_items: "{{cnos_template_data}}"
-
-- name: Applying CLI commands on Switches
-  cnos_template: host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} commandfile=./commands/cnos_template_{{ inventory_hostname }}_commands.txt outputfile=./results/cnos_template_{{ inventory_hostname }}_output.txt
-  with_items: "{{cnos_template_data}}"
-# Completed file
diff --git a/test/legacy/roles/cnos_template/templates/demo_template.j2 b/test/legacy/roles/cnos_template/templates/demo_template.j2
deleted file mode 100644
index 1b683084f5..0000000000
--- a/test/legacy/roles/cnos_template/templates/demo_template.j2
+++ /dev/null
@@ -1,14 +0,0 @@
-#Demo Template
-vlan {{item.vlanid1}}
-exit
-config d
-interface ethernet {{item.slot_chassis_number1}}
-aggregation-group {{item.portchannel_interface_number1}} mode {{item.portchannel_mode1}}
-exit
-config d
-interface port-aggregation {{item.portchannel_interface_number1}}
-shut
-lacp suspend-individual
-no shut
-exit
-
diff --git a/test/legacy/roles/cnos_template/vars/main.yml b/test/legacy/roles/cnos_template/vars/main.yml
deleted file mode 100644
index 51223679f9..0000000000
--- a/test/legacy/roles/cnos_template/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-cnos_template_data:
-  - {vlanid1: 13, slot_chassis_number1: "1/2", portchannel_interface_number1: 100, portchannel_mode1: "active"}
diff --git a/test/legacy/roles/cnos_vlag/README.md b/test/legacy/roles/cnos_vlag/README.md
deleted file mode 100644
index d0d4d4a656..0000000000
--- a/test/legacy/roles/cnos_vlag/README.md
+++ /dev/null
@@ -1,113 +0,0 @@
-# Ansible Role: cnos_vlag_sample - Switch vLAG configuration
----
-<add role description below>
-
-This role is an example of using the *cnos_vlag.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with virtual Link Aggregation Groups (vLAG) related configurations. The operators used are overloaded to ensure control over switch vLAG configurations.
-
-Apart from the regular device connection related attributes, there are four vLAG arguments which are overloaded variables that will perform further configurations. They are *vlagArg1*, *vlagArg2*, *vlagArg3*, and *vlagArg4*.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_vlag](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_vlag.html&cp=0_3_1_0_4_15).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`vlagArg1` | This is an overloaded BGP variable. Please refer to the [cnos_vlag module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_template.html?cp=0_3_1_0_2_10) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **enable**, **auto-recovery**, **config-consistency**, **isl**, **mac-address-table**, **peer-gateway**, **priority**, **startup-delay**, **tier-id**, **vrrp**, **instance**, **hlthchk**.
-`vlagArg2` | This is an overloaded BGP variable. Please refer to the [cnos_vlag module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_template.html?cp=0_3_1_0_2_10) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: auto-recovery interval, **disabled**, **strict**, port aggregation number, vLAG priority, delay time, vLAG tier ID value, vLAG instance number, **keepalive-attempts**, **keepalive-interval**, **retry-interval**, **peer-ip**.
-`vlagArg3` | This is an overloaded BGP variable. Please refer to the [cnos_vlag module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_template.html?cp=0_3_1_0_2_10) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **enable**, **port-aggregation**, number of Keep Alive attempts, Keep Alive interval, retry interval, vLAG Health Check peer IP address.
-`vlagArg4` | This is an overloaded BGP variable. Please refer to the [cnos_vlag module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_template.html?cp=0_3_1_0_2_10) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: LAG Number, **default**, **management**.
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_vlag.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_vlag_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_vlag_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_vlag_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to  do VLAG configurations
-   hosts: cnos_vlag_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_vlag_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_vlag/cnos_vlag_sample_hosts b/test/legacy/roles/cnos_vlag/cnos_vlag_sample_hosts
deleted file mode 100644
index 7ccf4dd47f..0000000000
--- a/test/legacy/roles/cnos_vlag/cnos_vlag_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_vlag_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_vlag_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-
diff --git a/test/legacy/roles/cnos_vlag/tasks/main.yml b/test/legacy/roles/cnos_vlag/tasks/main.yml
deleted file mode 100644
index d847196b60..0000000000
--- a/test/legacy/roles/cnos_vlag/tasks/main.yml
+++ /dev/null
@@ -1,51 +0,0 @@
-# This contain sample template execution tasks
----
-- name: Test Vlag  - enable
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}'
-  with_items: "{{test_vlag_data1}}"
-- name: Test Vlag - autorecovery
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data2}}"
-- name: Test Vlag - config-consistency
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data3}}"
-- name: Test Vlag - isl
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data4}}"
-- name: Test Vlag  - mac-address-table
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}'
-  with_items: "{{test_vlag_data5}}"
-- name: Test Vlag - peer-gateway
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}'
-  with_items: "{{test_vlag_data6}}"
-- name: Test Vlag - priority
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data7}}"
-- name: Test Vlag - startup-delay
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data8}}"
-- name: Test Vlag  - tier-id
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data9}}"
-- name: Test Vlag - vrrp
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}'
-  with_items: "{{test_vlag_data10}}"
-- name: Test Vlag - instance
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}' vlagArg3='{{item.vlagArg3}}'
-  with_items: "{{test_vlag_data11}}"
-- name: Test Vlag - instance2
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}'
-  with_items: "{{test_vlag_data12}}"
-- name: Test Vlag  - keepalive-attempts
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}' vlagArg3='{{item.vlagArg3}}'
-  with_items: "{{test_vlag_data13}}"
-- name: Test Vlag - keepalive-interval
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}' vlagArg3='{{item.vlagArg3}}'
-  with_items: "{{test_vlag_data14}}"
-- name: Test Vlag - retry-interval
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}' vlagArg3='{{item.vlagArg3}}'
-  with_items: "{{test_vlag_data15}}"
-- name: Test Vlag - peer ip
-  cnos_vlag:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlag_{{ inventory_hostname }}_output.txt vlagArg1='{{item.vlagArg1}}' vlagArg2='{{item.vlagArg2}}' vlagArg3='{{item.vlagArg3}}'
-  with_items: "{{test_vlag_data16}}"
-# Completed file
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_vlag/vars/main.yml b/test/legacy/roles/cnos_vlag/vars/main.yml
deleted file mode 100644
index 4ea15be929..0000000000
--- a/test/legacy/roles/cnos_vlag/vars/main.yml
+++ /dev/null
@@ -1,33 +0,0 @@
----
-test_vlag_data1:
-  - {vlagArg1: "enable"}
-test_vlag_data2:
-  - {vlagArg1: "auto-recovery", vlagArg2: 266}
-test_vlag_data3:
-  - {vlagArg1: "config-consistency", vlagArg2: "strict"}
-test_vlag_data4:
-  - {vlagArg1: "isl", vlagArg2: 33}
-test_vlag_data5:
-  - {vlagArg1: "mac-address-table"}
-test_vlag_data6:
-  - {vlagArg1: "peer-gateway"}
-test_vlag_data7:
-  - {vlagArg1: "priority", vlagArg2: 1313}
-test_vlag_data8:
-  - {vlagArg1: "startup-delay", vlagArg2: 323}
-test_vlag_data9:
-  - {vlagArg1: "tier-id", vlagArg2: 313}
-test_vlag_data10:
-  - {vlagArg1: "vrrp"}
-test_vlag_data11:
-  - {vlagArg1: "instance", vlagArg2: 33, vlagArg3: 333}
-test_vlag_data12:
-  - {vlagArg1: "instance", vlagArg2: "33"}
-test_vlag_data13:
-  - {vlagArg1: "hlthchk", vlagArg2: "keepalive-attempts", vlagArg3: 13}
-test_vlag_data14:
-  - {vlagArg1: "hlthchk", vlagArg2: "keepalive-interval", vlagArg3: 131}
-test_vlag_data15:
-  - {vlagArg1: "hlthchk", vlagArg2: "retry-interval", vlagArg3: 133}
-test_vlag_data16:
-  - {vlagArg1: "hlthchk", vlagArg2: "peer-ip", vlagArg3: "1.2.3.4"}
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_vlan/README.md b/test/legacy/roles/cnos_vlan/README.md
deleted file mode 100644
index 13af3646b5..0000000000
--- a/test/legacy/roles/cnos_vlan/README.md
+++ /dev/null
@@ -1,114 +0,0 @@
-# Ansible Role: cnos_vlan_sample - Switch VLAN configuration
----
-<add role description below>
-
-This role is an example of using the *cnos_vlan.py* Lenovo module in the context of CNOS switch configuration. This module allows you to work with VLAN related configurations. The operators used are overloaded to ensure control over switch VLAN configurations.
-
-The first level of VLAN configuration allows to set up the VLAN range, the VLAN tag persistence, a VLAN access map and access map filter. After passing this level, there are five VLAN arguments that will perform further configurations. They are *vlanArg1*, *vlanArg2*, *vlanArg3*, *vlanArg4*, and *vlanArg5*. The value of *vlanArg1* will determine the way following arguments will be evaluated.
-
-The results of the operation can be viewed in *results* directory.
-
-For more details, see [Lenovo modules for Ansible: cnos_vlan](http://systemx.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.switchmgt.ansible.doc%2Fcnos_vlan.html&cp=0_3_1_0_4_14).
-
-
-## Requirements
----
-<add role requirements information below>
-
-- Ansible version 2.2 or later ([Ansible installation documentation](https://docs.ansible.com/ansible/intro_installation.html))
-- Lenovo switches running CNOS version 10.2.1.0 or later
-- an SSH connection to the Lenovo switch (SSH must be enabled on the network device)
-
-
-## Role Variables
----
-<add role variables information below>
-
-Available variables are listed below, along with description.
-
-The following are mandatory inventory variables:
-
-Variable | Description
---- | ---
-`username` | Specifies the username used to log into the switch
-`password` | Specifies the password used to log into the switch
-`enablePassword` | Configures the password used to enter Global Configuration command mode on the switch (this is an optional parameter)
-`hostname` | Searches the hosts file at */etc/ansible/hosts* and identifies the IP address of the switch on which the role is going to be applied
-`deviceType` | Specifies the type of device from where the configuration will be backed up (**g8272_cnos** - G8272, **g8296_cnos** - G8296)
-
-The values of the variables used need to be modified to fit the specific scenario in which you are deploying the solution. To change the values of the variables, you need to visits the *vars* directory of each role and edit the *main.yml* file located there. The values stored in this file will be used by Ansible when the template is executed.
-
-The syntax of *main.yml* file for variables is the following:
-
-```
-<template variable>:<value>
-```
-
-You will need to replace the `<value>` field with the value that suits your topology. The `<template variable>` fields are taken from the template and it is recommended that you leave them unchanged.
-
-Variable | Description
---- | ---
-`vlanArg1` | This is an overloaded BGP variable. Please refer to the [cnos_vlan module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_vlan.html?cp=0_3_1_0_2_16) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **access-map**, **dot1q**, **filter**, specify VLAN.
-`vlanArg2` | This is an overloaded BGP variable. Please refer to the [cnos_vlan module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_vlan.html?cp=0_3_1_0_2_16) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: VLAN access map name, **egress-only**, **name**, **flood**, **state**, **ip**.
-`vlanArg3` | This is an overloaded BGP variable. Please refer to the [cnos_vlan module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_vlan.html?cp=0_3_1_0_2_16) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **action**, **match**, **statistics**, specify VLAN, name of the VLAN, **ipv4**, **ipv6**, **active**, **suspend**, **fast-leave**, **last-member-query-interval**, **mrouter**, **querier**, **querier-timeout**, **query-interval**, **query-max-response-time**, **report-suppression**, **robustness-variable**, **startup-query-count**, **startup-query-interval**.
-`vlanArg4` | This is an overloaded BGP variable. Please refer to the [cnos_vlan module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_vlan.html?cp=0_3_1_0_2_16) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: **drop**, **forward**, **redirect**, **ip**, **mac**, last member query interval, **ethernet**, **port-aggregation**, querier IP address, querier timeout interval, query interval, query maximum response interval, robustness variable value, numbers of queries sent at startup, startup query interval.
-`vlanArg5` | This is an overloaded BGP variable. Please refer to the [cnos_vlan module documentation](http://ralfss28.labs.lenovo.com:5555/help/topic/com.lenovo.switchmgt.ansible.doc/cnos_vlan.html?cp=0_3_1_0_2_16) for detailed information on usage. The values of these variables depend on the configuration context and the choices are the following: ACL name, specify ethernet port, LAG number.
-
-
-## Dependencies
----
-<add dependencies information below>
-
-- username.iptables - Configures the firewall and blocks all ports except those needed for web server and SSH access.
-- username.common - Performs common server configuration.
-- cnos_vlan.py - This modules needs to be present in the *library* directory of the role.
-- cnos.py - This module needs to be present in the PYTHONPATH environment variable set in the Ansible system.
-- /etc/ansible/hosts - You must edit the */etc/ansible/hosts* file with the device information of the switches designated as leaf switches. You may refer to *cnos_vlan_sample_hosts* for a sample configuration.
-
-Ansible keeps track of all network elements that it manages through a hosts file. Before the execution of a playbook, the hosts file must be set up.
-
-Open the */etc/ansible/hosts* file with root privileges. Most of the file is commented out by using **#**. You can also comment out the entries you will be adding by using **#**. You need to copy the content of the hosts file for the role into the */etc/ansible/hosts* file. The sample hosts file for the role is located in the main directory.
-
-```
-[cnos_vlan_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos
-10.241.107.40   username=<username> password=<password> deviceType=g8272_cnos 
-```
-    
-**Note:** You need to change the IP addresses to fit your specific topology. You also need to change the `<username>` and `<password>` to the appropriate values used to log into the specific Lenovo network devices.
-
-
-## Example Playbook
----
-<add playbook samples below>
-
-To execute an Ansible playbook, use the following command:
-
-```
-ansible-playbook cnos_vlan_sample.yml -vvv
-```
-
-`-vvv` is an optional verbose command that helps identify what is happening during playbook execution. The playbook for each role is located in the main directory of the solution.
-
-```
- - name: Module to do VLAN configurations
-   hosts: cnos_vlan_sample
-   gather_facts: no
-   connection: local
-   roles:
-    - cnos_vlan_sample
-```
-
-
-## License
----
-<add license information below>
-Copyright (C) 2017 Lenovo, Inc.
-
-This file is part of Ansible
-
-Ansible is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
-
-Ansible is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_vlan/cnos_vlan_sample_hosts b/test/legacy/roles/cnos_vlan/cnos_vlan_sample_hosts
deleted file mode 100644
index cbb3c31e64..0000000000
--- a/test/legacy/roles/cnos_vlan/cnos_vlan_sample_hosts
+++ /dev/null
@@ -1,15 +0,0 @@
-# You have to paste this dummy information  in /etc/ansible/hosts
-#    Notes:
-#    - Comments begin with the '#' character
-#    - Blank lines are ignored
-#    - Groups of hosts are delimited by [header] elements
-#    - You can enter hostnames or ip addresses
-#    - A hostname/ip can be a member of multiple groups
-#
-# In the /etc/ansible/hosts file u have to enter [cnos_vlan_sample] tag
-# Following you should specify IP Addresses details
-# Please change <username> and <password> with appropriate value for your switch.
-
-[cnos_vlan_sample]
-10.241.107.39   username=<username> password=<password> deviceType=g8272_cnos 
-
diff --git a/test/legacy/roles/cnos_vlan/tasks/main.yml b/test/legacy/roles/cnos_vlan/tasks/main.yml
deleted file mode 100644
index 6409f8196c..0000000000
--- a/test/legacy/roles/cnos_vlan/tasks/main.yml
+++ /dev/null
@@ -1,38 +0,0 @@
-# This contain sample template execution task
----
-- name: Test Vlan - Create a vlan, name it
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}'
-  with_items: "{{cnos_vlan_data1}}"
-
-- name: Test Vlan - Create a vlan, Flood configuration
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}'
-  with_items: "{{cnos_vlan_data2}}"
-
-- name: Test Vlan - Create a vlan, State configuration
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}'
-  with_items: "{{cnos_vlan_data3}}"
-
-- name: Test Vlan - VLAN Access map1
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}'
-  with_items: "{{cnos_vlan_data4}}"
-
-- name: Test Vlan - VLAN Accep Map2
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}' vlanArg4='{{item.vlanArg4}}'
-  with_items: "{{cnos_vlan_data5}}"
-
-- name: Test Vlan - ip igmp snooping query interval
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}' vlanArg4='{{item.vlanArg4}}'
-  with_items: "{{cnos_vlan_data6}}"
- 
-- name: Test Vlan - ip igmp snooping last member query interval
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}' vlanArg4='{{item.vlanArg4}}'
-  with_items: "{{cnos_vlan_data7}}"
-
-- name: Test Vlan - ip igmp snooping mrouter interface port-aggregation
-  cnos_vlan:  host={{ inventory_hostname }} username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} outputfile=./results/cnos_vlan_{{ inventory_hostname }}_output.txt  vlanArg1='{{item.vlanArg1}}' vlanArg2='{{item.vlanArg2}}' vlanArg3='{{item.vlanArg3}}' vlanArg4='{{item.vlanArg4}}' vlanArg5='{{item.vlanArg5}}'
-  with_items: "{{cnos_vlan_data8}}"
-
-- name: Idempotent Command
-  cnos_command: host={{ inventory_hostname }}  username={{ hostvars[inventory_hostname]['username']}}  password={{ hostvars[inventory_hostname]['password']}} deviceType={{ hostvars[inventory_hostname]['deviceType']}} clicommand='{{item.clicommand}}' outputfile=./results/cnos_command_{{ inventory_hostname }}_output.txt
-  with_items: "{{cnos_vlan_data9}}"
-# Completed file
\ No newline at end of file
diff --git a/test/legacy/roles/cnos_vlan/vars/main.yml b/test/legacy/roles/cnos_vlan/vars/main.yml
deleted file mode 100644
index c22b9cda1b..0000000000
--- a/test/legacy/roles/cnos_vlan/vars/main.yml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-cnos_vlan_data1:
-  - {vlanArg1: 13, vlanArg2: "name", vlanArg3: "anil"}
-cnos_vlan_data2:
-  - {vlanArg1: 13, vlanArg2: "flood", vlanArg3: "ipv4"}
-cnos_vlan_data3:
-  - {vlanArg1: 13, vlanArg2: "state", vlanArg3: "active"}
-cnos_vlan_data4:
-  - {vlanArg1: "access-map", vlanArg2: "anil", vlanArg3: "statistics"}
-cnos_vlan_data5:
-  - {vlanArg1: "access-map", vlanArg2: "anil", vlanArg3: "action", vlanArg4: "forward"}
-cnos_vlan_data6:
-  - {vlanArg1: 13, vlanArg2: "ip", vlanArg3: "query-interval", vlanArg4: 1313}
-cnos_vlan_data7:
-  - {vlanArg1: 13, vlanArg2: "ip", vlanArg3: "last-member-query-interval", vlanArg4: 23}
-cnos_vlan_data8:
-  - {vlanArg1: 13, vlanArg2: "ip", vlanArg3: "mrouter", vlanArg4: "port-aggregation", vlanArg5: 23}
-cnos_vlan_data9:
-  - {clicommand: "no vlan 13"}
\ No newline at end of file
diff --git a/test/legacy/roles/ec2_elb_instance_setup/defaults/main.yml b/test/legacy/roles/ec2_elb_instance_setup/defaults/main.yml
deleted file mode 100644
index 04ebaf9f45..0000000000
--- a/test/legacy/roles/ec2_elb_instance_setup/defaults/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# defaults for ec2_elb_setup
diff --git a/test/legacy/roles/ec2_elb_instance_setup/files/index.html b/test/legacy/roles/ec2_elb_instance_setup/files/index.html
deleted file mode 100644
index 937fbdd7c7..0000000000
--- a/test/legacy/roles/ec2_elb_instance_setup/files/index.html
+++ /dev/null
@@ -1,6 +0,0 @@
-<html>
-<head>Hi!</head>
-<body>
-Hello!
-</body>
-</html>
diff --git a/test/legacy/roles/ec2_elb_instance_setup/meta/main.yml b/test/legacy/roles/ec2_elb_instance_setup/meta/main.yml
deleted file mode 100644
index 32cf5dda7e..0000000000
--- a/test/legacy/roles/ec2_elb_instance_setup/meta/main.yml
+++ /dev/null
@@ -1 +0,0 @@
-dependencies: []
diff --git a/test/legacy/roles/ec2_elb_instance_setup/tasks/main.yml b/test/legacy/roles/ec2_elb_instance_setup/tasks/main.yml
deleted file mode 100644
index 79584893ed..0000000000
--- a/test/legacy/roles/ec2_elb_instance_setup/tasks/main.yml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-# tasks file for ec2_elb_setup
-
-# ============================================================
-# install apache on the ec2 instances
-
-- name: install apache on new ec2 instances
-  package: name=httpd
-  when: ansible_os_family == 'RedHat'
-
-- name: install apache on new ec2 instances
-  package: name=apache
-  when: ansible_os_family == 'Debian'
-
-- name: start and enable apache
-  service: name=httpd state=started enabled=yes
-
-- name: create an index.html landing page
-  copy: dest=/var/www/html/index.html src=index.html owner=root group=root mode=0644
diff --git a/test/legacy/roles/ec2_provision_instances/defaults/main.yml b/test/legacy/roles/ec2_provision_instances/defaults/main.yml
deleted file mode 100644
index b58153ecde..0000000000
--- a/test/legacy/roles/ec2_provision_instances/defaults/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-# defaults file for ec2_provision_isntances
-count: 1
diff --git a/test/legacy/roles/ec2_provision_instances/meta/main.yml b/test/legacy/roles/ec2_provision_instances/meta/main.yml
deleted file mode 100644
index 45f0cedf8e..0000000000
--- a/test/legacy/roles/ec2_provision_instances/meta/main.yml
+++ /dev/null
@@ -1,4 +0,0 @@
-dependencies:
-  - prepare_tests
-  - setup_sshkey
-  - setup_ec2
diff --git a/test/legacy/roles/ec2_provision_instances/tasks/main.yml b/test/legacy/roles/ec2_provision_instances/tasks/main.yml
deleted file mode 100644
index 2f3c283e85..0000000000
--- a/test/legacy/roles/ec2_provision_instances/tasks/main.yml
+++ /dev/null
@@ -1,49 +0,0 @@
----
-# tasks file for ec2_provision_instances
-
-# ============================================================
-# create a keypair using the ssh key
-
-- name: create the keypair for ec2
-  ec2_key:
-    name: "{{ resource_prefix }}"
-    region: "{{ ec2_region }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    key_material: "{{ key_material }}"
-    wait: yes
-    state: present
-
-# ============================================================
-# create some instances for testing, and add them to a new
-# group ("ec2") for use later
-
-- name: create ec2 instances for testing
-  ec2:
-    instance_type: t1.micro
-    image: ami-fb8e9292
-    group: default
-    region: "{{ ec2_region }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    key_name: "{{ resource_prefix }}"
-    wait: yes
-    instance_tags:
-        Name: "{{ resource_prefix }}"
-    exact_count: "{{ count }}"
-    count_tag:
-        Name: "{{ resource_prefix }}"
-  register: ec2_provision_result
-
-- name: add ec2 instances to a new group
-  add_host:
-    hostname: "{{ item.public_ip }}"
-    groups: "ec2"
-    ansible_ssh_private_key_file: "{{ sshkey }}"
-  with_items: ec2_provision_result.instances
-
-- name: wait for the instances to become available
-  wait_for:
-    port: 22
-    host: "{{ item.public_ip }}"
-  with_items: ec2_provision_result.instances
diff --git a/test/legacy/roles/netscaler_cs_action/defaults/main.yaml b/test/legacy/roles/netscaler_cs_action/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_cs_action/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_cs_action/sample_inventory b/test/legacy/roles/netscaler_cs_action/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_cs_action/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_cs_action/tasks/main.yaml b/test/legacy/roles/netscaler_cs_action/tasks/main.yaml
deleted file mode 100644
index 9a197e4d77..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tasks/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-- { include: testbed.yaml, state: present }
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- { include: testbed.yaml, state: absent }
diff --git a/test/legacy/roles/netscaler_cs_action/tasks/nitro.yaml b/test/legacy/roles/netscaler_cs_action/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_cs_action/tasks/testbed.yaml b/test/legacy/roles/netscaler_cs_action/tasks/testbed.yaml
deleted file mode 100644
index 08214ce7f4..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tasks/testbed.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-
-- name: Setup lb vserver
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-    name: lb-vserver-1
-
-    ipv46: 10.79.1.4
-    port: 80
-    servicetype: ANY
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression.yaml
deleted file mode 100644
index cc5b828d5f..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/target_expression/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_expression/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression/remove.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression/remove.yaml
deleted file mode 100644
index 5a0f2072c2..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_action:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: action-2
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression/setup.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression/setup.yaml
deleted file mode 100644
index c42e0f9747..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_expression/setup.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-
-- name: Setup cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_action:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: action-2
-    targetvserverexpr: '"mylb_" + HTTP.REQ.URL.SUFFIX'
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver.yaml
deleted file mode 100644
index cbe2bfcfdc..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/target_lb_vserver/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/remove.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/remove.yaml
deleted file mode 100644
index 52cc42f753..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_action:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: action-1
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/setup.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/setup.yaml
deleted file mode 100644
index 3e2757805e..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/setup.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-
-- name: Setup cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_action:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: action-1
-    targetlbvserver: lb-vserver-1
-    comment: some comment
diff --git a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/update.yaml b/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/update.yaml
deleted file mode 100644
index cf33e2e85d..0000000000
--- a/test/legacy/roles/netscaler_cs_action/tests/nitro/target_lb_vserver/update.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: Update cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_action:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: action-1
-    targetlbvserver: lb-vserver-1
-    comment: some other comment
diff --git a/test/legacy/roles/netscaler_cs_policy/defaults/main.yaml b/test/legacy/roles/netscaler_cs_policy/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_cs_policy/sample_inventory b/test/legacy/roles/netscaler_cs_policy/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_cs_policy/tasks/main.yaml b/test/legacy/roles/netscaler_cs_policy/tasks/main.yaml
deleted file mode 100644
index 9a197e4d77..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tasks/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-- { include: testbed.yaml, state: present }
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- { include: testbed.yaml, state: absent }
diff --git a/test/legacy/roles/netscaler_cs_policy/tasks/nitro.yaml b/test/legacy/roles/netscaler_cs_policy/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_cs_policy/tasks/testbed.yaml b/test/legacy/roles/netscaler_cs_policy/tasks/testbed.yaml
deleted file mode 100644
index beee58edb4..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tasks/testbed.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-
-- name: Setup cs action
-  delegate_to: localhost
-
-  netscaler_cs_action:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    name: action-1
-    targetvserverexpr: '"mylb_" + HTTP.REQ.URL.SUFFIX'
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain.yaml
deleted file mode 100644
index ef39f2fd9b..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_domain/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/remove.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/remove.yaml
deleted file mode 100644
index a698feb494..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    policyname: somepolicy
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/setup.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/setup.yaml
deleted file mode 100644
index 114523c8af..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/setup.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    policyname: somepolicy
-    domain: example.com
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/update.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/update.yaml
deleted file mode 100644
index a3191541af..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_domain/update.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Update cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    policyname: somepolicy
-    domain: example2.com
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule.yaml
deleted file mode 100644
index e5044e8489..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_rule/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule/remove.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule/remove.yaml
deleted file mode 100644
index 1fc4dc256f..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    policyname: somepolicy_rule
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule/setup.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule/setup.yaml
deleted file mode 100644
index 8c85636a91..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_rule/setup.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    policyname: somepolicy_rule
-    rule: CLIENT.IP.SRC.SUBNET(24).EQ(10.217.84.0)
-    action: action-1
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url.yaml
deleted file mode 100644
index 89a3d14607..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/policy_url/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/policy_url/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url/remove.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url/remove.yaml
deleted file mode 100644
index a698feb494..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    policyname: somepolicy
diff --git a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url/setup.yaml b/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url/setup.yaml
deleted file mode 100644
index d9f2c6db0e..0000000000
--- a/test/legacy/roles/netscaler_cs_policy/tests/nitro/policy_url/setup.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    policyname: somepolicy
-    url: /example.com/basket
diff --git a/test/legacy/roles/netscaler_cs_vserver/defaults/main.yaml b/test/legacy/roles/netscaler_cs_vserver/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_cs_vserver/sample_inventory b/test/legacy/roles/netscaler_cs_vserver/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_cs_vserver/tasks/main.yaml b/test/legacy/roles/netscaler_cs_vserver/tasks/main.yaml
deleted file mode 100644
index 9a197e4d77..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tasks/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-- { include: testbed.yaml, state: present }
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- { include: testbed.yaml, state: absent }
diff --git a/test/legacy/roles/netscaler_cs_vserver/tasks/nitro.yaml b/test/legacy/roles/netscaler_cs_vserver/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_cs_vserver/tasks/testbed.yaml b/test/legacy/roles/netscaler_cs_vserver/tasks/testbed.yaml
deleted file mode 100644
index ff521d5443..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tasks/testbed.yaml
+++ /dev/null
@@ -1,67 +0,0 @@
----
-
-- name: setup push lb vserver
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    name: push_lb_vserver
-    servicetype: PUSH
-
-
-- name: setup http lb vserver
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    name: lb-vserver-1
-    servicetype: HTTP
-    ipv46: 10.60.60.60
-    port: 80
-
-- name: setup http lb vserver
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    name: lb-vserver-2
-    servicetype: HTTP
-    ipv46: 10.60.60.62
-    port: 80
-
-
-- name: setup cs policy
-  delegate_to: localhost
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    policyname: policy-1
-    url: /example.com/basket
-
-- name: setup cs policy
-  delegate_to: localhost
-  netscaler_cs_policy:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    policyname: policy-2
-    url: /example.com/basket2
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns.yaml
deleted file mode 100644
index ce84a47e73..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_dns/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns/remove.yaml
deleted file mode 100644
index eea7b58e2b..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-6
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns/setup.yaml
deleted file mode 100644
index ac925910dc..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_dns/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-6
-    servicetype: DNS
-    ipv46: 192.168.1.6
-    port: 80
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled.yaml
deleted file mode 100644
index 92ce9a3ac0..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled.yaml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_flap_disabled/setup.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_flap_disabled/remove.yaml"
-  vars:
-    check_mode: no
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled/remove.yaml
deleted file mode 100644
index 6c10f11dc4..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http cs vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: cs-vserver-flap
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled/setup.yaml
deleted file mode 100644
index 59a4d57c26..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_flap_disabled/setup.yaml
+++ /dev/null
@@ -1,39 +0,0 @@
----
-
-- name: flap http cs vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-flap
-    servicetype: HTTP
-    ipv46: 192.168.1.1
-    port: 80
-    td: 0
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 1
-
-- name: flap http cs vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-flap
-    servicetype: HTTP
-    ipv46: 192.168.1.1
-    port: 80
-    td: 0
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 5
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http.yaml
deleted file mode 100644
index b956fa6c31..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/remove.yaml
deleted file mode 100644
index c0676ec44f..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-1
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/setup.yaml
deleted file mode 100644
index 9d7b80868c..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/setup.yaml
+++ /dev/null
@@ -1,51 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-1
-    servicetype: HTTP
-    ipv46: 192.168.1.1
-    td: 0
-
-    port: 80
-    dnsrecordtype: A
-    range: 2
-    stateupdate: disabled
-    cacheable: no
-    redirecturl: http://newurl.com
-    clttimeout: 200
-    precedence: RULE
-    casesensitive: on
-    somethod: CONNECTION
-    sopersistence: enabled
-    sopersistencetimeout: 50
-    sothreshold: 200
-    sobackupaction: DROP
-    redirectportrewrite: disabled
-    downstateflush: disabled
-    disableprimaryondown: disabled
-    insertvserveripport: VIPADDR
-    vipheader: someheader
-    rtspnat: off
-    authenticationhost: newauth.com
-    authentication: on
-    listenpolicy: "NONE"
-    authn401: off
-    authnvsname: someserver
-    push: disabled
-    pushvserver: push_lb_vserver
-    pushlabel: none
-    pushmulticlients: no
-    comment: some comment
-    l2conn: off
-    appflowlog: enabled
-    icmpvsrresponse: PASSIVE
-    rhistate: PASSIVE
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/update.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/update.yaml
deleted file mode 100644
index 763df94464..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_http/update.yaml
+++ /dev/null
@@ -1,51 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-1
-    servicetype: HTTP
-    ipv46: 192.168.1.1
-    td: 0
-
-    port: 80
-    dnsrecordtype: A
-    range: 2
-    stateupdate: disabled
-    cacheable: no
-    redirecturl: http://url.com
-    clttimeout: 200
-    precedence: RULE
-    casesensitive: on
-    somethod: CONNECTION
-    sopersistence: enabled
-    sopersistencetimeout: 50
-    sothreshold: 200
-    sobackupaction: DROP
-    redirectportrewrite: disabled
-    downstateflush: disabled
-    disableprimaryondown: disabled
-    insertvserveripport: VIPADDR
-    vipheader: someheader
-    rtspnat: off
-    authenticationhost: auth.com
-    authentication: on
-    listenpolicy: "NONE"
-    authn401: off
-    authnvsname: someserver
-    push: disabled
-    pushvserver: push_lb_vserver
-    pushlabel: none
-    pushmulticlients: no
-    comment: some comment
-    l2conn: off
-    appflowlog: enabled
-    icmpvsrresponse: PASSIVE
-    rhistate: PASSIVE
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern.yaml
deleted file mode 100644
index 7c62124705..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern/remove.yaml
deleted file mode 100644
index 2c37b80988..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-2
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern/setup.yaml
deleted file mode 100644
index ce2aa39067..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_ippattern/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-2
-
-    servicetype: HTTP
-    port: 80
-    ippattern: 10.78.10.0
-    ipmask: 255.255.255.0
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql.yaml
deleted file mode 100644
index 365f521f77..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql/remove.yaml
deleted file mode 100644
index 0196f23109..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-4
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql/setup.yaml
deleted file mode 100644
index 92268655eb..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mssql/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-4
-    servicetype: MSSQL
-    ipv46: 192.168.1.4
-    port: 80
-    mssqlserverversion: 2000
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql.yaml
deleted file mode 100644
index c578eab842..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql/remove.yaml
deleted file mode 100644
index b2555c1b2a..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-5
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql/setup.yaml
deleted file mode 100644
index 0557acfca2..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_mysql/setup.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-5
-    servicetype: MYSQL
-    ipv46: 192.168.1.5
-    port: 80
-    mysqlprotocolversion: 10
-    mysqlserverversion: Version 1
-    mysqlcharacterset: 8
-    mysqlservercapabilities: 41613
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle.yaml
deleted file mode 100644
index fe96e9345f..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle/remove.yaml
deleted file mode 100644
index b62d1eb355..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-3
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle/setup.yaml
deleted file mode 100644
index 9768efb574..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_oracle/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-3
-    servicetype: ORACLE
-    ipv46: 192.168.1.3
-    port: 80
-    td: 0
-    oracleserverversion: 10G
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies.yaml
deleted file mode 100644
index 7ab2ae3345..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/cs_vserver_policies/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/remove.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/remove.yaml
deleted file mode 100644
index b62d1eb355..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs policy
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: cs-vserver-3
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/setup.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/setup.yaml
deleted file mode 100644
index e2bacf6c02..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/setup.yaml
+++ /dev/null
@@ -1,22 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-3
-    servicetype: HTTP
-    ipv46: 192.168.1.3
-    port: 80
-    policybindings:
-      - policyname: policy-1
-        targetlbvserver: lb-vserver-1
-
-      - policyname: policy-2
-        targetlbvserver: lb-vserver-1
diff --git a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/update.yaml b/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/update.yaml
deleted file mode 100644
index f8060b82c4..0000000000
--- a/test/legacy/roles/netscaler_cs_vserver/tests/nitro/cs_vserver_policies/update.yaml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-
-
-- name: Setup cs vserver
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_cs_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: cs-vserver-3
-    servicetype: HTTP
-    ipv46: 192.168.1.3
-    port: 80
-    policybindings:
-      - policyname: policy-1
-        targetlbvserver: lb-vserver-2
diff --git a/test/legacy/roles/netscaler_gslb_service/defaults/main.yaml b/test/legacy/roles/netscaler_gslb_service/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_gslb_service/tasks/main.yaml b/test/legacy/roles/netscaler_gslb_service/tasks/main.yaml
deleted file mode 100644
index 36fde51384..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tasks/main.yaml
+++ /dev/null
@@ -1,7 +0,0 @@
----
-
-- { include: testbed.yaml, state: present }
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- { include: testbed.yaml, state: absent }
diff --git a/test/legacy/roles/netscaler_gslb_service/tasks/nitro.yaml b/test/legacy/roles/netscaler_gslb_service/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_gslb_service/tasks/testbed.yaml b/test/legacy/roles/netscaler_gslb_service/tasks/testbed.yaml
deleted file mode 100644
index f38fc4f015..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tasks/testbed.yaml
+++ /dev/null
@@ -1,34 +0,0 @@
----
-
-- name: Setup gslb site
-  delegate_to: localhost
-  netscaler_gslb_site:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    sitename: gslb-site-1
-    siteipaddress: 192.168.1.1
-    sitetype: LOCAL
-    publicip: 192.168.1.1
-    metricexchange: ENABLED
-    nwmetricexchange: ENABLED
-    sessionexchange: ENABLED
-    triggermonitor: ALWAYS
-
-- name: setup lb monitor
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    monitorname: lb-monitor-1
-    type: TCP-ECV
-
-    send: sendstring
-    recv: recvstring
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/remove.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/remove.yaml
deleted file mode 100644
index ee39fec378..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: Setup gslb service cname
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    operation: absent
-
-    servicename: gslb-service-2
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/setup.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/setup.yaml
deleted file mode 100644
index 65717b686e..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/setup.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: Setup gslb service 2
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    operation: present
-
-    servicename: gslb-service-2
-    cnameentry: example.com
-    sitename: gslb-site-1
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/update.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/update.yaml
deleted file mode 100644
index 5509d808a3..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/cname/update.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: Setup gslb service 2
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    operation: present
-
-    servicename: gslb-service-2
-    cnameentry: example.com
-    comment: added comment
-    sitename: gslb-site-1
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/http.yaml
deleted file mode 100644
index 99c4bee80a..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/remove.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/remove.yaml
deleted file mode 100644
index 2fb8386076..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/remove.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: Remove gslb service
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    servicename: gslb-service-1
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/setup.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/setup.yaml
deleted file mode 100644
index 4b4a0bc46b..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/setup.yaml
+++ /dev/null
@@ -1,39 +0,0 @@
----
-
-- name: Setup gslb service
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    servicename: gslb-service-1
-    servicetype: HTTP
-    sitename: gslb-site-1
-    ipaddress: 10.10.10.11
-    port: 80
-    publicip: 10.10.10.11
-    publicport: 80
-    maxclient: 100
-    healthmonitor: "NO"
-    cip: enabled
-    cipheader: hello
-    sitepersistence: NONE
-    siteprefix: prefix
-    clttimeout: 100
-    maxbandwidth: 100
-    downstateflush: enabled
-    maxaaausers: 100
-    monthreshold: 500
-    hashid: 10
-    comment: cool gslb service!
-    appflowlog: enabled
-
-    monitor_bindings:
-      -
-        monitor_name: lb-monitor-1
-        weight: 100
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/update.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/update.yaml
deleted file mode 100644
index 405b550560..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/http/update.yaml
+++ /dev/null
@@ -1,34 +0,0 @@
----
-
-- name: Setup gslb service
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    servicename: gslb-service-1
-    servicetype: HTTP
-    sitename: gslb-site-1
-    ipaddress: 10.10.10.11
-    port: 80
-    publicip: 10.10.10.11
-    publicport: 80
-    maxclient: 100
-    healthmonitor: "NO"
-    cip: enabled
-    cipheader: hello
-    sitepersistence: NONE
-    siteprefix: prefix
-    clttimeout: 100
-    maxbandwidth: 100
-    downstateflush: enabled
-    maxaaausers: 100
-    monthreshold: 500
-    hashid: 10
-    comment: some other comment
-    appflowlog: enabled
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/remove.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/remove.yaml
deleted file mode 100644
index a557710297..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: Remove gslb-service-3
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    operation: absent
-
-    servicename: gslb-service-3
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/setup.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/setup.yaml
deleted file mode 100644
index 2060b34972..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Setup gslb service 3
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    operation: present
-
-    servicename: gslb-service-3
-    servername: 10.10.10.10
-    servicetype: HTTP
-    port: 80
-    sitename: gslb-site-1
diff --git a/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/update.yaml b/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/update.yaml
deleted file mode 100644
index 814edae69d..0000000000
--- a/test/legacy/roles/netscaler_gslb_service/tests/nitro/servername/update.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: Setup gslb service 3
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_service:
-    operation: present
-
-    servicename: gslb-service-3
-    servername: 10.10.10.10
-    servicetype: HTTP
-    port: 80
-    comment: added comment
-    sitename: gslb-site-1
diff --git a/test/legacy/roles/netscaler_gslb_site/defaults/main.yaml b/test/legacy/roles/netscaler_gslb_site/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_gslb_site/tasks/main.yaml b/test/legacy/roles/netscaler_gslb_site/tasks/main.yaml
deleted file mode 100644
index 84af8dca9e..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/tasks/main.yaml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-
-- { include: nitro.yaml, tags: ['nitro'] }
diff --git a/test/legacy/roles/netscaler_gslb_site/tasks/nitro.yaml b/test/legacy/roles/netscaler_gslb_site/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site.yaml b/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site.yaml
deleted file mode 100644
index 186913ed62..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/gslb_site/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/remove.yaml b/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/remove.yaml
deleted file mode 100644
index 30f32012f8..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup gslb site
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_gslb_site:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    sitename: gslb-site-1
diff --git a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/setup.yaml b/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/setup.yaml
deleted file mode 100644
index 4cb3e9a909..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/setup.yaml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-
-- name: Setup gslb site
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_gslb_site:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    sitename: gslb-site-1
-    siteipaddress: 192.168.1.1
-    sitetype: LOCAL
-    publicip: 192.168.1.1
-    metricexchange: enabled
-    nwmetricexchange: enabled
-    sessionexchange: enabled
-    triggermonitor: ALWAYS
diff --git a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/update.yaml b/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/update.yaml
deleted file mode 100644
index af7e0afab7..0000000000
--- a/test/legacy/roles/netscaler_gslb_site/tests/nitro/gslb_site/update.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: Setup gslb site
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_gslb_site:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    sitename: gslb-site-1
-    siteipaddress: 192.168.1.1
-    sitetype: LOCAL
-    publicip: 192.168.1.1
-    metricexchange: disabled
-    nwmetricexchange: enabled
-    sessionexchange: enabled
-    triggermonitor: ALWAYS
diff --git a/test/legacy/roles/netscaler_gslb_vserver/defaults/main.yaml b/test/legacy/roles/netscaler_gslb_vserver/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tasks/main.yaml b/test/legacy/roles/netscaler_gslb_vserver/tasks/main.yaml
deleted file mode 100644
index 36fde51384..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tasks/main.yaml
+++ /dev/null
@@ -1,7 +0,0 @@
----
-
-- { include: testbed.yaml, state: present }
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- { include: testbed.yaml, state: absent }
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tasks/nitro.yaml b/test/legacy/roles/netscaler_gslb_vserver/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tasks/testbed.yaml b/test/legacy/roles/netscaler_gslb_vserver/tasks/testbed.yaml
deleted file mode 100644
index 6708b04cbe..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tasks/testbed.yaml
+++ /dev/null
@@ -1,39 +0,0 @@
----
-
-- name: Setup gslb site
-  netscaler_gslb_site:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: "{{ state }}"
-
-    sitename: gslb-site-1
-    siteipaddress: 192.168.1.1
-    sitetype: LOCAL
-    publicip: 192.168.1.1
-    metricexchange: enabled
-    nwmetricexchange: enabled
-    sessionexchange: enabled
-    triggermonitor: ALWAYS
-
-
-  delegate_to: localhost
-  register: result
-
-- name: Setup gslb service
-
-  delegate_to: localhost
-  register: result
-
-  netscaler_gslb_service:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: "{{ state }}"
-
-    servicename: gslb-service-1
-    servicetype: HTTP
-    sitename: gslb-site-1
-    ipaddress: 10.10.10.11
-    port: 80
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled.yaml
deleted file mode 100644
index 23b6a03194..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled.yaml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/flap_disabled/setup.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/flap_disabled/remove.yaml"
-  vars:
-    check_mode: no
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled/remove.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled/remove.yaml
deleted file mode 100644
index 5128684134..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: gslb-vserver-2
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled/setup.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled/setup.yaml
deleted file mode 100644
index e5e48f42fd..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/flap_disabled/setup.yaml
+++ /dev/null
@@ -1,39 +0,0 @@
----
-
-- name: flap gslb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-2
-    servicetype: HTTP
-    lbmethod: SOURCEIPHASH
-    netmask: 255.255.255.0
-    v6persistmasklen: 128
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 1
-
-- name: flap gslb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-2
-    servicetype: HTTP
-    lbmethod: SOURCEIPHASH
-    netmask: 255.255.255.0
-    v6persistmasklen: 128
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 5
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http.yaml
deleted file mode 100644
index 7daf1f920b..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http.yaml
+++ /dev/null
@@ -1,141 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_domainbinding.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_domainbinding.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_domainbinding.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_domainbinding.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_gslbservice_binding.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_gslbservice_binding.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_gslbservice_binding.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/update_gslbservice_binding.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/remove.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/remove.yaml
deleted file mode 100644
index 51c2aa62c9..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/remove.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: Remove gslb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    name: gslb-vserver-1
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/setup.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/setup.yaml
deleted file mode 100644
index 6768b3ce9f..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/setup.yaml
+++ /dev/null
@@ -1,46 +0,0 @@
----
-
-- name: Setup gslb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-1
-    servicetype: HTTP
-    dnsrecordtype: A
-    lbmethod: ROUNDROBIN
-    backuplbmethod: RTT
-    tolerance: 50
-    persistencetype: NONE
-    persistenceid: 500
-    persistmask: 255.255.255.0
-    v6persistmasklen: 128
-    timeout: 1000
-    mir: disabled
-    disableprimaryondown: disabled
-    dynamicweight: DISABLED
-    considereffectivestate: NONE
-    comment: some comment
-    somethod: CONNECTION
-    sopersistence: disabled
-    sopersistencetimeout: 100
-    sothreshold: 5000
-    sobackupaction: DROP
-    appflowlog: disabled
-
-    domain_bindings:
-      - domainname: example.com
-        cookietimeout: 100
-        backupip: 10.10.10.10
-        ttl: 100
-        sitedomainttl: 200
-
-    service_bindings:
-      - weight: 100
-        servicename: gslb-service-1
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update.yaml
deleted file mode 100644
index 33cc408c21..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update.yaml
+++ /dev/null
@@ -1,46 +0,0 @@
----
-
-- name: Setup gslb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-1
-    servicetype: HTTP
-    dnsrecordtype: A
-    lbmethod: ROUNDROBIN
-    backuplbmethod: RTT
-    tolerance: 50
-    persistencetype: NONE
-    persistenceid: 500
-    persistmask: 255.255.255.0
-    v6persistmasklen: 128
-    timeout: 500
-    mir: disabled
-    disableprimaryondown: disabled
-    dynamicweight: DISABLED
-    considereffectivestate: NONE
-    comment: some comment
-    somethod: CONNECTION
-    sopersistence: disabled
-    sopersistencetimeout: 100
-    sothreshold: 5000
-    sobackupaction: DROP
-    appflowlog: disabled
-
-    domain_bindings:
-      - domainname: example.com
-        cookietimeout: 100
-        backupip: 10.10.10.10
-        ttl: 100
-        sitedomainttl: 200
-
-    service_bindings:
-      - weight: 100
-        servicename: gslb-service-1
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update_domainbinding.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update_domainbinding.yaml
deleted file mode 100644
index 40333f5c52..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update_domainbinding.yaml
+++ /dev/null
@@ -1,46 +0,0 @@
----
-
-- name: Setup gslb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-1
-    servicetype: HTTP
-    dnsrecordtype: A
-    lbmethod: ROUNDROBIN
-    backuplbmethod: RTT
-    tolerance: 50
-    persistencetype: NONE
-    persistenceid: 500
-    persistmask: 255.255.255.0
-    v6persistmasklen: 128
-    timeout: 500
-    mir: disabled
-    disableprimaryondown: disabled
-    dynamicweight: DISABLED
-    considereffectivestate: NONE
-    comment: some comment
-    somethod: CONNECTION
-    sopersistence: disabled
-    sopersistencetimeout: 100
-    sothreshold: 5000
-    sobackupaction: DROP
-    appflowlog: disabled
-
-    domain_bindings:
-      - domainname: anotherexample.com
-        cookietimeout: 100
-        backupip: 10.10.10.10
-        ttl: 100
-        sitedomainttl: 200
-
-    service_bindings:
-      - weight: 100
-        servicename: gslb-service-1
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update_gslbservice_binding.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update_gslbservice_binding.yaml
deleted file mode 100644
index 97f8e86ad8..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/http/update_gslbservice_binding.yaml
+++ /dev/null
@@ -1,46 +0,0 @@
----
-
-- name: Setup gslb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-1
-    servicetype: HTTP
-    dnsrecordtype: A
-    lbmethod: ROUNDROBIN
-    backuplbmethod: RTT
-    tolerance: 50
-    persistencetype: NONE
-    persistenceid: 500
-    persistmask: 255.255.255.0
-    v6persistmasklen: 128
-    timeout: 500
-    mir: disabled
-    disableprimaryondown: disabled
-    dynamicweight: DISABLED
-    considereffectivestate: NONE
-    comment: some comment
-    somethod: CONNECTION
-    sopersistence: disabled
-    sopersistencetimeout: 100
-    sothreshold: 5000
-    sobackupaction: DROP
-    appflowlog: disabled
-
-    domain_bindings:
-      - domainname: example.com
-        cookietimeout: 100
-        backupip: 10.10.10.10
-        ttl: 200
-        sitedomainttl: 200
-
-    service_bindings:
-      - weight: 50
-        servicename: gslb-service-1
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash.yaml
deleted file mode 100644
index e95ee78f6d..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/sourceiphash/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash/remove.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash/remove.yaml
deleted file mode 100644
index 718eaefd6d..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash/remove.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Remove sourceiphash glsb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    name: gslb-vserver-2
diff --git a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash/setup.yaml b/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash/setup.yaml
deleted file mode 100644
index 3ada392d60..0000000000
--- a/test/legacy/roles/netscaler_gslb_vserver/tests/nitro/sourceiphash/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: Setup sourceiphash gslb vserver
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-  netscaler_gslb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    name: gslb-vserver-2
-    servicetype: HTTP
-    lbmethod: SOURCEIPHASH
-    netmask: 255.255.255.0
-    v6persistmasklen: 128
diff --git a/test/legacy/roles/netscaler_lb_monitor/defaults/main.yaml b/test/legacy/roles/netscaler_lb_monitor/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_lb_monitor/sample_inventory b/test/legacy/roles/netscaler_lb_monitor/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_lb_monitor/tasks/main.yaml b/test/legacy/roles/netscaler_lb_monitor/tasks/main.yaml
deleted file mode 100644
index 84af8dca9e..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tasks/main.yaml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-
-- { include: nitro.yaml, tags: ['nitro'] }
diff --git a/test/legacy/roles/netscaler_lb_monitor/tasks/nitro.yaml b/test/legacy/roles/netscaler_lb_monitor/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac.yaml
deleted file mode 100644
index 073d32c6a2..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_aac/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac/remove.yaml
deleted file mode 100644
index 3ae75ff1f0..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-citrix-aac
-    type: CITRIX-AAC-LAS
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac/setup.yaml
deleted file mode 100644
index 9ddf715149..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_aac/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-citrix-aac
-    type: CITRIX-AAC-LAS
-
-    lasversion: 7.1
-    logonpointname: user
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag.yaml
deleted file mode 100644
index 43f0fe4a37..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_ag/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag/remove.yaml
deleted file mode 100644
index 3731d2f41b..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-citrix-ag
-    type: CITRIX-AG
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag/setup.yaml
deleted file mode 100644
index 5db6b51b55..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_ag/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-citrix-ag
-    type: CITRIX-AG
-
-    username: user1
-    password: password1
-    secondarypassword: password2
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface.yaml
deleted file mode 100644
index 54af36d02b..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml
deleted file mode 100644
index 92c4bb1d90..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-citrix-web-interface
-    type: CITRIX-WEB-INTERFACE
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml
deleted file mode 100644
index 66121efee4..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_web_interface/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-citrix-web-interface
-    type: CITRIX-WEB-INTERFACE
-
-    sitepath: hello/
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc.yaml
deleted file mode 100644
index def7872830..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml
deleted file mode 100644
index 2ee90e2331..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-citrix-xd-ddc
-    type: CITRIX-XD-DDC
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml
deleted file mode 100644
index bedbc18d7a..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xd_doc/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-citrix-xd-ddc
-    type: CITRIX-XD-DDC
-
-    validatecred: no
-    domain: somedomain.com
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service.yaml
deleted file mode 100644
index 6fa44d4e55..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml
deleted file mode 100644
index 06c9a111ba..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-citrix-xml-service
-    type: CITRIX-XML-SERVICE
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml
deleted file mode 100644
index b62ecf051a..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_citrix_xml_service/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-
-    monitorname: lb-monitor-citrix-xml-service
-    type: CITRIX-XML-SERVICE
-
-    application: app
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter.yaml
deleted file mode 100644
index 16ed8762eb..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_diameter/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter/remove.yaml
deleted file mode 100644
index 4268e599c5..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-diameter
-    type: DIAMETER
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter/setup.yaml
deleted file mode 100644
index 90095e9871..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_diameter/setup.yaml
+++ /dev/null
@@ -1,38 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-diameter
-    type: DIAMETER
-
-    originhost: origin.host
-    originrealm: some.realm
-    hostipaddress: 192.168.1.1
-    vendorid: 20
-    productname: someproduct
-    firmwarerevision: 10
-    authapplicationid:
-      - "100"
-      - "200"
-    inbandsecurityid: NO_INBAND_SECURITY
-    supportedvendorids:
-      - "10"
-      - "20"
-    vendorspecificvendorid: 10
-    vendorspecificauthapplicationids:
-      - "11"
-      - "22"
-    vendorspecificacctapplicationids:
-      - "12"
-      - "23"
-    acctapplicationid:
-      - "1"
-      - "2"
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns.yaml
deleted file mode 100644
index 1e2a8a1901..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_dns/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns/remove.yaml
deleted file mode 100644
index 778b5d5ff7..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-dns-tcp
-    type: DNS-TCP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns/setup.yaml
deleted file mode 100644
index 49c27fd1a3..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_dns/setup.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-dns-tcp
-    type: DNS-TCP
-
-    query: example.com
-    querytype: Address
-    ipaddress:
-      - 192.168.1.1
-      - 192.168.1.2
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp.yaml
deleted file mode 100644
index 39aef71291..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ftp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp/remove.yaml
deleted file mode 100644
index 185ed15dd0..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-ftp
-    type: FTP-EXTENDED
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp/setup.yaml
deleted file mode 100644
index 91df5c18d8..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ftp/setup.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-ftp
-    type: FTP-EXTENDED
-    filename: somefile.txt
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http.yaml
deleted file mode 100644
index 8300aeeef1..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http/remove.yaml
deleted file mode 100644
index 543e4ee587..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-http
-    type: HTTP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http/setup.yaml
deleted file mode 100644
index e09d193294..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-http
-    type: HTTP
-
-    trofscode: 500
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv.yaml
deleted file mode 100644
index a9aa77dc99..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_ecv/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv/remove.yaml
deleted file mode 100644
index c23a76fcbc..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-http-ecv
-    type: HTTP-ECV
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv/setup.yaml
deleted file mode 100644
index 53e6d7fa28..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_ecv/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-http-ecv
-    type: HTTP-ECV
-
-    trofsstring: somestring
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline.yaml
deleted file mode 100644
index 8f7604935a..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline.yaml
+++ /dev/null
@@ -1,82 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/setup.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_http_inline/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/remove.yaml
deleted file mode 100644
index ecff6af642..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    monitorname: lb-monitor-1
-    type: HTTP-INLINE
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/setup.yaml
deleted file mode 100644
index 35993972ff..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/setup.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-1
-    type: HTTP-INLINE
-    action: DOWN
-    respcode: [ "200", "203"]
-    httprequest: "HEAD /file.html"
-
-
-    customheaders: "HEADER_CUSTOM: NONE\r\n"
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/update.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/update.yaml
deleted file mode 100644
index 8a5095641d..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_http_inline/update.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-1
-    type: HTTP-INLINE
-    action: DOWN
-    respcode: [ "200-201"]
-    httprequest: "HEAD /new_file.html"
-
-
-    customheaders: "HEADER_CUSTOM: NONE\r\n"
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap.yaml
deleted file mode 100644
index 020f77cf88..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_ldap/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap/remove.yaml
deleted file mode 100644
index 4ae839f6d2..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-ldap
-    type: LDAP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap/setup.yaml
deleted file mode 100644
index 25f376ccb1..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_ldap/setup.yaml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-ldap
-    type: LDAP
-
-    basedn: example.com
-    binddn: example.com
-    filter: somefilter
-    attribute: cn
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load.yaml
deleted file mode 100644
index d83efa6356..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_load/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load/remove.yaml
deleted file mode 100644
index ee1cc6a4c0..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-load
-    type: LOAD
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load/setup.yaml
deleted file mode 100644
index 41d38f134b..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_load/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-load
-    type: LOAD
-
-    snmpversion: V1
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp.yaml
deleted file mode 100644
index f148386317..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_nntp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp/remove.yaml
deleted file mode 100644
index 179eb697c7..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-nntp
-    type: NNTP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp/setup.yaml
deleted file mode 100644
index b0740b5d6e..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_nntp/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-nntp
-    type: NNTP
-
-    group: somegroup.nntp
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius.yaml
deleted file mode 100644
index b61e45e343..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius/remove.yaml
deleted file mode 100644
index 6b893e9baf..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-radius
-    type: RADIUS
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius/setup.yaml
deleted file mode 100644
index 5c269ed27d..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius/setup.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-radius
-    type: RADIUS
-
-    username: someuser
-    password: somepass
-    radkey: somekey
-    radnasid: someid
-    radnasip: 192.168.1.1
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting.yaml
deleted file mode 100644
index 15d1acf9b2..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_radius_accounting/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting/remove.yaml
deleted file mode 100644
index ac8a40216b..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-radius-accounting
-    type: RADIUS_ACCOUNTING
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting/setup.yaml
deleted file mode 100644
index 6d3ff50b46..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_radius_accounting/setup.yaml
+++ /dev/null
@@ -1,24 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-radius-accounting
-    type: RADIUS_ACCOUNTING
-
-    username: someuser
-    password: somepass
-    radkey: somekey
-
-    radaccounttype: 10
-    radframedip: 192.168.1.1
-    radapn: someapn
-    radmsisdn: someisdn
-    radaccountsession: sessionid
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp.yaml
deleted file mode 100644
index 38df519075..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_rtsp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp/remove.yaml
deleted file mode 100644
index 8d78f628b4..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    monitorname: lb-monitor-rtsp
-    type: RTSP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp/setup.yaml
deleted file mode 100644
index b84a881775..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_rtsp/setup.yaml
+++ /dev/null
@@ -1,38 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-rtsp
-    type: RTSP
-
-    rtsprequest: OPTIONS
-
-    deviation: 100
-    units1: MSEC
-    interval: 5
-    units3: SEC
-    resptimeout: 10
-    units4: MSEC
-    resptimeoutthresh: 10
-    retries: 5
-    failureretries: 3
-    alertretries: 2
-    successretries: 4
-    downtime: 60
-    units2: MSEC
-    destip: 10.10.10.10
-    destport: 1111
-    reverse: yes
-    transparent: yes
-    iptunnel: no
-    tos: yes
-    tosid: 20
-    secure: no
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip.yaml
deleted file mode 100644
index c9f9387f56..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_sip/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip/remove.yaml
deleted file mode 100644
index dcc1b3a948..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    monitorname: lb-monitor-2
-    type: SIP-UDP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip/setup.yaml
deleted file mode 100644
index afd0dfd678..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_sip/setup.yaml
+++ /dev/null
@@ -1,22 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-2
-    type: SIP-UDP
-    customheaders: "HEADER_CUSTOM: NONE\r\n"
-
-    maxforwards: 5
-    sipmethod: REGISTER
-    sipuri: sip:sip.test
-    sipreguri: sip:sip.register
-
-    lrtm: disabled
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp.yaml
deleted file mode 100644
index 73a8d9dc39..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_snmp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp/remove.yaml
deleted file mode 100644
index c87c5e0a2a..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-snmp
-    type: SNMP
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp/setup.yaml
deleted file mode 100644
index 143d7054a2..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_snmp/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-snmp
-    type: SNMP
-
-    Snmpoid: some.id
-    snmpcommunity: some.community
-    snmpthreshold: threshold
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront.yaml
deleted file mode 100644
index 8d58b1970d..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_storefront/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront/remove.yaml
deleted file mode 100644
index ccfd6ec0f9..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-storefront
-    type: STOREFRONT
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront/setup.yaml
deleted file mode 100644
index 28cd872c4c..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_storefront/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-storefront
-    type: STOREFRONT
-
-    storename: store
-    storefrontacctservice: yes
-    storefrontcheckbackendservices: yes
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp.yaml
deleted file mode 100644
index b966986eaa..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_tcp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp/remove.yaml
deleted file mode 100644
index 9e36ca532e..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    monitorname: lb-monitor-tcp-ecv
-    type: TCP-ECV
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp/setup.yaml
deleted file mode 100644
index d2ead562a4..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_tcp/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-tcp-ecv
-    type: TCP-ECV
-
-    send: sendstring
-    recv: recvstring
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user.yaml
deleted file mode 100644
index b30c538c53..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_monitor_user/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user/remove.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user/remove.yaml
deleted file mode 100644
index dce9d4d950..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: remove lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-
-    monitorname: lb-monitor-user
-    type: USER
diff --git a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user/setup.yaml b/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user/setup.yaml
deleted file mode 100644
index f95f78d777..0000000000
--- a/test/legacy/roles/netscaler_lb_monitor/tests/nitro/lb_monitor_user/setup.yaml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-
-- name: setup lb monitor
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    monitorname: lb-monitor-user
-    type: USER
-
-    scriptname: myscript.sh
-    scriptargs: argument1 argument2
-    dispatcherip: 10.10.10.10
-    dispatcherport: 22
diff --git a/test/legacy/roles/netscaler_lb_vserver/defaults/main.yaml b/test/legacy/roles/netscaler_lb_vserver/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_lb_vserver/sample_inventory b/test/legacy/roles/netscaler_lb_vserver/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_lb_vserver/tasks/main.yaml b/test/legacy/roles/netscaler_lb_vserver/tasks/main.yaml
deleted file mode 100644
index 8e14bcc384..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tasks/main.yaml
+++ /dev/null
@@ -1,7 +0,0 @@
----
-
-- include: testbed_setup.yaml state=present
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- include: testbed_setup.yaml state=absent
diff --git a/test/legacy/roles/netscaler_lb_vserver/tasks/nitro.yaml b/test/legacy/roles/netscaler_lb_vserver/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_lb_vserver/tasks/testbed_setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tasks/testbed_setup.yaml
deleted file mode 100644
index c7f92333c4..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tasks/testbed_setup.yaml
+++ /dev/null
@@ -1,78 +0,0 @@
----
-
-- name: Setup server
-  delegate_to: localhost
-  netscaler_server:
-    nsip: "{{ nsip }}"
-    nitro_user: "{{ nitro_user }}"
-    nitro_pass: "{{ nitro_pass }}"
-
-    state: "{{ state }}"
-    name: "server-{{ item }}"
-    ipaddress: "192.168.1.{{ item }}"
-  with_sequence: count=6
-
-
-- name: Setup http service
-  delegate_to: localhost
-  netscaler_service:
-      nsip: "{{ nsip }}"
-      nitro_user: "{{ nitro_user }}"
-      nitro_pass: "{{ nitro_pass }}"
-
-      state: "{{ state }}"
-      name: "service-http-{{ item }}"
-      servername: "server-{{ item }}"
-      servicetype: HTTP
-      port: 80
-  with_sequence: count=2
-
-- name: Setup service group
-  delegate_to: localhost
-  netscaler_servicegroup:
-      nsip: "{{ nsip }}"
-      nitro_user: "{{ nitro_user }}"
-      nitro_pass: "{{ nitro_pass }}"
-
-      state: "{{ state }}"
-      servicegroupname: service-group-1
-      servicetype: HTTP
-      servicemembers:
-        - servername: server-3
-          port: 80
-          weight: 50
-        - servername: server-4
-          port: 80
-          weight: 50
-
-- name: Setup service group
-  delegate_to: localhost
-  netscaler_servicegroup:
-      nsip: "{{ nsip }}"
-      nitro_user: "{{ nitro_user }}"
-      nitro_pass: "{{ nitro_pass }}"
-
-      state: "{{ state }}"
-      servicegroupname: service-group-2
-      servicetype: HTTP
-      servicemembers:
-        - servername: server-5
-          port: 80
-          weight: 50
-        - servername: server-6
-          port: 80
-          weight: 50
-
-- name: Setup push vserver
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nsip: "{{ nsip }}"
-    nitro_user: "{{ nitro_user }}"
-    nitro_pass: "{{ nitro_pass }}"
-
-    state: "{{ state }}"
-
-    name: lb-vserver-push
-    port: 80
-    servicetype: PUSH
-    ipv46: 193.1.1.1
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any.yaml
deleted file mode 100644
index c2c8db7b0a..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_any/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any/remove.yaml
deleted file mode 100644
index 86bb460fb0..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-4
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any/setup.yaml
deleted file mode 100644
index 99d3a37693..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_any/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-4
-    ipv46: 10.79.1.4
-    port: 80
-    servicetype: ANY
-    connfailover: STATELESS
-    skippersistency: None
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns.yaml
deleted file mode 100644
index ae23dfa0f0..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_dns/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns/remove.yaml
deleted file mode 100644
index 19e1ea8456..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-8
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns/setup.yaml
deleted file mode 100644
index 2dbc06e4ba..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_dns/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-8
-    ipv46: 10.79.1.8
-    port: 80
-    servicetype: DNS
-
-    recursionavailable: no
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled.yaml
deleted file mode 100644
index 822c07a02d..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled.yaml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_flap_disabled/setup.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_flap_disabled/remove.yaml"
-  vars:
-    check_mode: no
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled/remove.yaml
deleted file mode 100644
index 89cd1cd1ca..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-flap
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled/setup.yaml
deleted file mode 100644
index 3a63ce6627..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_flap_disabled/setup.yaml
+++ /dev/null
@@ -1,47 +0,0 @@
----
-
-- name: flap http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-flap
-    ipv46: 10.79.1.2
-    port: 80
-    servicetype: HTTP
-    servicebindings:
-      - servicename: service-http-1
-        weight: 50
-      - servicename: service-http-2
-        weight: 50
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 1
-
-- name: flap http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-flap
-    ipv46: 10.79.1.2
-    port: 80
-    servicetype: HTTP
-    servicebindings:
-      - servicename: service-http-1
-        weight: 50
-      - servicename: service-http-2
-        weight: 50
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 5
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http.yaml
deleted file mode 100644
index 96a71d3605..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_http/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/remove.yaml
deleted file mode 100644
index 3d525e97e1..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-1
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/setup.yaml
deleted file mode 100644
index 821b62c580..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/setup.yaml
+++ /dev/null
@@ -1,71 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    name: lb-vserver-1
-    ipv46: 10.79.1.1
-    port: 80
-    range: 2
-    servicetype: HTTP
-    persistencetype: COOKIEINSERT
-    timeout: 100
-    persistencebackup: SOURCEIP
-    backuppersistencetimeout: 110
-    lbmethod: URLHASH
-    cookiename: COOKIE
-    listenpolicy: "CLIENT.IP.DST.IN_SUBNET(192.0.2.0/24)"
-    listenpriority: 66
-    persistmask: 255.255.0.0
-    v6persistmasklen: 64
-    m: IP
-    tosid: 6
-    sessionless: disabled
-    redirurl: http://somewhere.com
-    cacheable: no
-    clttimeout: 111
-    somethod: CONNECTION
-    sopersistence: disabled
-    sopersistencetimeout: 222
-    sothreshold: 4096
-    healththreshold: 55
-    sobackupaction: DROP
-    redirectportrewrite: disabled
-    downstateflush: disabled
-    disableprimaryondown: disabled
-    insertvserveripport: VIPADDR
-    vipheader: vip
-    authenticationhost: authenticate.me
-    authentication: off
-    authn401: off
-    authnvsname: somename
-    push: disabled
-    pushmulticlients: no
-    comment: Vserver comment
-    l2conn: "OFF"
-    appflowlog: disabled
-    icmpvsrresponse: PASSIVE
-    rhistate: PASSIVE
-    newservicerequest: 11
-    newservicerequestunit: PER_SECOND
-    newservicerequestincrementinterval: 5
-    minautoscalemembers: 8
-    maxautoscalemembers: 10
-    macmoderetainvlan: disabled
-    dns64: disabled
-    bypassaaaa: no
-    processlocal: disabled
-    backuplbmethod: LEASTCONNECTION
-    hashlength: 100
-    servicebindings:
-      - servicename: service-http-1
-        weight: 50
-      - servicename: service-http-2
-        weight: 50
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/update.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/update.yaml
deleted file mode 100644
index 182ec33fd1..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_http/update.yaml
+++ /dev/null
@@ -1,71 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    name: lb-vserver-1
-    ipv46: 10.79.1.1
-    port: 80
-    range: 2
-    servicetype: HTTP
-    persistencetype: COOKIEINSERT
-    timeout: 100
-    persistencebackup: SOURCEIP
-    backuppersistencetimeout: 110
-    lbmethod: URLHASH
-    cookiename: COOKIE
-    listenpolicy: "CLIENT.IP.DST.IN_SUBNET(192.0.2.0/24)"
-    listenpriority: 66
-    persistmask: 255.255.0.0
-    v6persistmasklen: 64
-    m: IP
-    tosid: 6
-    sessionless: disabled
-    redirurl: http://somewhere.com
-    cacheable: no
-    clttimeout: 222
-    somethod: CONNECTION
-    sopersistence: disabled
-    sopersistencetimeout: 222
-    sothreshold: 4096
-    healththreshold: 55
-    sobackupaction: DROP
-    redirectportrewrite: disabled
-    downstateflush: disabled
-    disableprimaryondown: disabled
-    insertvserveripport: VIPADDR
-    vipheader: vip
-    authenticationhost: authenticate.me
-    authentication: off
-    authn401: off
-    authnvsname: somename
-    push: disabled
-    pushmulticlients: no
-    comment: Vserver comment
-    l2conn: "OFF"
-    appflowlog: disabled
-    icmpvsrresponse: PASSIVE
-    rhistate: PASSIVE
-    newservicerequest: 11
-    newservicerequestunit: PER_SECOND
-    newservicerequestincrementinterval: 5
-    minautoscalemembers: 8
-    maxautoscalemembers: 10
-    macmoderetainvlan: disabled
-    dns64: disabled
-    bypassaaaa: no
-    processlocal: disabled
-    backuplbmethod: LEASTCONNECTION
-    hashlength: 100
-    servicebindings:
-      - servicename: service-http-1
-        weight: 60
-      - servicename: service-http-2
-        weight: 40
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash.yaml
deleted file mode 100644
index d84ea1faaf..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_iphash/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash/remove.yaml
deleted file mode 100644
index 5c9a48394f..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-10
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash/setup.yaml
deleted file mode 100644
index 4f56d7510d..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_iphash/setup.yaml
+++ /dev/null
@@ -1,19 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-10
-    port: 80
-    servicetype: HTTP
-    lbmethod: DESTINATIONIPHASH
-    netmask: 255.255.255.0
-    ippattern: 10.68.0.0
-    ipmask: 255.255.0.0
-    v6netmasklen: 24
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern.yaml
deleted file mode 100644
index a8e5103d73..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_ippattern/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern/remove.yaml
deleted file mode 100644
index 19bfd4f738..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-9
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern/setup.yaml
deleted file mode 100644
index 8ca894f945..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_ippattern/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-9
-    port: 80
-    servicetype: HTTP
-    ippattern: 10.67.0.0
-    ipmask: 255.255.0.0
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql.yaml
deleted file mode 100644
index cb0928d863..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mssql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql/remove.yaml
deleted file mode 100644
index 1c5d0cd6dd..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-6
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql/setup.yaml
deleted file mode 100644
index 0451a09731..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mssql/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-6
-    ipv46: 10.79.1.6
-    port: 80
-    servicetype: MSSQL
-    mssqlserverversion: 2000
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql.yaml
deleted file mode 100644
index 6a01e427f4..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_mysql/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql/remove.yaml
deleted file mode 100644
index 6db6dbbdf4..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-7
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql/setup.yaml
deleted file mode 100644
index 2c40764efd..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_mysql/setup.yaml
+++ /dev/null
@@ -1,22 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-7
-    ipv46: 10.79.1.7
-    port: 80
-    servicetype: MYSQL
-
-    mysqlprotocolversion: 2
-    mysqlserverversion: 10
-    mysqlcharacterset: 8
-    mysqlservercapabilities: 244
-
-    dbslb: disabled
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle.yaml
deleted file mode 100644
index 66cf849f74..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_oracle/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle/remove.yaml
deleted file mode 100644
index 770d61dfa2..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-5
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle/setup.yaml
deleted file mode 100644
index 7f1b945f93..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_oracle/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-5
-    ipv46: 10.79.1.5
-    port: 80
-    servicetype: ORACLE
-    oracleserverversion: 10G
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push.yaml
deleted file mode 100644
index 0695defb14..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_push/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push/remove.yaml
deleted file mode 100644
index 914551067a..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-11
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push/setup.yaml
deleted file mode 100644
index 03c22f890f..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_push/setup.yaml
+++ /dev/null
@@ -1,21 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-11
-    port: 80
-    servicetype: HTTP
-    lbmethod: DESTINATIONIPHASH
-    netmask: 255.255.255.0
-    ippattern: 10.69.0.0
-    ipmask: 255.255.0.0
-    v6netmasklen: 24
-    pushvserver: lb-vserver-push
-    pushlabel: none
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat.yaml
deleted file mode 100644
index 1fbe7750d2..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_rtspnat/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat/remove.yaml
deleted file mode 100644
index 50b056a33b..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-3
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat/setup.yaml
deleted file mode 100644
index a25db36c04..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_rtspnat/setup.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    name: lb-vserver-3
-    ipv46: 10.79.1.3
-    port: 80
-    servicetype: TCP
-
-    lbmethod: TOKEN
-    datalength: 20
-    dataoffset: 5
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup.yaml
deleted file mode 100644
index 4659eb29bd..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup.yaml
+++ /dev/null
@@ -1,132 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/setup.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update_service.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update_service.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update_service.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update_service.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_servicegroup/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/remove.yaml
deleted file mode 100644
index d4a88c43bc..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-20
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/setup.yaml
deleted file mode 100644
index cf4157763e..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-20
-    ipv46: 10.79.1.8
-    port: 80
-    servicetype: HTTP
-    servicegroupbindings:
-      - servicegroupname: service-group-1
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/update.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/update.yaml
deleted file mode 100644
index 454565dc8e..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/update.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-20
-    ipv46: 10.79.1.8
-    port: 80
-    servicetype: HTTP
-    servicegroupbindings:
-      - servicegroupname: service-group-2
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/update_service.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/update_service.yaml
deleted file mode 100644
index a168f1c742..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_servicegroup/update_service.yaml
+++ /dev/null
@@ -1,20 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-20
-    ipv46: 10.79.1.8
-    port: 80
-    servicetype: HTTP
-    servicebindings:
-      - servicename: service-http-1
-        weight: 50
-      - servicename: service-http-2
-        weight: 50
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp.yaml
deleted file mode 100644
index bcb76b037b..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/lb_vserver_tcp/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp/remove.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp/remove.yaml
deleted file mode 100644
index c2a99a7f7a..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp/remove.yaml
+++ /dev/null
@@ -1,12 +0,0 @@
----
-
-- name: remove http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: absent
-    name: lb-vserver-2
diff --git a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp/setup.yaml b/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp/setup.yaml
deleted file mode 100644
index 8d1b48284d..0000000000
--- a/test/legacy/roles/netscaler_lb_vserver/tests/nitro/lb_vserver_tcp/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: setup http lb vserver
-  register: result
-  check_mode: "{{ check_mode }}"
-  delegate_to: localhost
-  netscaler_lb_vserver:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-    name: lb-vserver-2
-    ipv46: 10.79.1.2
-    port: 80
-    servicetype: RTSP
-    rtspnat: on
diff --git a/test/legacy/roles/netscaler_save_config/defaults/main.yaml b/test/legacy/roles/netscaler_save_config/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_save_config/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_save_config/sample_inventory b/test/legacy/roles/netscaler_save_config/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_save_config/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_save_config/tasks/main.yaml b/test/legacy/roles/netscaler_save_config/tasks/main.yaml
deleted file mode 100644
index 729619a17c..0000000000
--- a/test/legacy/roles/netscaler_save_config/tasks/main.yaml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-- { include: nitro.yaml, tags: ['nitro'] }
diff --git a/test/legacy/roles/netscaler_save_config/tasks/nitro.yaml b/test/legacy/roles/netscaler_save_config/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_save_config/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_save_config/tests/nitro/save_config.yaml b/test/legacy/roles/netscaler_save_config/tests/nitro/save_config.yaml
deleted file mode 100644
index dadce8de83..0000000000
--- a/test/legacy/roles/netscaler_save_config/tests/nitro/save_config.yaml
+++ /dev/null
@@ -1,8 +0,0 @@
----
-
-- name: Save configuration
-  delegate_to: localhost
-  netscaler_save_config:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
diff --git a/test/legacy/roles/netscaler_server/defaults/main.yaml b/test/legacy/roles/netscaler_server/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_server/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_server/sample_inventory b/test/legacy/roles/netscaler_server/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_server/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_server/tasks/main.yaml b/test/legacy/roles/netscaler_server/tasks/main.yaml
deleted file mode 100644
index 729619a17c..0000000000
--- a/test/legacy/roles/netscaler_server/tasks/main.yaml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-- { include: nitro.yaml, tags: ['nitro'] }
diff --git a/test/legacy/roles/netscaler_server/tasks/nitro.yaml b/test/legacy/roles/netscaler_server/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_server/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server.yaml
deleted file mode 100644
index c5cb5be544..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server.yaml
+++ /dev/null
@@ -1,82 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/server/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server/update.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/server/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server/remove.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server/remove.yaml
deleted file mode 100644
index 5203bbf89f..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server/remove.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: Remove basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    name: test-server-1
-    ipaddress: 10.10.10.10
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server/setup.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server/setup.yaml
deleted file mode 100644
index 2e3f09b705..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Setup basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: test-server-1
-    ipaddress: 10.10.10.10
-    comment: comment for server
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server/update.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server/update.yaml
deleted file mode 100644
index 543f77729d..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server/update.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Setup basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: test-server-1
-    ipaddress: 11.11.11.11
-    disabled: yes
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_domain.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_domain.yaml
deleted file mode 100644
index a37eed3dbb..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_domain.yaml
+++ /dev/null
@@ -1,82 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/server_domain/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/update.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/server_domain/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_domain/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_domain/remove.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_domain/remove.yaml
deleted file mode 100644
index 9c2b0f0a70..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_domain/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: Remove basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    name: test-server-domain
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_domain/setup.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_domain/setup.yaml
deleted file mode 100644
index 94f1803b80..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_domain/setup.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Setup basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: test-server-domain
-    domain: example.com
-    ipv6address: no
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_domain/update.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_domain/update.yaml
deleted file mode 100644
index 821dd91b8f..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_domain/update.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: Setup basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: test-server-domain
-    domain: example.com
-    translationip: 192.168.1.1
-    translationmask: 255.255.255.0
-    domainresolveretry: 10
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6.yaml
deleted file mode 100644
index c7b50de29a..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6.yaml
+++ /dev/null
@@ -1,82 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/update.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/server_ipv6/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/remove.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/remove.yaml
deleted file mode 100644
index a7d916283e..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: Remove basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    name: test-server-ipv6
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/setup.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/setup.yaml
deleted file mode 100644
index bf1e9e7283..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/setup.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: Setup basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: test-server-ipv6
-    ipaddress: ff::fa:0
diff --git a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/update.yaml b/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/update.yaml
deleted file mode 100644
index 8341e2b22d..0000000000
--- a/test/legacy/roles/netscaler_server/tests/nitro/server_ipv6/update.yaml
+++ /dev/null
@@ -1,15 +0,0 @@
----
-
-- name: Setup basic server
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_server:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: test-server-ipv6
-    ipaddress: ff::fb:0
diff --git a/test/legacy/roles/netscaler_service/defaults/main.yaml b/test/legacy/roles/netscaler_service/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_service/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_service/sample_inventory b/test/legacy/roles/netscaler_service/sample_inventory
deleted file mode 100644
index 7da2dbbdb8..0000000000
--- a/test/legacy/roles/netscaler_service/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-172.18.0.2 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_service/tasks/main.yaml b/test/legacy/roles/netscaler_service/tasks/main.yaml
deleted file mode 100644
index 729619a17c..0000000000
--- a/test/legacy/roles/netscaler_service/tasks/main.yaml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-- { include: nitro.yaml, tags: ['nitro'] }
diff --git a/test/legacy/roles/netscaler_service/tasks/nitro.yaml b/test/legacy/roles/netscaler_service/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_service/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/adns_service.yaml b/test/legacy/roles/netscaler_service/tests/nitro/adns_service.yaml
deleted file mode 100644
index 23981f960b..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/adns_service.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/adns_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/adns_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/adns_service/remove.yaml b/test/legacy/roles/netscaler_service/tests/nitro/adns_service/remove.yaml
deleted file mode 100644
index 3b3e0f9e23..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/adns_service/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: Remove adns service
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: service-adns
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/adns_service/setup.yaml b/test/legacy/roles/netscaler_service/tests/nitro/adns_service/setup.yaml
deleted file mode 100644
index c44e1a8dd5..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/adns_service/setup.yaml
+++ /dev/null
@@ -1,17 +0,0 @@
----
-
-- name: Setup adns service
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    name: service-adns
-    ipaddress: 192.168.1.3
-    port: 80
-    servicetype: ADNS
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled.yaml b/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled.yaml
deleted file mode 100644
index ea4367c3f3..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled.yaml
+++ /dev/null
@@ -1,10 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/flap_disabled/setup.yaml"
-  vars:
-    check_mode: no
-
-
-- include: "{{ role_path }}/tests/nitro/flap_disabled/remove.yaml"
-  vars:
-    check_mode: no
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled/remove.yaml b/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled/remove.yaml
deleted file mode 100644
index 0be82a9041..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled/remove.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Remove htttp service
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    name: service-http
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled/setup.yaml b/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled/setup.yaml
deleted file mode 100644
index 50a7446a37..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/flap_disabled/setup.yaml
+++ /dev/null
@@ -1,47 +0,0 @@
----
-
-- name: Flap service
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: service-http
-    ip: 192.168.1.1
-    ipaddress: 192.168.1.1
-    port: 80
-    servicetype: HTTP
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 1
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-
-- name: Flap service
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: service-http
-    ip: 192.168.1.1
-    ipaddress: 192.168.1.1
-    port: 80
-    servicetype: HTTP
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 5
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/http_service.yaml b/test/legacy/roles/netscaler_service/tests/nitro/http_service.yaml
deleted file mode 100644
index 941c8f7e47..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/http_service.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/http_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/http_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/http_service/remove.yaml b/test/legacy/roles/netscaler_service/tests/nitro/http_service/remove.yaml
deleted file mode 100644
index 0be82a9041..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/http_service/remove.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Remove htttp service
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    name: service-http
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/http_service/setup.yaml b/test/legacy/roles/netscaler_service/tests/nitro/http_service/setup.yaml
deleted file mode 100644
index 5ba5b82bf5..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/http_service/setup.yaml
+++ /dev/null
@@ -1,52 +0,0 @@
----
-
-- name: Setup http service
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: service-http
-    ip: 192.168.1.1
-    ipaddress: 192.168.1.1
-    port: 80
-    servicetype: HTTP
-    cachetype: TRANSPARENT
-    maxclient: 100
-    healthmonitor: no
-    maxreq: 200
-    cacheable: no
-    cip: enabled
-    cipheader: client-ip
-    usip: yes
-    useproxyport: yes
-    sp: off
-    rtspsessionidremap: off
-    clttimeout: 100
-    svrtimeout: 100
-    customserverid: 476
-    cka: yes
-    tcpb: yes
-    cmp: no
-    maxbandwidth: 10000
-    accessdown: "NO"
-    monthreshold: 100
-    downstateflush: enabled
-    hashid: 10
-    comment: some comment
-    appflowlog: enabled
-    processlocal: enabled
-    graceful: no
-
-    monitor_bindings:
-      - monitorname: ping
-        weight: 50
-      - monitorname: http
-        weight: 50
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/http_service/update.yaml b/test/legacy/roles/netscaler_service/tests/nitro/http_service/update.yaml
deleted file mode 100644
index 3a5db7ee89..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/http_service/update.yaml
+++ /dev/null
@@ -1,49 +0,0 @@
----
-
-- name: Update http service
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    name: service-http
-    ip: 192.168.1.1
-    ipaddress: 192.168.1.1
-    port: 80
-    servicetype: HTTP
-    cachetype: TRANSPARENT
-    maxclient: 100
-    healthmonitor: no
-    maxreq: 200
-    cacheable: no
-    cip: enabled
-    cipheader: client-ip
-    usip: yes
-    useproxyport: yes
-    sp: off
-    rtspsessionidremap: off
-    clttimeout: 100
-    svrtimeout: 100
-    customserverid: 476
-    cka: yes
-    tcpb: yes
-    cmp: no
-    maxbandwidth: 20000
-    accessdown: "NO"
-    monthreshold: 100
-    downstateflush: enabled
-    hashid: 10
-    comment: some comment
-    appflowlog: enabled
-    processlocal: enabled
-
-    monitor_bindings:
-      - monitorname: http
-        weight: 100
-
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/ssl_service.yaml b/test/legacy/roles/netscaler_service/tests/nitro/ssl_service.yaml
deleted file mode 100644
index 6cf32caa36..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/ssl_service.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/ssl_service/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/ssl_service/remove.yaml b/test/legacy/roles/netscaler_service/tests/nitro/ssl_service/remove.yaml
deleted file mode 100644
index 3f787d2224..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/ssl_service/remove.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
----
-
-- name: Remove ssl service
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    name: service-ssl
diff --git a/test/legacy/roles/netscaler_service/tests/nitro/ssl_service/setup.yaml b/test/legacy/roles/netscaler_service/tests/nitro/ssl_service/setup.yaml
deleted file mode 100644
index 565816b5c6..0000000000
--- a/test/legacy/roles/netscaler_service/tests/nitro/ssl_service/setup.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: Setup ssl service
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_service:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-    name: service-ssl
-    ipaddress: 192.168.1.2
-    port: 80
-    servicetype: SSL
-    cleartextport: 88
diff --git a/test/legacy/roles/netscaler_servicegroup/defaults/main.yaml b/test/legacy/roles/netscaler_servicegroup/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_servicegroup/sample_inventory b/test/legacy/roles/netscaler_servicegroup/sample_inventory
deleted file mode 100644
index 7da2dbbdb8..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-172.18.0.2 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_servicegroup/tasks/main.yaml b/test/legacy/roles/netscaler_servicegroup/tasks/main.yaml
deleted file mode 100644
index 9a197e4d77..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tasks/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-- { include: testbed.yaml, state: present }
-
-- { include: nitro.yaml, tags: ['nitro'] }
-
-- { include: testbed.yaml, state: absent }
diff --git a/test/legacy/roles/netscaler_servicegroup/tasks/nitro.yaml b/test/legacy/roles/netscaler_servicegroup/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_servicegroup/tasks/testbed.yaml b/test/legacy/roles/netscaler_servicegroup/tasks/testbed.yaml
deleted file mode 100644
index 09ecaf6401..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tasks/testbed.yaml
+++ /dev/null
@@ -1,21 +0,0 @@
-- name: setup monitor
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: "{{ state }}"
-
-    monitorname: monitor-1
-    type: HTTP
-
-- name: setup monitor
-  delegate_to: localhost
-  netscaler_lb_monitor:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: "{{ state }}"
-
-    monitorname: monitor-2
-    type: HTTP
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled.yaml
deleted file mode 100644
index 23b6a03194..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled.yaml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/flap_disabled/setup.yaml"
-  vars:
-    check_mode: no
-
-- include: "{{ role_path }}/tests/nitro/flap_disabled/remove.yaml"
-  vars:
-    check_mode: no
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled/remove.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled/remove.yaml
deleted file mode 100644
index 3d76e7cf98..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled/remove.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Remove servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled/setup.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled/setup.yaml
deleted file mode 100644
index 833b449606..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/flap_disabled/setup.yaml
+++ /dev/null
@@ -1,47 +0,0 @@
----
-
-- name: Flap servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 100
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 1
-
-- name: Flap servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 100
-
-    disabled: "{{ item|int % 2 }}"
-  with_sequence: count=20
-  delay: 5
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup.yaml
deleted file mode 100644
index 6d11fa7af3..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup.yaml
+++ /dev/null
@@ -1,85 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/remove.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/remove.yaml
deleted file mode 100644
index 3d76e7cf98..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/remove.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Remove servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/setup.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/setup.yaml
deleted file mode 100644
index f38ae6d64c..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/setup.yaml
+++ /dev/null
@@ -1,45 +0,0 @@
----
-
-- name: Setup servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    cachetype: TRANSPARENT
-    maxclient: 100
-    maxreq: 100
-    cacheable: no
-    cip: enabled
-    cipheader: cip-header
-    usip: no
-    pathmonitor: no
-    pathmonitorindv: no
-    useproxyport: no
-    healthmonitor: no
-    sp: off
-    rtspsessionidremap: off
-    clttimeout: 2000
-    svrtimeout: 2000
-    cka: yes
-    tcpb: yes
-    cmp: no
-    maxbandwidth: 5000
-    monthreshold: 100
-    downstateflush: disabled
-    comment: some comment
-    appflowlog: enabled
-    autoscale: POLICY
-    memberport: 80
-    graceful: no
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 100
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/update.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/update.yaml
deleted file mode 100644
index a3198a2d5e..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup/update.yaml
+++ /dev/null
@@ -1,48 +0,0 @@
----
-
-- name: Setup servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-    state: present
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    cachetype: TRANSPARENT
-    maxclient: 100
-    maxreq: 100
-    cacheable: no
-    cip: enabled
-    cipheader: cip-header
-    usip: no
-    pathmonitor: no
-    pathmonitorindv: no
-    useproxyport: no
-    healthmonitor: no
-    sp: off
-    rtspsessionidremap: off
-    clttimeout: 1000
-    svrtimeout: 1000
-    cka: yes
-    tcpb: yes
-    cmp: no
-    maxbandwidth: 5000
-    monthreshold: 100
-    downstateflush: disabled
-    comment: some comment
-    appflowlog: enabled
-    autoscale: POLICY
-    memberport: 80
-    graceful: no
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 50
-      - ip: 10.79.79.79
-        port: 80
-        weight: 50
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors.yaml
deleted file mode 100644
index 86fc33ff5d..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors.yaml
+++ /dev/null
@@ -1,113 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/update.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/update.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/default_only.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/default_only.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/default_only.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/default_only.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/servicegroup_monitors/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/default_only.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/default_only.yaml
deleted file mode 100644
index ec555d8ab5..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/default_only.yaml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-
-- name: Setup servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 100
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/remove.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/remove.yaml
deleted file mode 100644
index 3d76e7cf98..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/remove.yaml
+++ /dev/null
@@ -1,16 +0,0 @@
----
-
-- name: Remove servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/setup.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/setup.yaml
deleted file mode 100644
index 2f7f009c76..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/setup.yaml
+++ /dev/null
@@ -1,23 +0,0 @@
----
-
-- name: Setup servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 100
-    monitorbindings:
-      - monitorname: monitor-1
-        weight: 50
-      - monitorname: monitor-2
-        weight: 50
diff --git a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/update.yaml b/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/update.yaml
deleted file mode 100644
index 3d1a861cbf..0000000000
--- a/test/legacy/roles/netscaler_servicegroup/tests/nitro/servicegroup_monitors/update.yaml
+++ /dev/null
@@ -1,23 +0,0 @@
----
-
-- name: Setup servicegroup
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_servicegroup:
-
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    servicegroupname: service-group-1
-    servicetype: HTTP
-    servicemembers:
-      - ip: 10.78.78.78
-        port: 80
-        weight: 100
-    monitorbindings:
-      - monitorname: monitor-1
-        weight: 80
-      - monitorname: monitor-2
-        weight: 20
diff --git a/test/legacy/roles/netscaler_ssl_certkey/defaults/main.yaml b/test/legacy/roles/netscaler_ssl_certkey/defaults/main.yaml
deleted file mode 100644
index 641801f660..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/defaults/main.yaml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-testcase: "*"
-test_cases: []
-
-nitro_user: nsroot
-nitro_pass: nsroot
diff --git a/test/legacy/roles/netscaler_ssl_certkey/sample_inventory b/test/legacy/roles/netscaler_ssl_certkey/sample_inventory
deleted file mode 100644
index 4263579691..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/sample_inventory
+++ /dev/null
@@ -1,5 +0,0 @@
-
-
-[netscaler]
-
-netscaler01 nsip=172.18.0.2 nitro_user=nsroot nitro_pass=nsroot
diff --git a/test/legacy/roles/netscaler_ssl_certkey/tasks/main.yaml b/test/legacy/roles/netscaler_ssl_certkey/tasks/main.yaml
deleted file mode 100644
index 84af8dca9e..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/tasks/main.yaml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-
-- { include: nitro.yaml, tags: ['nitro'] }
diff --git a/test/legacy/roles/netscaler_ssl_certkey/tasks/nitro.yaml b/test/legacy/roles/netscaler_ssl_certkey/tasks/nitro.yaml
deleted file mode 100644
index 00ab502dda..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/tasks/nitro.yaml
+++ /dev/null
@@ -1,14 +0,0 @@
-- name: collect all nitro test cases
-  find:
-    paths: "{{ role_path }}/tests/nitro"
-    patterns: "{{ testcase }}.yaml"
-  register: test_cases
-
-- name: set test_items
-  set_fact: test_items="{{ test_cases.files | map(attribute='path') | list }}"
-
-- name: run test case
-  include: "{{ test_case_to_run }}"
-  with_items: "{{ test_items }}"
-  loop_control:
-    loop_var: test_case_to_run
diff --git a/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey.yaml b/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey.yaml
deleted file mode 100644
index 3f7b6df1f2..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey.yaml
+++ /dev/null
@@ -1,57 +0,0 @@
----
-
-- include: "{{ role_path }}/tests/nitro/certkey/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/setup.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/setup.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/remove.yaml"
-  vars:
-    check_mode: yes
-
-- assert:
-    that: result is not changed
-
-- include: "{{ role_path }}/tests/nitro/certkey/remove.yaml"
-  vars:
-    check_mode: no
-
-- assert:
-    that: result is not changed
diff --git a/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey/remove.yaml b/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey/remove.yaml
deleted file mode 100644
index 9224a6ad7d..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey/remove.yaml
+++ /dev/null
@@ -1,13 +0,0 @@
----
-
-- name: Setup cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_ssl_certkey:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: absent
-    certkey: certirificate_1
diff --git a/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey/setup.yaml b/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey/setup.yaml
deleted file mode 100644
index 1a0a00e2ac..0000000000
--- a/test/legacy/roles/netscaler_ssl_certkey/tests/nitro/certkey/setup.yaml
+++ /dev/null
@@ -1,22 +0,0 @@
----
-
-
-- name: Setup cs action
-  delegate_to: localhost
-  register: result
-  check_mode: "{{ check_mode }}"
-  netscaler_ssl_certkey:
-    nitro_user: "{{nitro_user}}"
-    nitro_pass: "{{nitro_pass}}"
-    nsip: "{{nsip}}"
-
-    state: present
-
-    certkey: certirificate_1
-    cert: server.crt
-    key: server.key
-    expirymonitor: enabled
-    notificationperiod: 30
-    inform: PEM
-    password: False
-    passplain: somesecret
diff --git a/test/legacy/roles/one_image/defaults/main.yml b/test/legacy/roles/one_image/defaults/main.yml
deleted file mode 100644
index 662eefa7d1..0000000000
--- a/test/legacy/roles/one_image/defaults/main.yml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-# This is a role for running integration test of the one_image module.
-# For this role to be used you need to meet the following prerequisites:
-#   1. Environment variables ONE_URL, ONE_USERNAME and ONE_PASSWORD
-#      need to be set.
-#   2. Image needs to exist.
-#   3. Play vars need to be set bellow to reflect the image IDs, image names, etc.
-
-one_image_name: 'one_image_test'
diff --git a/test/legacy/roles/one_image/tasks/main.yml b/test/legacy/roles/one_image/tasks/main.yml
deleted file mode 100644
index b0738d3c3e..0000000000
--- a/test/legacy/roles/one_image/tasks/main.yml
+++ /dev/null
@@ -1,287 +0,0 @@
----
-- name: Check that '{{ one_image_name }}' exists
-  one_image:
-    name: '{{ one_image_name }}'
-
-- name: Try to fetch non-existent image by name
-  one_image:
-    name: non-existent-vm-{{ ansible_date_time.iso8601_basic_short }}
-  register: image_missing
-  failed_when: not image_missing is failed
-
-- name: Try to fetch non-existent image by id
-  one_image:
-    id: -999
-  register: image_missing
-  failed_when: not image_missing is failed
-
-- name: Try to fetch image by id and name
-  one_image:
-    id: 35
-    name: '{{ one_image_name }}'
-  register: module_failed
-  failed_when: not module_failed is failed
-
-- name: Fetch image info
-  one_image:
-    name: '{{ one_image_name }}'
-  register: unused_image
-
-- name: Check is the image in USE
-  assert:
-    that:
-      - not unused_image is changed
-      - unused_image.name == one_image_name
-      - unused_image.running_vms == 0
-      - unused_image.state == "READY"
-      - not unused_image.used|bool
-    msg: 'Image is USED'
-
-- name: Enable image
-  one_image:
-    id: '{{ unused_image.id }}'
-    enabled: yes
-
-- name: Disable the image in check-mode
-  one_image:
-    name: '{{ one_image_name }}'
-    enabled: no
-  check_mode: yes
-  register: disable_image
-
-- name: Check if task in check-mode returns as 'changed'
-  assert:
-    that: disable_image is changed
-    msg: 'Disabling the enabled image in check-mode should return as changed.'
-
-- name: Disable the image again in check-mode to check idempotence
-  one_image:
-    name: '{{ one_image_name }}'
-    enabled: no
-  check_mode: yes
-  register: disable_image2
-
-- name: Check if task in check-mode returns as 'changed'
-  assert:
-    that: disable_image2 is changed
-    msg: 'Disabling the enabled image in check-mode should return as changed.'
-
-- name: Disable the image
-  one_image:
-    name: '{{ one_image_name }}'
-    enabled: no
-  register: disable_image
-
-- name: Check if image's state is 'DISABLED'
-  assert:
-    that: 
-      - disable_image is changed
-      - disable_image.state == "DISABLED"
-    msg: 'Disabling the enabled image was unsuccessful.'
-
-- block:
-    - name: Try to clone disabled image
-      one_image:
-        name: '{{ one_image_name }}'
-        state: cloned
-        new_name: '{{ one_image_name }}-clone'
-      register: clone_image
-      failed_when: not clone_image is failed
-  rescue:
-    - name: Delete new image
-      one_image:
-        name: '{{ one_image_name }}-clone'
-        state: absent
-
-- name: Enable the image
-  one_image:
-    name: '{{ one_image_name }}'
-    enabled: yes
-
-- block:
-    - name: Check that clone image doesn't exist
-      one_image:
-        name: '{{ one_image_name }}-clone'
-      register: clone_image_result
-      failed_when: not clone_image_result is failed
-
-    - name: Clone the image in check-mode
-      one_image:
-        name: '{{ one_image_name }}'
-        state: cloned
-        new_name: '{{ one_image_name }}-clone'
-      register: new_image
-      check_mode: yes
-
-    - name: Check if cloning in check-mode was returned as 'changed'
-      assert:
-        that: new_image is changed
-        msg: "Cloning image in check-mode should be returned as 'changed'"
-
-    - name: Check that new image doesn't exist
-      one_image:
-        name: '{{ one_image_name }}-clone'
-      register: new_image_result
-      failed_when: not new_image_result is failed
-
-    - name: Clone the image
-      one_image:
-        name: '{{ one_image_name }}'
-        state: cloned
-        new_name: '{{ one_image_name }}-clone'
-      register: new_image
-
-    - name: Verify cloning of the image
-      assert:
-        that: 
-          - new_image is changed
-          - new_image.name == '{{ one_image_name }}-clone'
-          - new_image.state == "READY"
-          - not new_image.used|bool
-
-    - name: Clone the image again to check idempotence
-      one_image:
-        name: '{{ one_image_name }}'
-        state: cloned
-        new_name: '{{ one_image_name }}-clone'
-      register: new_image
-
-    - name: Verify cloning of the image
-      assert:
-        that:
-          - not new_image is changed
-          - new_image.name == '{{ one_image_name }}-clone'
-          - new_image.state == "READY"
-          - not new_image.used|bool
-
-    - name: Try to rename an image without a passed new name
-      one_image:
-        id: '{{ new_image.id }}'
-        state: renamed
-      register: rename_fail
-      failed_when: not rename_fail is failed
-      
-    - name: Verify a fail message
-      assert:
-        that:
-          - rename_fail.msg == "'new_name' option has to be specified when the state is 'renamed'"
-
-    - name: Set the image's new name                                    
-      set_fact:                                                 
-        image_new_name: test-{{ ansible_date_time.iso8601_basic_short }}
-
-    - name: Try to rename an image without specified id
-      one_image:
-        name: '{{ new_image.name }}'
-        state: renamed
-        new_name: '{{ image_new_name }}'
-      register: rename_fail
-      failed_when: not rename_fail is failed
-      
-    - name: Verify a fail message
-      assert:
-        that:
-          - rename_fail.msg == "Option 'id' is required when the state is 'renamed'"
-
-    - name: Rename cloned instance in check-mode
-      one_image:
-        id: '{{ new_image.id }}'
-        state: renamed
-        new_name: '{{ image_new_name }}'
-      register: new_name_check
-      check_mode: yes
-
-    - name: Check if previous task is returned as 'changed'
-      assert:
-        that: new_name_check is changed
-        msg: "Renaming in check-mode should return as 'changed'."
-
-    - name: Check if that image wasn't renamed in check-mode
-      assert:
-        that: new_name_check.name == new_image.name
-        msg: "Renaming in check-mode shouldn't rename the image."
-
-    - name: Rename cloned instance
-      one_image:
-        id: '{{ new_image.id }}'
-        state: renamed
-        new_name: '{{ image_new_name }}'
-      register: new_name
-
-    - name: Check that name is correctly assigned
-      assert:
-        that: 
-          - new_name is changed
-          - new_name.name == image_new_name
-          - new_name.id == new_image.id
-        msg: "The new name wasn't assigned correctly"
-
-    - name: Rename cloned instance again to check idempotence
-      one_image:
-        id: '{{ new_name.id }}'
-        state: renamed
-        new_name: '{{ image_new_name }}'
-      register: new_name
-
-    - name: Check if renaming is idempotent
-      assert:
-        that: not new_name is changed
-        msg: "Renaming should be idempotent."
-
-    - name: Try to assigned name of the existent image
-      one_image:
-        id: '{{ new_name.id }}'
-        state: renamed
-        new_name: '{{ one_image_name }}'
-      register: existent_name
-      failed_when: not existent_name is failed
-
-    - name: Verify the fail message
-      assert:
-        that:
-          - existent_name.msg is match("Name '{{ one_image_name }}' is already taken by IMAGE with id=\d+")
-
-    - name: Delete new image in check-mode
-      one_image:
-        name: '{{ image_new_name }}'
-        state: absent
-      register: delete_new_image_check
-      check_mode: yes
-      
-    - name: Check if deletion in check-mode was returned as 'changed'
-      assert:
-        that: delete_new_image_check is changed
-        msg: "Deletion of the image in check-mode should return as 'changed'."
-
-    - name: Delete new image
-      one_image:
-        name: '{{ image_new_name }}'
-        state: absent
-      register: delete_new_image
-
-    - name: Check if deletion was returned as 'changed'
-      assert:
-        that: delete_new_image is changed
-        msg: "Deletion of the existent image should return as 'changed'."
-
-    - name: Delete the image again to check idempotece
-      one_image:
-        name: '{{ image_new_name }}'
-        state: absent
-      register: delete_new_image
-
-    - name: Check if deletion was returned as 'changed'
-      assert:
-        that: not delete_new_image is changed
-        msg: "Deletion of the non-existent image shouldn't return as 'changed'."
-
-  always:
-    - name: Delete image
-      one_image:
-        name: '{{ one_image_name }}-clone'
-        state: absent
-
-    - name: Delete image
-      one_image:
-        name: '{{ image_new_name }}'
-        state: absent
diff --git a/test/legacy/roles/one_image_info/defaults/main.yml b/test/legacy/roles/one_image_info/defaults/main.yml
deleted file mode 100644
index 0f8c3eb24b..0000000000
--- a/test/legacy/roles/one_image_info/defaults/main.yml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-# This is a role for running integration test of the one_image_info module.
-# For this role to be used you need to meet the following prerequisites:
-#   1. Environment variables ONE_URL, ONE_USERNAME and ONE_PASSWORD
-#      need to be set.
-#   2. Image needs to exist.
-#   3. Play vars need to be set bellow to reflect the image IDs, image names, etc.
-
-one_image_name: 'one_image_test'
diff --git a/test/legacy/roles/one_image_info/tasks/main.yml b/test/legacy/roles/one_image_info/tasks/main.yml
deleted file mode 100644
index 9eb2f9610a..0000000000
--- a/test/legacy/roles/one_image_info/tasks/main.yml
+++ /dev/null
@@ -1,163 +0,0 @@
----
-- name: Fetch all images
-  one_image_info:
-  register: all_images
-
-- name: Print all images
-  debug:
-    var: all_images
-
-- name: Gather facts about an image using a name
-  one_image_info:
-    name: '{{ one_image_name }}'
-  register: image_with_name
-
-- name: Verify image's facts
-  assert:
-    that:
-      - not image_with_name is changed
-      - image_with_name.images|length == 1
-      - image_with_name.images[0].name == '{{ one_image_name }}'
-      - not image_with_name.images[0].used|bool
-      - image_with_name.images[0].running_vms == 0
-
-- name: Gather facts about the image using ID
-  one_image_info:
-    id: '{{ image_with_name.images[0].id }}'
-  register: image_with_ids
-
-- name: Verify image's facts
-  assert:
-    that:
-      - not image_with_ids is changed
-      - image_with_ids.images|length == 1
-      - image_with_ids.images[0].name == '{{ one_image_name }}'
-      - not image_with_ids.images[0].used|bool
-      - image_with_ids.images[0].running_vms == 0
-
-- name: Try to gather facts about an image using a name and ids
-  one_image_info:
-    name: '{{ one_image_name }}'
-    id: '{{ image_with_name.images[0].id }}'
-  register: image_name_ids
-  failed_when: not image_name_ids is failed
-
-- name: Try to fetch non-existent image by name
-  one_image_info:
-    name: non-existent-vm-{{ ansible_date_time.iso8601_basic_short }}
-  register: image_missing
-  failed_when: not image_missing is failed
-
-- name: Try to gather facts about non-existent images by regex
-  one_image_info:
-    name: ~non-existent-vm-{{ ansible_date_time.iso8601_basic_short }}-*
-  register: images_with_regex
-
-- name: Verify that images list is empty
-  assert:
-    that:
-      - not images_with_regex is changed
-      - images_with_regex.images|length == 0
-
-- name: Try to fetch non-existent image by id
-  one_image_info:
-    id: -999
-  register: image_missing
-  failed_when: not image_missing is failed
-
-- block:
-    - name: Clone the image first time
-      one_image:
-        name: '{{ one_image_name }}'
-        state: cloned
-        new_name: '{{ one_image_name }}-clone-1'
-
-    - name: Clone the image second time
-      one_image:
-        name: '{{ one_image_name }}'
-        state: cloned
-        new_name: '{{ one_image_name }}-clone-2'
-
-    - name: Fetch all images whose name matches regex
-      one_image_info:
-        name: '~{{ one_image_name }}-clone-[12]$'
-      register: cloned_instances
-
-    - name: Check there are 2 matched instances
-      assert:
-        that:
-          - not cloned_instances is changed
-          - cloned_instances.images|length == 2
-          - cloned_instances.images[0].name == "{{ one_image_name }}-clone-1"
-          - cloned_instances.images[1].name == "{{ one_image_name }}-clone-2"
-        msg: "There should be 2 cloned instances"
-
-    - name: Gather facts about all images using IDs
-      one_image_info:
-        ids:
-          - '{{ cloned_instances.images[0].id }}'
-          - '{{ cloned_instances.images[1].id }}'
-      register: cloned_instances_with_ids
-
-    - name: Check there are 2 matched instances
-      assert:
-        that:
-          - not cloned_instances_with_ids is changed
-          - cloned_instances_with_ids.images|length == 2
-          - cloned_instances_with_ids.images[0].name == "{{ one_image_name }}-clone-1"
-          - cloned_instances_with_ids.images[1].name == "{{ one_image_name }}-clone-2"
-        msg: "There should be 2 cloned instances"
-
-    - name: Rename the second image
-      one_image:
-        id: '{{ cloned_instances_with_ids.images[1].id }}'
-        state: renamed
-        new_name: '{{ one_image_name }}-CLONE-2'
-
-    - name: Fetch all images whose name matches regex
-      one_image_info:
-        name: '~{{ one_image_name }}-clone-[12]$'
-      register: cloned_instances
-
-    - name: Check there is only 1 matched instance
-      assert:
-        that:
-          - not cloned_instances is changed
-          - cloned_instances.images|length == 1
-          - cloned_instances.images[0].name == "{{ one_image_name }}-clone-1"
-        msg: "There should be 1 cloned instance"
-
-    - name: Fetch all images whose name matches regex ignoring cases
-      one_image_info:
-        name: '~*{{ one_image_name }}-clone-[12]$'
-      register: cloned_instances_case_insensitive
-
-    - name: Check there are 2 matched instances
-      assert:
-        that:
-          - not cloned_instances_case_insensitive is changed
-          - cloned_instances_case_insensitive.images|length == 2
-          - cloned_instances_case_insensitive.images[0].name == "{{ one_image_name }}-clone-1"
-          - cloned_instances_case_insensitive.images[1].name == "{{ one_image_name }}-CLONE-2"
-        msg: "There should be 2 cloned instances"
-
-    - name: Delete cloned instances
-      one_image:
-        id: '{{ item.id }}'
-        state: absent
-      with_items: '{{ cloned_instances.images }}'
-  always:
-    - name: Delete the first cloned image
-      one_image:
-        name: '{{ one_image_name }}-clone-1'
-        state: absent
-
-    - name: Delete the second cloned image
-      one_image:
-        name: '{{ one_image_name }}-clone-2'
-        state: absent
-
-    - name: Delete the second cloned image
-      one_image:
-        name: '{{ one_image_name }}-CLONE-2'
-        state: absent
diff --git a/test/legacy/roles/one_service/defaults/main.yml b/test/legacy/roles/one_service/defaults/main.yml
deleted file mode 100644
index 237de4dfaf..0000000000
--- a/test/legacy/roles/one_service/defaults/main.yml
+++ /dev/null
@@ -1,63 +0,0 @@
----
-# This is a role for running integration test of the one_service module.
-# For this role to be used you need to meet the following prerequisites:
-#   1. Environment variables ONEFLOW_URL, ONEFLOW_USERNAME and ONEFLOW_PASSWORD
-#      need to be set.
-#   2. Service template needs to exist. Here is an example service template:
-#
-#      {
-#        "name": "test-one_service-module",
-#        "deployment": "straight",
-#        "description": "This template is used for running integration tests of the one_service Ansible module",
-#        "roles": [
-#          {
-#            "name": "router",
-#            "cardinality": 1,
-#            "vm_template": 15,
-#            "vm_template_contents": "NIC=[NETWORK_ID=\"$PRIVATE\"]\n",
-#            "min_vms": 1,
-#            "max_vms": 2,
-#            "cooldown": 0,
-#            "elasticity_policies": [],
-#            "scheduled_policies": []
-#          },
-#          {
-#            "name": "battle",
-#            "cardinality": 1,
-#            "vm_template": 15,
-#            "vm_template_contents": "NIC=[NETWORK_ID=\"$PUBLIC\"]\n",
-#            "elasticity_policies": [],
-#            "scheduled_policies": []
-#          }
-#        ],
-#        "custom_attrs": {
-#          "PUBLIC": "M|vnet_id|Public Network",
-#          "PRIVATE": "M|vnet_id|Private Network"
-#        },
-#        "ready_status_gate": false
-#      }
-#
-#   3. User used to authenticate with the OneFlow server needs to belong to two
-#      groups and it needs to have Use permission on the above template.
-#   4. Play vars need to be set bellow to reflect the user, group, template IDs, etc.
-
-# ID of the service template in One used for testing
-one_template_id: 90
-
-# Name of the template above
-one_template_name: 'test-one_service-module'
-
-# Template custom attributes needed to bring the service up
-one_template_custom_attrs:
-  PUBLIC: 27
-  PRIVATE: 27
-
-# ID of the user used to login into OneFlow
-one_owner_id: 37
-
-# Users primary and secondary groups
-one_group_id_primary: 113
-one_group_id_secondary: 1
-# Role which will be used for changing cardinality
-
-one_role: router
diff --git a/test/legacy/roles/one_service/tasks/main.yml b/test/legacy/roles/one_service/tasks/main.yml
deleted file mode 100644
index 38857f4b6b..0000000000
--- a/test/legacy/roles/one_service/tasks/main.yml
+++ /dev/null
@@ -1,266 +0,0 @@
----
-- name: Instantiate a service in check mode
-  one_service:
-    template_id: '{{ one_template_id }}'
-  register: create_check_mode
-  check_mode: yes
-
-- name: Check if instantiate in check mode returns as 'changed'
-  assert:
-    that:
-      - create_check_mode is changed
-    msg: Check mode doesn't return as 'changed' when instantiating in check mode
-
-- name: Check if it fails if no service in check mode
-  one_service:
-    service_name: testing-one_service-module-{{ ansible_date_time.iso8601_basic_short }}-missing
-  register: missing_service
-  failed_when: not missing_service is failed
-  check_mode: yes
-
-- name: Check if fails if no service
-  one_service:
-    service_name: testing-one_service-module-{{ ansible_date_time.iso8601_basic_short }}-missing
-  register: missing_service
-  failed_when: not missing_service is failed
-
-# Instantiate a new service without passing required custom_attrs, wait for it to fail, then delete it
-- block:
-    - name: Instantiate service from template ID
-      one_service:
-        template_id: '{{ one_template_id }}'
-      register: service
-
-    - name: Check if instantiate returns as 'changed'
-      assert:
-        that: service is changed
-
-    - name: Print service information for debugging
-      debug:
-        var: service
-
-    - name: Wait for service to become RUNNING
-      one_service:
-        service_id: '{{ service.service_id }}'
-        wait: yes
-      register: wait
-      failed_when: not wait.failed
-  always:
-    - name: Delete service in check mode
-      one_service:
-        service_id: '{{ service.service_id }}'
-        state: absent
-      register: delete_service
-      check_mode: yes
-
-    - name: Check if delete reports 'changed' in check mode
-      assert:
-        that:
-          - delete_service is changed
-
-    - name: Delete service
-      one_service:
-        service_id: '{{ service.service_id }}'
-        state: absent
-      register: delete_service
-
-    - name: Check if delete reports 'changed'
-      assert:
-        that:
-          - delete_service is changed
-
-    - name: Delete service again to check idempotence
-      one_service:
-        service_id: '{{ service.service_id }}'
-        state: absent
-      register: delete_service
-
-    - name: Check if consecutive delete reports 'OK'
-      assert:
-        that:
-          - not delete_service is changed
-        msg: "state=absent is not idempotent"
-
-    - name: Wait for the service to be deleted
-      one_service:
-        service_id: '{{ service.service_id }}'
-      register: delete_service
-      failed_when: no
-      until: delete_service is failed
-      retries: 30
-      delay: 2
-
-- block:
-    - name: Instantiate service from a named template
-      one_service:
-        template_name: '{{ one_template_name }}'
-        custom_attrs: '{{ one_template_custom_attrs }}'
-      register: service
-
-    - name: Check that mode/group were set to defaults on creation
-      assert:
-        that:
-          - service is changed
-          - service.group_id == {{ one_group_id_primary }}
-          - service.mode == 600
-
-    - name: Set mode/group of the service
-      one_service:
-        service_id: '{{ service.service_id }}'
-        group_id: '{{ one_group_id_secondary }}'
-        mode: 640
-      register: service_info
-
-    - name: Check that mode/group were set correctly
-      assert:
-        that:
-          - service_info is changed
-          - service_info.group_id == {{ one_group_id_secondary }}
-          - service_info.mode == 640
-
-    - name: Wait for service to become RUNNING
-      one_service:
-        service_id: '{{ service.service_id }}'
-        wait: yes
-      register: service_running
-
-    - name: Check that service state is RUNNING
-      assert:
-        that:
-          - not service_running is changed
-          - service_running.state == "RUNNING"
-  always:
-    - name: Delete service
-      one_service:
-        service_id: '{{ service.service_id }}'
-        state: absent
-
-- block:
-    - name: Instantiate service from a named template with set mode/group
-      one_service:
-        template_name: '{{ one_template_name }}'
-        custom_attrs: '{{ one_template_custom_attrs }}'
-        group_id: '{{ one_group_id_secondary }}'
-        mode: 660
-      register: service
-
-    - name: Check that mode/group were set correctly on creation
-      assert:
-        that:
-          - service is changed
-          - service.group_id == {{ one_group_id_secondary }}
-          - service.mode == 660
-
-    - name: Wait for service to become RUNNING
-      one_service:
-        service_id: '{{ service.service_id }}'
-        wait: yes
-  always:
-    - name: Delete service
-      one_service:
-        service_id: '{{ service.service_id }}'
-        state: absent
-
-- block:
-    - name: Set the name of the service for this test run
-      set_fact:
-        srv_name: testing-one_service-module-{{ ansible_date_time.iso8601_basic_short }}
-
-    - name: Instantiate a unique service in check mode
-      one_service:
-        template_name: '{{ one_template_name }}'
-        service_name: '{{ srv_name }}'
-        custom_attrs: '{{ one_template_custom_attrs }}'
-        unique: yes
-      check_mode: yes
-      register: service
-
-    - name: Check if instantiating a service with a unique name in check mode returns 'changed'
-      assert:
-        that:
-          - service is changed
-
-    - name: Instantiate a unique service
-      one_service:
-        template_name: '{{ one_template_name }}'
-        service_name: '{{ srv_name }}'
-        custom_attrs: '{{ one_template_custom_attrs }}'
-        unique: yes
-      register: service
-
-    - name: Check if instantiating a service with a unique name returns 'changed'
-      assert:
-        that:
-          - service is changed
-          - service.service_name == srv_name
-          - service.state == "PENDING"
-
-    - name: Instantiate a unique service again to check indepontence
-      one_service:
-        template_name: '{{ one_template_name }}'
-        service_name: '{{ srv_name }}'
-        custom_attrs: '{{ one_template_custom_attrs }}'
-        unique: yes
-      register: service
-
-    - name: Check idempotence of instantiating a service with a unique name
-      assert:
-        that:
-          - not service is changed
-
-    - name: Wait for service by its name to become RUNNING
-      one_service:
-        service_name: '{{ srv_name }}'
-        wait: yes
-
-    - name: Change role cardinality to 2
-      one_service:
-        service_id: '{{ service.service_id }}'
-        role: '{{ one_role }}'
-        cardinality: 2
-        wait: yes
-
-    - name: Change role cardinality to 3
-      one_service:
-        service_id: '{{ service.service_id }}'
-        role: '{{ one_role }}'
-        cardinality: 3
-        wait: yes
-      register: cardinality
-      ignore_errors: yes
-
-    - name: Check if setting role cardinality to greater than max fails
-      assert:
-        that:
-          - cardinality is failed
-          - cardinality.msg is match("Failed to change cardinality for role:")
-
-    - name: Change role cardinality to 3 with force=yes
-      one_service:
-        service_id: '{{ service.service_id }}'
-        role: '{{ one_role }}'
-        cardinality: 3
-        force: yes
-        wait: yes
-      register: cardinality
-
-    - name: Verify that cardinality is changed
-      assert:
-        that:
-          - cardinality is changed
-          - cardinality.roles|length == 2
-          - cardinality.roles[0].cardinality == 3
-  always:
-    - name: Delete service
-      one_service:
-        service_id: '{{ service.service_id }}'
-        state: absent
-
-- name: Set the name of the service for this test run
-  set_fact:
-    srv_name: testing-one_service-module-{{ ansible_date_time.iso8601_basic_short }}
-
-- name: Try to delete nonexistent service
-  one_service:
-    service_name: '{{ srv_name }}'
-    state: absent
diff --git a/test/legacy/roles/one_vm/defaults/main.yml b/test/legacy/roles/one_vm/defaults/main.yml
deleted file mode 100644
index e162252b7c..0000000000
--- a/test/legacy/roles/one_vm/defaults/main.yml
+++ /dev/null
@@ -1,56 +0,0 @@
----
-# This is a role for running integration test of the one_vm module.
-# For this role to be used you need to meet the following prerequisites:
-#   1. Environment variables ONE_URL, ONE_USERNAME and ONE_PASSWORD
-#      need to be set.
-#   2. VM template needs to exist. Here is an example of VM template:
-#
-#        CONTEXT = [
-#          NETWORK = "YES",
-#          REPORT_READY = "YES",
-#          SET_HOSTNAME = "$NAME",
-#          SSH_PUBLIC_KEY = "$USER[SSH_PUBLIC_KEY]",
-#          TOKEN = "YES" ]
-#        CPU = "0.2"
-#        CPU_COST = ".0890000000"
-#        DISK = [
-#          IMAGE = "CentOS 7",
-#          IMAGE_UNAME = "oneadmin" ]
-#        DISK_COST = ".0000005853"
-#        GRAPHICS = [
-#          LISTEN = "0.0.0.0",
-#          TYPE = "VNC" ]
-#        HYPERVISOR = "kvm"
-#        LOGO = "images/logos/centos.png"
-#        MEMORY = "1024"
-#        MEMORY_COST = ".0000003560"
-#        SCHED_DS_REQUIREMENTS = "NAME=local_system"
-#        USER_INPUTS = [
-#          CPU = "O|fixed|| |0.2",
-#          MEMORY = "M|list||1024,2048,4096,8192,16384,24576,32768,49152,65536|1024",
-#          VCPU = "O|list||1,2,4,6,8,10|1" ]
-#        VCPU = "1"
-#
-#   3. Play vars need to be set bellow to reflect the vm IDs, networks, template IDs, etc.
-
-one_template_id: 15
-one_template_name: 'CentOS 7'
-one_template_name_with_2_disks: 'Centos_2_disks'
-one_memory: '4 GB'
-one_cpu: 0.1
-one_vcpu: 4
-
-one_incorrect_memory: '123ABC'
-one_incorrect_disk_size: '12344FFB'
-one_disk_size: '32.4 GB'
-
-one_networks_good:
-  - NETWORK: "default-test-private"
-    NETWORK_UNAME: "oneadmin"
-    SECURITY_GROUPS: "10"
-  - NETWORK_ID: 27
-
-one_networks_bad:
-  - NETWORK_ID: 999
-  - IP: '9.9.9'
-one_vm_name: 'foo123'
diff --git a/test/legacy/roles/one_vm/tasks/main.yml b/test/legacy/roles/one_vm/tasks/main.yml
deleted file mode 100644
index 1d81a75e0a..0000000000
--- a/test/legacy/roles/one_vm/tasks/main.yml
+++ /dev/null
@@ -1,1139 +0,0 @@
----
-- name: 'Deploy a VM in check-mode with template_id'
-  one_vm:
-    template_id: '{{ one_template_id }}'
-  register: deployed_vm1
-  check_mode: yes
-
-- name: Check if deployment in check-mode with template_id returns 'changed'
-  assert:
-    that:
-      - deployed_vm1 is changed
-    msg: Check mode doesn't return as 'changed' when deploying in check-mode with specified template_id
-
-- name: Deploy a VM in check-mode with template_name
-  one_vm:
-    template_name: '{{ one_template_name }}'
-  register: deployed_vm2
-  check_mode: yes
-
-- name: Check if deployment in check-mode with template_name returns 'changed'
-  assert:
-    that:
-      - deployed_vm2 is changed
-    msg: Check mode doesn't return as 'changed' when deploying in check-mode with specified template_name
-
-- name: Deploy a VM in check-mode with non-existent template_name
-  one_vm:
-    template_name: 'unknown'
-  register: template_bad
-  failed_when: not template_bad is failed
-
-- name: Check if it fails if we try to access a non-existent VM in check-mode
-  one_vm:
-    instance_ids: non-existent-vm-{{ ansible_date_time.iso8601_basic_short }}
-  register: vm_missing
-  failed_when: not vm_missing is failed
-  check_mode: yes
-
-- name: Check if it fails if we try to access a non-existent VM
-  one_vm:
-    instance_ids: non-existent-vm-{{ ansible_date_time.iso8601_basic_short }}
-  register: vm_missing
-  failed_when: not vm_missing is failed
-
-- block:
-    - name: Deploy a VM with networks, memory and cpu
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        networks: '{{ one_networks_good }}'
-        memory: '{{ one_memory }}'
-        cpu: '{{ one_cpu }}'
-      register: deployed_vm
-
-    - name: Verify deploying of the VM
-      assert:
-        that:
-          - deployed_vm is changed
-          - deployed_vm.instances_ids|length == 1
-          - deployed_vm.instances|length == 1
-          - deployed_vm.instances[0].vm_id == deployed_vm.instances_ids[0]
-          - deployed_vm.instances[0].networks|length == one_networks_good|length
-          - deployed_vm.instances[0].memory == "4096 MB"
-          - deployed_vm.instances[0].cpu == "{{ one_cpu }}"
-          - deployed_vm.instances[0].state == "ACTIVE"
-          - deployed_vm.instances[0].lcm_state == "RUNNING"
-
-    - name: Delete a VM in check-mode
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances[0].vm_id }}'
-        state: absent
-      register: delete_vm
-      check_mode: yes
-
-    - name: Check if delete in check-mode returns 'changed'
-      assert:
-        that: delete_vm is changed
-
-    - name: Wait for the VM to become RUNNING
-      one_vm:
-        attributes:
-          name: '{{ deployed_vm.instances[0].vm_name }}'
-        state: running
-
-  always:
-    - name: Delete the VM
-      one_vm:
-        instance_ids:
-          - '{{ deployed_vm.instances[0].vm_id }}'
-        state: absent
-        hard: yes
-      register: delete_vm
-
-- name: Check if deletion has done
-  assert:
-    that:
-      - delete_vm is changed
-      - delete_vm.instances_ids|length == 1
-      - delete_vm.instances_ids[0] == deployed_vm.instances_ids[0]
-    msg: 'Deletion has not done'
-
-- name: Delete the VM again to test idempotence
-  one_vm:
-    instance_ids:
-      - '{{ deployed_vm.instances[0].vm_id }}'
-    state: absent
-  register: delete_vm_idempotent
-
-- name: Check if deletion is idempotent
-  assert:
-    that:
-      - not delete_vm_idempotent is changed
-    msg: 'Deletion is not idempotent'
-
-- name: Delete a non-existent VM
-  one_vm:
-    instance_ids:
-     - non-existent-vm-{{ ansible_date_time.iso8601_basic_short }}
-    state: absent
-  register: delete_non_existent_vm
-
-- name: Check if deletion is not executed
-  assert:
-    that:
-      - not delete_non_existent_vm is changed
-    msg: 'Deletion is bad, task has deleted non existent VM'
-
-- block:
-    - name: Set the unique name of the VM
-      set_fact:
-        vm_unique_name: test-vm-name-{{ ansible_date_time.iso8601_basic_short }}
-
-    - name: Try to deploy an unique VM with exact_count but without count_attributes and count_labels
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: '{{ vm_unique_name }}'
-        exact_count: 1
-      register: one_exact_count_without_count_attrs
-      failed_when: not one_exact_count_without_count_attrs is failed
-
-    - name: Deploy an unique VM in check mode
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: '{{ vm_unique_name }}'
-        exact_count: 1
-        count_attributes:
-          name: '{{ vm_unique_name }}'
-      register: unique_vm_check_mode
-      check_mode: yes
-
-    - name: Check if deployment in check-mode returns as 'changed'
-      assert:
-        that:
-          - unique_vm_check_mode is changed
-        msg: 'Deploying an unique VM, that does not exist, in check-mode should return as changed.'
-
-    - name: Really deploy an unique VM
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: '{{ vm_unique_name }}'
-        exact_count: 1
-        count_attributes:
-          name: '{{ vm_unique_name }}'
-      register: unique_vm
-
-    - name: Verify deploying with unique name
-      assert:
-        that:
-          - unique_vm is changed
-          - unique_vm.instances_ids|length == 1
-          - unique_vm.instances|length == 1
-          - unique_vm.instances[0].vm_name == "{{ vm_unique_name }}"
-        msg: Deployment of the unique VM doesn't return as 'changed'
-
-    - name: Deploy an unique VM again to check idempotence
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: '{{ vm_unique_name }}'
-        exact_count: 1
-        count_attributes:
-          name: '{{ vm_unique_name }}'
-      register: unique_vm_idempotent
-
-    - name: Check idempotence of deployment with unique name
-      assert:
-        that:
-          - not unique_vm_idempotent is changed
-        msg: Deployment with unique name isn't idempotent
-
-  always:
-    - name: Delete the unique VM
-      one_vm:
-        instance_ids:
-          - '{{ unique_vm.tagged_instances[0].vm_id }}'
-        state: absent
-        hard: yes
-
-- name: Try to deploy a VM with incorrect networks
-  one_vm:
-    template_name: '{{ one_template_name }}'
-    networks: '{{ one_networks_bad }}'
-  register: vm_with_bad_networks
-  failed_when: not vm_with_bad_networks is failed
-
-- name: Try to deploy a VM with incorrect memory size
-  one_vm:
-    template_name: '{{ one_template_name }}'
-    memory: '{{ one_incorrect_memory }}'
-  register: vm_with_bad_memory_param
-  failed_when: not vm_with_bad_memory_param is failed
-
-- name: Try to deploy a VM with incorrect disk size
-  one_vm:
-    template_name: '{{ one_template_name }}'
-    disk_size: '{{ one_incorrect_disk_size }}'
-  register: vm_with_bad_disk_size_param
-  failed_when: not vm_with_bad_disk_size_param is failed
-
-- name: Try to deploy a VM, with disk size, whose template has more than one DISK
-  one_vm:
-    template_name: '{{ one_template_name_with_2_disks }}'
-    disk_size: '{{ one_disk_size }}'
-  register: vm_with_disk_size_and_more_disks
-  failed_when: not vm_with_disk_size_and_more_disks is failed
-
-- name: Try to deploy a VM with incorrect name's format
-  one_vm:
-    template_name: '{{ one_template_name }}'
-    attributes:
-      name: 'foo#Vm###'
-  register: vm_with_bad_name
-  failed_when: not vm_with_bad_name is failed
-
-- name: Try to deploy a VM with incorrect name's format
-  one_vm:
-    template_name: '{{ one_template_name }}'
-    attributes:
-      name: '###'
-  register: vm_with_bad_name
-  failed_when: not vm_with_bad_name is failed
-
-- block:
-    - name: Deploy a VM and wait for it to become RUNNING
-      one_vm:
-        template_id: '{{ one_template_id }}'
-      register: vm_register
-
-    - name: Power-off the VM and wait for it to become POWEROFF
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: poweredoff
-        hard: yes
-      register: power_off_vm
-
-    - name: Check if VM went down properly
-      assert:
-        that:
-          - power_off_vm is changed
-          - power_off_vm.instances|length == 1
-          - power_off_vm.instances[0].state == "POWEROFF"
-        msg: Power-off of the VM doesn't work
-
-    - name: Power-off the VM again to check idempotence
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: poweredoff
-      register: power_off_vm_idempotent
-
-    - name: Check if power-off is idempotent
-      assert:
-        that:
-          - not power_off_vm_idempotent is changed
-        msg: Power-off of the VM is not idempotent
-
-    - name: Run a VM again in check-mode
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: running
-      register: run_vm_check_mode
-      check_mode: yes
-
-    - name: Check if running in check-mode returns as 'changed'
-      assert:
-        that:
-          - run_vm_check_mode is changed
-
-    - name: Run a VM and wait for it to become RUNNING
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: running
-      register: run_vm
-
-    - name: Check if VM is running again
-      assert:
-        that:
-          - run_vm is changed
-          - run_vm.instances_ids|length == 1
-          - run_vm.instances_ids[0] == vm_register.instances[0].vm_id
-          - run_vm.instances|length == 1
-          - run_vm.instances[0].state == "ACTIVE"
-          - run_vm.instances[0].lcm_state == "RUNNING"
-
-    - name: Reboot the running VM
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: rebooted
-      register: reboot_running_vm
-
-    - name: Check if reboot returns as changed
-      assert:
-        that:
-          - reboot_running_vm is changed
-        msg: Reboot should be done anyway
-
-    - name: Power-off the VM and wait for it to become POWEROFF
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: poweredoff
-        hard: yes
-
-    - name: Reboot the extinguished VM and wait for it to become RUNNING
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: rebooted
-      register: reboot_extinguished_vm
-
-    - name: Check if reboot started VM again
-      assert:
-        that:
-          - reboot_extinguished_vm is changed
-          - reboot_extinguished_vm.instances|length == 1
-          - reboot_extinguished_vm.instances[0].state == "ACTIVE"
-          - reboot_extinguished_vm.instances[0].lcm_state == "RUNNING"
-        msg: Rebooting the extinguished VM should run it
-
-  always:
-    - name: Delete the VM
-      one_vm:
-        instance_ids:
-          - '{{ vm_register.instances[0].vm_id }}'
-        state: absent
-        hard: yes
-
-- block:
-    - name: Deploy 2 VMs with attributes in check-mode
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: aero
-          key: value
-        count: 2
-      register: deploy_vms_with_count_check_mode
-      check_mode: yes
-
-    - name: Check if deployment in check-mode returns as 'changed'
-      assert:
-        that:
-          - deploy_vms_with_count_check_mode is changed
-
-    - name: Deploy 2 VMs with attributes
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: aero
-          key: value
-        count: 2
-      register: deploy_vms_with_count
-
-    - name: Check if deployment in returns as 'changed'
-      assert:
-        that:
-          - deploy_vms_with_count is changed
-          - deploy_vms_with_count.instances_ids|length == 2
-          - deploy_vms_with_count.instances|length == 2
-          - deploy_vms_with_count.tagged_instances|length == 0
-          - deploy_vms_with_count.instances[0].vm_name == "aero"
-          - deploy_vms_with_count.instances[1].vm_name == "aero"
-
-    - name: Deploy 2 VMs with attributes to check it is not idempotent
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: aero
-          key: value
-        count: 2
-      register: deploy_vms_with_count_check_idempotence
-
-    - name: Check if deployment with count is not idempotent
-      assert:
-        that:
-          - deploy_vms_with_count_check_idempotence is changed
-          - deploy_vms_with_count_check_idempotence.instances_ids|length == 2
-          - deploy_vms_with_count_check_idempotence.instances|length == 2
-
-  always:
-    - name: Delete all VMs
-      one_vm:
-        instance_ids: '{{ deploy_vms_with_count.instances_ids | union(deploy_vms_with_count_check_idempotence.instances_ids) }}'
-        state: absent
-        hard: yes
-      register: delete_all_vms
-
-    - name: Verify deletion
-      assert:
-        that:
-          - delete_all_vms is changed
-          - delete_all_vms.instances_ids|length == 4
-          - delete_all_vms.instances|length == 4
-          - delete_all_vms.tagged_instances|length == 0
-
-- block:
-    - name: Set VMs indexed format name
-      set_fact:
-        vms_indexed_name: 'aero-##'
-
-    - name: Terminate all VMs with name's format 'aero-##'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_attributes:
-          name: '{{ vms_indexed_name }}'
-        hard: yes
-        exact_count: 0
-
-    - name: Terminate all VMs with name's format 'aero-##' again to check-idempotence
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_attributes:
-          name: '{{ vms_indexed_name }}'
-        hard: yes
-        exact_count: 0
-
-    - name: Terminate all VMs with name's format 'aero'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        exact_count: 0
-        count_attributes:
-          name: aero
-        hard: yes
-
-    - name: Fetch all VMs with name's format 'aero-##'
-      one_vm:
-        attributes:
-          name: '{{ vms_indexed_name }}'
-      register: all_aero_vms
-      failed_when: all_aero_vms.instances_ids|length > 0
-
-    - name: Deploy exact 3 instances with name's format 'aero-##'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: '{{ vms_indexed_name }}'
-        exact_count: 3
-        count_attributes:
-          name: '{{ vms_indexed_name }}'
-      register: vms_with_hash
-
-    - name: Deploy exact 2 instances with name's format 'aero'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: aero
-        exact_count: 2
-        count_attributes:
-          name: aero
-      register: vms_without_hash
-
-    - name: Fetch all VMs with name's format 'aero-#'
-      one_vm:
-        attributes:
-          name: aero-#
-      register: all_aero_vms_with_hash
-
-    - name: Check there are exactly 3 instances with name's format 'aero-#'
-      assert:
-        that:
-          - not all_aero_vms_with_hash is changed
-          - all_aero_vms_with_hash.instances|length == 3
-
-    - name: Decrement count of 'aero-#' instances
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        exact_count: 2
-        count_attributes:
-          name: aero-#
-      register: aero_vms_with_hash_decremented
-
-    - name: Check if we terminated oldest one VM
-      assert:
-        that:
-          - aero_vms_with_hash_decremented is changed
-          - aero_vms_with_hash_decremented.instances_ids|length == 1
-          - vms_with_hash.instances_ids|min == aero_vms_with_hash_decremented.instances_ids[0]
-
-    - name: Deploy new one with name's format 'aero-#'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: 'aero-#'
-      register: new_vm_with_hash
-
-    - name: Check if new VM has index 0
-      assert:
-        that:
-          - new_vm_with_hash is changed
-          - new_vm_with_hash.instances_ids|length == 1
-          - new_vm_with_hash.instances|length == 1
-          - new_vm_with_hash.tagged_instances|length == 0
-          - new_vm_with_hash.instances[0].vm_name|regex_replace('(\d+)$','\1')|int == 0
-
-  always:
-    - name: Terminate all VMs with name's format 'aero-##'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_attributes:
-          name: '{{ vms_indexed_name }}'
-        exact_count: 0
-        hard: yes
-
-    - name: Terminate all VMs with name's format 'aero'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_attributes:
-          name: aero
-        exact_count: 0
-        hard: yes
-
-- block:
-    - name: Try to create negative count of VMs
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count: -3
-      register: negative_count_of_vms
-      failed_when: not negative_count_of_vms is failed
-
-    - name: Verify the fail message
-      assert:
-        that:
-          - negative_count_of_vms.msg == "`count` has to be grater than 0"
-
-    - name: Try to use hard parameter for running state
-      one_vm:
-        instance_ids:
-          - 123
-          - 456
-        hard: yes
-        state: running
-      register: hard_with_running
-      failed_when: not hard_with_running is failed
-
-    - name: Try to use count with count_attributes/count_labels
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count: 2
-        count_attributes:
-          key: val
-        count_labels:
-          - foo
-      register: use_count_with_count_attrs
-      failed_when: not use_count_with_count_attrs is failed
-
-    - name: Terminate all VMs with label 'foo'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_labels:
-          - foo
-        exact_count: 0
-        hard: yes
-
-    - name: Deploy exact 3 VMs with label 'foo'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        labels:
-          - foo
-        exact_count: 3
-        count_labels:
-          - foo
-      register: vms_with_foo_label
-
-    - name:
-      assert:
-        that:
-          - vms_with_foo_label is changed
-          - vms_with_foo_label.tagged_instances|length == 3
-          - vms_with_foo_label.tagged_instances[0].labels|length == 1
-          - vms_with_foo_label.tagged_instances[0].labels[0] == "foo"
-
-    - name: Try to use ids with exact_count and check if it fails
-      one_vm:
-        instance_ids: '{{ vms_with_foo_label.instances_ids }}'
-        exact_count: 2
-      register: failed_ids_and_exact_count
-      failed_when: not failed_ids_and_exact_count is failed
-
-    - name: Set special label for a new instance
-      set_fact:
-        vm_spec_label: spec-label-{{ ansible_date_time.iso8601_basic_short }}
-
-    - name: Add a new instance in the group of instances with label 'foo'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        labels:
-          - foo
-          - '{{ vm_spec_label }}'
-        exact_count: 4
-        count_labels:
-          - foo
-      register: new_vm_with_label
-
-    - name: Fetch all instances with special label
-      one_vm:
-        labels:
-          - '{{ vm_spec_label }}'
-      register: vm_with_special_label
-
-    - name: Check there is only one VM with the special label
-      assert:
-        that:
-          - not vm_with_special_label is changed
-          - vm_with_special_label.instances_ids|length == 1
-          - vm_with_special_label.instances_ids[0] == new_vm_with_label.instances_ids[0]
-
-  always:
-    - name: Fetch all VMs with label 'foo'
-      one_vm:
-        labels:
-          - foo
-      register: all_foo_instances
-
-    - name: Terminate all VMs with label 'foo'
-      one_vm:
-        instance_ids: '{{ all_foo_instances.instances_ids }}'
-        state: absent
-        hard: yes
-      when: all_foo_instances.instances_ids|length > 0
-
-- block:
-    - name: Fetch all VMs with 'foo_app' key
-      one_vm:
-        attributes:
-          foo_app:
-      register: foo_app_instances
-
-    - name: Terminate all VMs with 'foo_app' key
-      one_vm:
-        instance_ids: '{{ foo_app_instances.instances_ids }}'
-        state: absent
-        hard: yes
-      when: foo_app_instances.instances_ids|length > 0
-
-    - name: Terminate all instances with name's format 'aeroXYZ-##' to test name parsing later
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        exact_count: 0
-        count_attributes:
-          name: 'aeroXYZ-##'
-        hard: yes
-
-    - name: Deploy 2 instances with attributes
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: 'aero-###'
-          foo_app: foo
-        count: 2
-
-    - name: Deploy 2 instances with different value for attribute
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: 'aero-###'
-          foo_app: bar
-        count: 2
-
-    - name: Get all instances with attribute's key
-      one_vm:
-        attributes:
-          foo_app:
-      register: all_foo_app_vms
-
-    - name: Check there are 4 VMs with 'foo_app' key
-      assert:
-        that:
-          - all_foo_app_vms.instances|length == 4
-
-    - name: Decrement count of VMs with 'foo_app' key
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        exact_count: 2
-        count_attributes:
-          foo_app:
-      register: foo_app_vms
-
-      # instances list contains affected instances
-      # tagged_instances list contains the remaining instances with the appropriate attributes
-    - name: Check are there 2 elements in instances list and 2 elements in tagged_instances list
-      assert:
-        that:
-          - foo_app_vms is changed
-          - foo_app_vms.instances|length == 2
-          - foo_app_vms.tagged_instances|length == 2
-
-    - name: Fetch all instances with name's format 'aeroXYZ-##' to check parsing
-      one_vm:
-        attributes:
-          name: 'aeroXYZ-##'
-      register: check_there_are_no_vms
-      failed_when: check_there_are_no_vms.instances_ids|length > 0
-
-  always:
-    - name: Fetch all VMs with 'foo_app' key
-      one_vm:
-        attributes:
-          foo_app:
-      register: foo_app_instances
-
-    - name: Terminate all VMs with 'foo_app' key
-      one_vm:
-        instance_ids: '{{ foo_app_instances.instances_ids }}'
-        state: absent
-        hard: yes
-      when: foo_app_instances.instances_ids|length > 0
-
-- block:
-    - name: Set labels list
-      set_fact:
-        labels_list:
-           - bar1
-           - bar2
-
-    - name: Deploy an instance with name 'app1', attribute 'foo app' and labels 'bar1' and 'bar2'
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        attributes:
-          name: app1
-          foo: app
-        labels: '{{ labels_list }}'
-      register: instance_with_labels
-
-    - name: Fetch the current instance
-      one_vm:
-        attributes:
-          name: app1
-          foo: app
-        labels: '{{ labels_list }}'
-      register: current_instance
-
-    - name: Check that the instance is fetched
-      assert:
-        that: current_instance.instances|length == 1
-        msg: There is no instance
-
-    - name: Check that labels are set correctly
-      assert:
-        that: instance_with_labels.instances[0].labels|difference(labels_list)|length == 0
-        msg: Labels are not correct
-
-    - name: Check that name is correct
-      assert:
-        that: instance_with_labels.instances[0].vm_name == 'app1'
-        msg: The instance name is incorrect
-
-  always:
-    - name: Terminate the instance
-      one_vm:
-        instance_ids: '{{ instance_with_labels.instances_ids }}'
-        state: absent
-        hard: yes
-
-- name: Try to use letters for ids option
-  one_vm:
-    instance_ids:
-      - asd
-      - 123
-    state: running
-  register: ids_with_letters
-  failed_when: not ids_with_letters is failed
-
-- name: Try to use letters for ids option when terminate vms
-  one_vm:
-    instance_ids:
-      - asd
-      - 123
-    state: absent
-  register: ids_with_letters
-  failed_when: ids_with_letters is failed
-
-- name: Try to use restricted attributes when deploying
-  one_vm:
-    template_id: '{{ one_template_id }}'
-    attributes:
-      disk: 34 GB
-      template: foo
-  register: restricted_attributes
-  failed_when: not restricted_attributes is failed
-
-- name: Verify the fail message
-  assert:
-    that:
-      - restricted_attributes.msg == "Restricted attribute `DISK` cannot be used when filtering VMs."
-
-- block:
-    - name: Deploy VM and set its mode
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        mode: 640
-      register: deployed_vm
-
-    - name: Check if mode is set correctly
-      assert:
-        that:
-          - deployed_vm is changed
-          - deployed_vm.instances|length == 1
-          - deployed_vm.instances[0].mode == "640"
-
-    - name: Set VM permissions to 660
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids }}'
-        mode: 660
-      register: deployed_vm
-
-    - name: Check if mode is set correctly
-      assert:
-        that:
-          - deployed_vm is changed
-          - deployed_vm.instances|length == 1
-          - deployed_vm.instances[0].mode == "660"
-
-    - name: Set 660 permissions againt to check idempotence
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids[0] }}'
-        mode: 660
-      register: chmod_idempotent
-
-    - name: Check if chmod is idempotent
-      assert:
-        that:
-          - chmod_idempotent is not changed
-        msg: 'Permissions changing is not idempotent'
-
-    - name: Try to set permissions incorectly
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids[0] }}'
-        mode: 8983
-      register: chmod_failed
-      failed_when: not chmod_failed is failed
-
-    - name: Try to set permissions incorectly
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids[0] }}'
-        mode: 64a
-      register: chmod_failed
-      failed_when: not chmod_failed is failed
-
-    - name: Set 664 permissions
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids[0] }}'
-        mode: 664
-      register: vm_chmod
-
-    - name: Verify permissions changing
-      assert:
-        that:
-          - vm_chmod is changed
-          - vm_chmod.instances|length == 1
-          - vm_chmod.instances[0].mode == "664"
-        msg: 'Permissions changing is failed'
-
-    - name: Deploy 2 VMs with label 'test-mode' and mode 640
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_labels:
-          - test-mode
-        exact_count: 2
-        mode: 640
-      register: deployed_vm2
-
-    - name: Verify VMs permissions
-      assert:
-        that:
-          - deployed_vm2 is changed
-          - deployed_vm2.instances|length == 2
-          - deployed_vm2.instances[0].mode == "640"
-          - deployed_vm2.instances[1].mode == "640"
-
-    - name: Change permissions of first VM
-      one_vm:
-        instance_ids: '{{ deployed_vm2.instances_ids[0] }}'
-        mode: 644
-      register: chmod_vm1
-
-    - name: Verify VM permissions
-      assert:
-        that:
-          - chmod_vm1 is changed
-          - chmod_vm1.instances|length == 1
-          - chmod_vm1.instances[0].mode == "644"
-
-    - name: Change permissions on both VMs
-      one_vm:
-        instance_ids: '{{ deployed_vm2.instances_ids }}'
-        mode: 644
-      register: deployed_vm2
-
-    - name: Verify VMs permissions
-      assert:
-        that:
-          - deployed_vm2 is changed
-          - deployed_vm2.instances|length == 2
-          - deployed_vm2.instances[0].mode == "644"
-          - deployed_vm2.instances[1].mode == "644"
-
-    - name: Change VMs permissions using the label
-      one_vm:
-        labels:
-          - test-mode
-        mode: 664
-      register: label_chmod
-
-    - name: Verify VMs permissions
-      assert:
-        that:
-          - label_chmod is changed
-          - label_chmod.instances|length == 2
-          - label_chmod.instances[0].mode == "664"
-          - label_chmod.instances[1].mode == "664"
-
-    - name: Deploy 2 more VMs with label 'test-mode' and mode 640
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_labels:
-          - test-mode
-        exact_count: 4
-        mode: 640
-      register: deployed_vm4
-
-    - name: Verify VMs permissions
-      assert:
-        that:
-          - deployed_vm4 is changed
-          - deployed_vm4.tagged_instances|length == 4
-          - deployed_vm4.tagged_instances[0].mode == "640"
-          - deployed_vm4.tagged_instances[1].mode == "640"
-          - deployed_vm4.tagged_instances[2].mode == "640"
-          - deployed_vm4.tagged_instances[3].mode == "640"
-
-    - name: Terminate 2 VMs with label 'test-mode' and set mode 660 on remaining VMs
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        count_labels:
-          - test-mode
-        exact_count: 2
-        mode: 660
-      register: terminate_vm4
-
-    - name: Verify VMs permissions
-      assert:
-        that:
-          - terminate_vm4 is changed
-          - terminate_vm4.instances|length == 2 # 2 removed
-          - terminate_vm4.tagged_instances|length == 2 # 2 remaining with label test-mode
-          - terminate_vm4.instances[0].mode == "640"
-          - terminate_vm4.instances[1].mode == "640"
-          - terminate_vm4.tagged_instances[0].mode == "660"
-          - terminate_vm4.tagged_instances[1].mode == "660"
-
-  always:
-    - name: Delete VM
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids }}'
-        state: absent
-        hard: yes
-
-    - name: Delete VMs
-      one_vm:
-        instance_ids: '{{ deployed_vm4.instances_ids }}'
-        state: absent
-        hard: yes
-  tags: test-chmod
-
-- block:
-    - name: Deploy VM
-      one_vm:
-        template_id: '{{ one_template_id }}'
-      register: deployed_vm
-
-    - name: Change VM's group
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids }}'
-        group_id: 1
-      register: changed_group
-
-    - name: Verify group changing
-      assert:
-        that:
-          - deployed_vm is changed
-          - changed_group is changed
-          - deployed_vm.instances|length == 1
-          - changed_group.instances|length == 1
-          - changed_group.instances[0].owner_id == deployed_vm.instances[0].owner_id
-          - changed_group.instances[0].group_id != deployed_vm.instances[0].group_id
-
-    - name: Try to set non-existent group
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids }}'
-        group_id: -999
-      register: changed_group
-      failed_when: changed_group is not failed
-
-  always:
-    - name: Delete VM
-      one_vm:
-        instance_ids: '{{ deployed_vm.instances_ids }}'
-        state: absent
-        hard: yes
-  tags: test-chown
-
-- name: Test images creation
-  block:
-    - name: Set fact image name
-      set_fact:
-        image_name: test-image-name-{{ ansible_date_time.iso8601_basic_short }}
-
-    - name: Deploy VM
-      one_vm:
-        template_id: '{{ one_template_id }}'
-        labels:
-          - test-image
-        attributes:
-          name: test-vm-image
-      register: vm_image
-
-    - name: Try to use disk_saveas option with labels and attributes
-      one_vm:
-        labels:
-          - test-image
-        attributes:
-          name: test-vm-image
-        disk_saveas:
-          name: '{{ image_name }}'
-      register: save_disk_labels
-      failed_when: not save_disk_labels is failed
-
-    - name: Try to save disk in running state to check if it will fail
-      one_vm:
-        instance_ids: '{{ vm_image.instances_ids }}'
-        disk_saveas:
-          name: '{{ image_name }}'
-      register: disk_save_as_running
-      failed_when: not disk_save_as_running
-
-    - name: Verify the fail message
-      assert:
-        that:
-          - disk_save_as_running.msg == "'disksaveas' option can be used only when the VM is in 'POWEROFF' state"
-
-    - name: Try to save disk without specified image name
-      one_vm:
-        instance_ids: '{{ vm_image.instances_ids }}'
-        disk_saveas: {}
-      register: disk_save_without_name
-      failed_when: not disk_save_without_name is failed
-
-    - name: Try to save disk of non-existent VM
-      one_vm:
-        attributes:
-          name: test-vm-{{ ansible_date_time.iso8601_basic_short }}
-        disk_saveas:
-          name: '{{ image_name }}'
-      register: disk_save_no_vm
-      failed_when: not disk_save_no_vm is failed
-
-    - name: Save disk of powered-off VM in check-mode
-      one_vm:
-        instance_ids: '{{ vm_image.instances_ids }}'
-        state: poweredoff
-        hard: yes
-        disk_saveas:
-          name: '{{ image_name }}'
-      check_mode: yes
-      register: vm_disk_saveas_check_mode
-
-    - name: Check if disk saving in check-mode is returned as 'changed'
-      assert:
-        that:
-          - vm_disk_saveas_check_mode is changed
-
-    - name: Check that image doesn't exist
-      one_image:
-        name: '{{ image_name }}'
-      failed_when: no
-
-    - name: Save disk of powered-off VM
-      one_vm:
-        instance_ids: '{{ vm_image.instances_ids }}'
-        state: poweredoff
-        hard: yes
-        disk_saveas:
-          name: '{{ image_name }}'
-      register: vm_disk_saveas
-
-    - name: Check if disk saving is returned as 'changed'
-      assert:
-        that:
-          - vm_disk_saveas is changed
-
-    - name: Check if image is created
-      one_image:
-        name: '{{ image_name }}'
-
-    - name: Try to save disk again with the same name
-      one_vm:
-        instance_ids: '{{ vm_image.instances_ids }}'
-        disk_saveas:
-          name: '{{ image_name }}'
-      register: disk_save_as_fail
-      failed_when: not disk_save_as_fail is failed
-
-  always:
-    - name: Delete the image
-      one_image:
-        name: '{{ image_name }}'
-        state: absent
-
-    - name: Delete the VM
-      one_vm:
-        instance_ids: '{{ vm_image.instances_ids }}'
-        state: absent
-        hard: yes
-  tags: test-image
diff --git a/test/legacy/roles/online_server_info/tasks/main.yml b/test/legacy/roles/online_server_info/tasks/main.yml
deleted file mode 100644
index 71499adbe5..0000000000
--- a/test/legacy/roles/online_server_info/tasks/main.yml
+++ /dev/null
@@ -1,14 +0,0 @@
-# ONLINE_TOKEN='XXX' ansible-playbook ./test/legacy/online.yml --tags test_online_server_info
-
-- name: Get server information and register it in a variable
-  online_server_info:
-  register: servers_info
-
-- name: Display server variable
-  debug:
-    var: servers_info
-
-- name: Ensure retrieval of servers info is success
-  assert:
-    that:
-      - servers_info is success
diff --git a/test/legacy/roles/online_user_info/tasks/main.yml b/test/legacy/roles/online_user_info/tasks/main.yml
deleted file mode 100644
index aec448b176..0000000000
--- a/test/legacy/roles/online_user_info/tasks/main.yml
+++ /dev/null
@@ -1,14 +0,0 @@
-# ONLINE_TOKEN='XXX' ansible-playbook ./test/legacy/online.yml --tags test_online_user_info
-
-- name: Get user information and register it in a variable
-  online_user_info:
-  register: user
-
-- name: Display user variable
-  debug:
-    var: user
-
-- name: Ensure retrieval of user info is success
-  assert:
-    that:
-      - user is success
diff --git a/test/legacy/roles/prepare_rax_tests/defaults/main.yml b/test/legacy/roles/prepare_rax_tests/defaults/main.yml
deleted file mode 100644
index be6d700943..0000000000
--- a/test/legacy/roles/prepare_rax_tests/defaults/main.yml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-rackspace_region: IAD
-rackspace_image_human_id: "ubuntu-1404-lts-trusty-tahr-pvhvm"
-rackspace_image_id: "753a7703-4960-488b-aab4-a3cdd4b276dc"
-rackspace_image_name: "Ubuntu 14.04 LTS (Trusty Tahr) (PVHVM)"
-rackspace_flavor: "performance1-1"
-
-rackspace_keypair_pub: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDymofzvt86DUA6XSSxc7eDHwUNvcOSmUWjB76jFvhYc6PbS5QmTzBtCka1ORdaW0Z2i3EjfFvzA8WvuY3qP/FpIVDL25ZqZHgxSfGN5pbJ2tAeXK165kNPXBuuISrMhmdLFbRZNn6PwKHEmtrtfEQ3w6ay9+MhqlEr0OX2r6bCXLj+f50QnQXamU6Fm4IpkTsb60osvHNi569Dd8cADEv92oLZpNMa8/MPGnlipjauhzNtEDTUeZwtrAQUXe6CzJ0QmIlyKDglDZLuAKU/VRumo1FRsn4AwJnVsbP2CHBPkbNoYt6LhQiQqXypEIWGmIln0dlO6gZTr3dYC4BVGREl"
-
-resource_prefix: "ansible-testing"
-
-rackspace_alt_image_id: "e5575e1a-a519-4e21-9a6b-41207833bd39"
-rackspace_alt_image_name: "CentOS 6 (PVHVM)"
-rackspace_alt_image_human_id: "centos-6-pvhvm"
-
-rackspace_alt_flavor: "general1-1"
-
-rackspace_wait_timeout: 600
diff --git a/test/legacy/roles/prepare_tests/tasks/main.yml b/test/legacy/roles/prepare_tests/tasks/main.yml
deleted file mode 100644
index 93cb8ded6f..0000000000
--- a/test/legacy/roles/prepare_tests/tasks/main.yml
+++ /dev/null
@@ -1,30 +0,0 @@
-# test code for the copy module and action plugin
-# (c) 2014, Michael DeHaan <michael.dehaan@gmail.com>
-
-# This file is part of Ansible
-#
-# Ansible is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# Ansible is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
-
-
-#- name: clean out the test directory
-#  file: name={{output_dir|mandatory}} state=absent
-#  tags:
-#    - prepare
-#  when: clean_working_dir|default("yes")|bool
-#
-#- name: create the test directory
-#  file: name={{output_dir}} state=directory
-#  check_mode: no
-#  tags:
-#    - prepare
diff --git a/test/legacy/roles/scaleway_s3/defaults/main.yml b/test/legacy/roles/scaleway_s3/defaults/main.yml
deleted file mode 100644
index b5178923ee..0000000000
--- a/test/legacy/roles/scaleway_s3/defaults/main.yml
+++ /dev/null
@@ -1,4 +0,0 @@
----
-scaleway_region: nl-ams
-endpoint: s3.nl-ams.scw.cloud
-s3_url: https://s3.nl-ams.scw.cloud
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3.yml
deleted file mode 100644
index ac1e724fd9..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3.yml
+++ /dev/null
@@ -1,18 +0,0 @@
-- name: Create a file
-  tempfile:
-    state: file
-    suffix: temp
-  register: tempfile
-
-- import_tasks: aws_s3_create.yml
-
-- import_tasks: aws_s3_put.yml
-- import_tasks: aws_s3_get.yml
-
-- import_tasks: aws_s3_getstr.yml
-- import_tasks: aws_s3_geturl.yml
-- import_tasks: aws_s3_list.yml
-
-- import_tasks: aws_s3_delobj.yml
-
-- import_tasks: aws_s3_delete.yml
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_create.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_create.yml
deleted file mode 100644
index b04f7d2c8f..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_create.yml
+++ /dev/null
@@ -1,69 +0,0 @@
-- name: Create s3 bucket (Check)
-  check_mode: yes
-  aws_s3:
-    bucket: '{{ bucket_name }}'
-    mode: create
-    region: '{{ scaleway_region }}'
-    s3_url: '{{ s3_url }}'
-    encrypt: false
-  register: bucket_creation_check
-
-- name: Show bucket_creation_check
-  debug:
-    var: bucket_creation_check
-
-- name: bucket_creation_check is success
-  assert:
-    that:
-      - bucket_creation_check is success
-
-- name: bucket_creation_check is changed
-  assert:
-    that:
-      - bucket_creation_check is changed
-
-- name: Create s3 bucket
-  aws_s3:
-    bucket: '{{ bucket_name }}'
-    mode: create
-    region: '{{ scaleway_region }}'
-    s3_url: '{{ s3_url }}'
-    encrypt: false
-  register: bucket_creation
-
-- name: Show bucket_creation
-  debug:
-    var: bucket_creation
-
-- name: bucket_creation is success
-  assert:
-    that:
-      - bucket_creation is success
-
-- name: bucket_creation is changed
-  assert:
-    that:
-      - bucket_creation is changed
-
-- name: Create s3 bucket (Confirmation)
-  aws_s3:
-    bucket: '{{ bucket_name }}'
-    mode: create
-    region: '{{ scaleway_region }}'
-    s3_url: '{{ s3_url }}'
-    encrypt: false
-  register: bucket_creation_confirmation
-
-- name: Show bucket_creation_confirmation
-  debug:
-    var: bucket_creation_confirmation
-
-- name: bucket_creation_confirmation is success
-  assert:
-    that:
-      - bucket_creation_confirmation is success
-
-- name: bucket_creation_confirmation is not changed
-  assert:
-    that:
-      - bucket_creation_confirmation is not changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_delete.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_delete.yml
deleted file mode 100644
index 09229e7a65..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_delete.yml
+++ /dev/null
@@ -1,69 +0,0 @@
-- name: Delete s3 bucket (Check)
-  check_mode: yes
-  aws_s3:
-    bucket: '{{ bucket_name }}'
-    mode: delete
-    region: '{{ scaleway_region }}'
-    s3_url: '{{ s3_url }}'
-    encrypt: false
-  register: bucket_deletion_check
-
-- name: Show bucket_deletion_check
-  debug:
-    var: bucket_deletion_check
-
-- name: bucket_deletion_check is success
-  assert:
-    that:
-      - bucket_deletion_check is success
-
-- name: bucket_deletion_check is changed
-  assert:
-    that:
-      - bucket_deletion_check is changed
-
-- name: Delete s3 bucket
-  aws_s3:
-    bucket: '{{ bucket_name }}'
-    mode: delete
-    region: '{{ scaleway_region }}'
-    s3_url: '{{ s3_url }}'
-    encrypt: false
-  register: bucket_creation
-
-- name: Show bucket_creation
-  debug:
-    var: bucket_creation
-
-- name: bucket_creation is success
-  assert:
-    that:
-      - bucket_creation is success
-
-- name: bucket_creation is changed
-  assert:
-    that:
-      - bucket_creation is changed
-
-- name: Delete s3 bucket (Confirmation)
-  aws_s3:
-    bucket: '{{ bucket_name }}'
-    mode: delete
-    region: '{{ scaleway_region }}'
-    s3_url: '{{ s3_url }}'
-    encrypt: false
-  register: bucket_creation_confirmation
-
-- name: Show bucket_creation_confirmation
-  debug:
-    var: bucket_creation_confirmation
-
-- name: bucket_creation_confirmation is success
-  assert:
-    that:
-      - bucket_creation_confirmation is success
-
-- name: bucket_creation_confirmation is not changed
-  assert:
-    that:
-      - bucket_creation_confirmation is not changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_delobj.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_delobj.yml
deleted file mode 100644
index 72d04a72fa..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_delobj.yml
+++ /dev/null
@@ -1,73 +0,0 @@
-- name: Delete an object (Check)
-  check_mode: yes
-  aws_s3:
-    mode: delobj
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    object: test.txt
-    encrypt: false
-  register: delobj_check_task
-
-- name: Show delobj_check_task
-  debug:
-    var: delobj_check_task
-
-- name: delobj_check_task is success
-  assert:
-    that:
-      - delobj_check_task is success
-
-- name: delobj_check_task is changed
-  assert:
-    that:
-      - delobj_check_task is changed
-
-- name: Delete an object
-  aws_s3:
-    mode: delobj
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    object: test.txt
-    encrypt: false
-  register: delobj_task
-
-- name: Show delobj_task
-  debug:
-    var: delobj_task
-
-- name: delobj_task is success
-  assert:
-    that:
-      - delobj_task is success
-
-- name: delobj_task is changed
-  assert:
-    that:
-      - delobj_task is changed
-
-
-- name: Delete an object (Confirmation)
-  aws_s3:
-    mode: delobj
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    object: test.txt
-    encrypt: false
-  register: delobj_confirmation_task
-
-- name: Show delobj_confirmation_task
-  debug:
-    var: delobj_confirmation_task
-
-- name: delobj_confirmation_task is success
-  assert:
-    that:
-      - delobj_confirmation_task is success
-
-- name: delobj_confirmation_task is changed
-  assert:
-    that:
-      - delobj_confirmation_task is changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_get.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_get.yml
deleted file mode 100644
index ea0e8480f8..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_get.yml
+++ /dev/null
@@ -1,30 +0,0 @@
-- name: Create a destination file
-  tempfile:
-    state: file
-    suffix: temp
-  register: tempfile_dst
-
-- name: Get from bucket
-  aws_s3:
-    mode: get
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    object: test.txt
-    dest: '{{ tempfile_dst.path }}'
-    encrypt: false
-  register: get_task
-
-- name: Show get_task
-  debug:
-    var: get_task
-
-- name: get_task is success
-  assert:
-    that:
-      - get_task is success
-
-- name: get_task is changed
-  assert:
-    that:
-      - get_task is changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_getstr.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_getstr.yml
deleted file mode 100644
index 0555f984d8..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_getstr.yml
+++ /dev/null
@@ -1,23 +0,0 @@
-- name: Get str from bucket
-  aws_s3:
-    mode: getstr
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    encrypt: false
-    object: test.txt
-  register: getstr_task
-
-- name: Show getstr_task
-  debug:
-    var: getstr_task
-
-- name: getstr_task is success
-  assert:
-    that:
-      - getstr_task is success
-
-- name: getstr_task is changed
-  assert:
-    that:
-      - getstr_task is changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_geturl.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_geturl.yml
deleted file mode 100644
index b1ba4db05f..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_geturl.yml
+++ /dev/null
@@ -1,23 +0,0 @@
-- name: Get url from bucket
-  aws_s3:
-    mode: geturl
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    object: test.txt
-    encrypt: false
-  register: geturl_task
-
-- name: Show geturl_task
-  debug:
-    var: geturl_task
-
-- name: geturl_task is success
-  assert:
-    that:
-      - geturl_task is success
-
-- name: geturl_task is changed
-  assert:
-    that:
-      - geturl_task is changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_list.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_list.yml
deleted file mode 100644
index 0043e1708b..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_list.yml
+++ /dev/null
@@ -1,22 +0,0 @@
-- name: List bucket
-  aws_s3:
-    mode: list
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    encrypt: false
-  register: list_task
-
-- name: Show list_task
-  debug:
-    var: list_task
-
-- name: list_task is success
-  assert:
-    that:
-      - list_task is success
-
-- name: list_task is not changed
-  assert:
-    that:
-      - list_task is not changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/aws_s3_put.yml b/test/legacy/roles/scaleway_s3/tasks/aws_s3_put.yml
deleted file mode 100644
index 71a5e114fb..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/aws_s3_put.yml
+++ /dev/null
@@ -1,50 +0,0 @@
-- name: Put an object (Check)
-  check_mode: yes
-  aws_s3:
-    mode: put
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    src: '{{ tempfile.path }}'
-    object: test.txt
-    encrypt: false
-  register: put_check_task
-
-- name: Show put_check_task
-  debug:
-    var: put_check_task
-
-- name: put_check_task is success
-  assert:
-    that:
-      - put_check_task is success
-
-- name: put_check_task is changed
-  assert:
-    that:
-      - put_check_task is changed
-
-- name: Put an object
-  aws_s3:
-    mode: put
-    bucket: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    src: '{{ tempfile.path }}'
-    object: test.txt
-    encrypt: false
-  register: put_task
-
-- name: Show put_task
-  debug:
-    var: put_task
-
-- name: put_task is success
-  assert:
-    that:
-      - put_task is success
-
-- name: put_task is changed
-  assert:
-    that:
-      - put_task is changed
diff --git a/test/legacy/roles/scaleway_s3/tasks/main.yml b/test/legacy/roles/scaleway_s3/tasks/main.yml
deleted file mode 100644
index 9f74582b87..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/main.yml
+++ /dev/null
@@ -1,12 +0,0 @@
-# AWS_ACCESS_KEY='XXX' AWS_SECRET_KEY='YYY' ansible-playbook ./test/legacy/scaleway.yml --tags test_scaleway_s3
-
-# use a fact instead of a variable, otherwise template is evaluate each time variable is used
-- set_fact:
-    bucket_name: "ansible-s3-test-{{ 99999999 | random | to_uuid }}"
-
-- name: Show bucket name
-  debug:
-    var: bucket_name
-
-- import_tasks: s3_bucket.yml
-- import_tasks: aws_s3.yml
diff --git a/test/legacy/roles/scaleway_s3/tasks/s3_bucket.yml b/test/legacy/roles/scaleway_s3/tasks/s3_bucket.yml
deleted file mode 100644
index 7d3d59e900..0000000000
--- a/test/legacy/roles/scaleway_s3/tasks/s3_bucket.yml
+++ /dev/null
@@ -1,90 +0,0 @@
-- name: Bucket Creation
-  s3_bucket:
-    name: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-
-    requester_pays:
-  register: bucket_creation_task
-
-- name: Show bucket_creation_task
-  debug:
-    var: bucket_creation_task
-
-- name: bucket_creation_task is success
-  assert:
-    that:
-      - bucket_creation_task is success
-
-- name: bucket_creation_task is changed
-  assert:
-    that:
-      - bucket_creation_task is changed
-
-- name: Bucket Creation (Confirmation)
-  s3_bucket:
-    name: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    requester_pays: null
-  register: bucket_creation_confirmation_task
-
-- name: Show bucket_creation_confirmation_task
-  debug:
-    var: bucket_creation_confirmation_task
-
-- name: bucket_creation_confirmation_task is success
-  assert:
-    that:
-      - bucket_creation_confirmation_task is success
-
-- name: bucket_creation_confirmation_task is not changed
-  assert:
-    that:
-      - bucket_creation_confirmation_task is not changed
-
-- name: Bucket Deletion
-  s3_bucket:
-    name: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    requester_pays: null
-    state: absent
-  register: bucket_deletion_task
-
-- name: Show bucket_deletion_task
-  debug:
-    var: bucket_deletion_task
-
-- name: bucket_deletion_task is success
-  assert:
-    that:
-      - bucket_deletion_task is success
-
-- name: bucket_deletion_task is changed
-  assert:
-    that:
-      - bucket_deletion_task is changed
-
-- name: Bucket Deletion (Confirmation)
-  s3_bucket:
-    name: '{{ bucket_name }}'
-    s3_url: '{{ s3_url }}'
-    region: '{{ scaleway_region }}'
-    requester_pays: null
-    state: absent
-  register: bucket_deletion_confirmation_task
-
-- name: Show bucket_deletion_confirmation_task
-  debug:
-    var: bucket_deletion_confirmation_task
-
-- name: bucket_deletion_confirmation_task is success
-  assert:
-    that:
-      - bucket_deletion_confirmation_task is success
-
-- name: bucket_deletion_confirmation_task is not changed
-  assert:
-    that:
-      - bucket_deletion_confirmation_task is not changed
diff --git a/test/legacy/roles/setup_ec2/defaults/main.yml b/test/legacy/roles/setup_ec2/defaults/main.yml
deleted file mode 100644
index fb1f88b1ec..0000000000
--- a/test/legacy/roles/setup_ec2/defaults/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-resource_prefix: 'ansible-testing-'
diff --git a/test/legacy/roles/setup_ec2/tasks/common.yml b/test/legacy/roles/setup_ec2/tasks/common.yml
deleted file mode 100644
index bf23f539a9..0000000000
--- a/test/legacy/roles/setup_ec2/tasks/common.yml
+++ /dev/null
@@ -1,119 +0,0 @@
----
-
-# ============================================================
-- name: test with no parameters
-  action: "{{module_name}}"
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with no parameters
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "missing required arguments: name"'
-
-# ============================================================
-- name: test with only name
-  action: "{{module_name}} name={{ec2_key_name}}"
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with only 'name'
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Either region or ec2_url must be specified"'
-
-# ============================================================
-- name: test invalid region parameter
-  action: "{{module_name}} name='{{ec2_key_name}}' region='asdf querty 1234'"
-  register: result
-  ignore_errors: true
-
-- name: assert invalid region parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("value of region must be one of:")'
-
-# ============================================================
-- name: test valid region parameter
-  action: "{{module_name}} name='{{ec2_key_name}}' region='{{ec2_region}}'"
-  register: result
-  ignore_errors: true
-
-- name: assert valid region parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# ============================================================
-- name: test environment variable EC2_REGION
-  action: "{{module_name}} name='{{ec2_key_name}}'"
-  environment:
-    EC2_REGION: '{{ec2_region}}'
-  register: result
-  ignore_errors: true
-
-- name: assert environment variable EC2_REGION
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# ============================================================
-- name: test invalid ec2_url parameter
-  action: "{{module_name}} name='{{ec2_key_name}}'"
-  environment:
-    EC2_URL: bogus.example.com
-  register: result
-  ignore_errors: true
-
-- name: assert invalid ec2_url parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# ============================================================
-- name: test valid ec2_url parameter
-  action: "{{module_name}} name='{{ec2_key_name}}'"
-  environment:
-    EC2_URL: '{{ec2_url}}'
-  register: result
-  ignore_errors: true
-
-- name: assert valid ec2_url parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# ============================================================
-- name: test credentials from environment
-  action: "{{module_name}} name='{{ec2_key_name}}'"
-  environment:
-    EC2_REGION: '{{ec2_region}}'
-    EC2_ACCESS_KEY: bogus_access_key
-    EC2_SECRET_KEY: bogus_secret_key
-  register: result
-  ignore_errors: true
-
-- name: assert ec2_key with valid ec2_url
-  assert:
-    that:
-       - 'result.failed'
-       - '"EC2ResponseError: 401 Unauthorized" in result.msg'
-
-# ============================================================
-- name: test credential parameters
-  action: "{{module_name}} name='{{ec2_key_name}}' ec2_region='{{ec2_region}}' ec2_access_key=bogus_access_key ec2_secret_key=bogus_secret_key"
-  register: result
-  ignore_errors: true
-
-- name: assert credential parameters
-  assert:
-    that:
-       - 'result.failed'
-       - '"EC2ResponseError: 401 Unauthorized" in result.msg'
diff --git a/test/legacy/roles/setup_ec2/vars/main.yml b/test/legacy/roles/setup_ec2/vars/main.yml
deleted file mode 100644
index 3d7209ef1b..0000000000
--- a/test/legacy/roles/setup_ec2/vars/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-ec2_url: ec2.amazonaws.com
-ec2_region: us-east-1
diff --git a/test/legacy/roles/setup_sshkey/tasks/main.yml b/test/legacy/roles/setup_sshkey/tasks/main.yml
deleted file mode 100644
index 18c571b671..0000000000
--- a/test/legacy/roles/setup_sshkey/tasks/main.yml
+++ /dev/null
@@ -1,55 +0,0 @@
-# (c) 2014, James Laska <jlaska@ansible.com>
-
-# This file is part of Ansible
-#
-# Ansible is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-#
-# Ansible is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with Ansible.  If not, see <http://www.gnu.org/licenses/>.
-
-- name: create a temp file
-  tempfile:
-    state: file
-  register: sshkey_file
-  tags:
-    - prepare
-
-- name: generate sshkey
-  shell: echo 'y' | ssh-keygen -P '' -f {{ sshkey_file.path }}
-  tags:
-    - prepare
-
-- name: create another temp file
-  tempfile:
-    state: file
-  register: another_sshkey_file
-  tags:
-    - prepare
-
-- name: generate another_sshkey
-  shell: echo 'y' | ssh-keygen -P '' -f {{ another_sshkey_file.path }}
-  tags:
-    - prepare
-
-- name: record fingerprint
-  shell: openssl rsa -in {{ sshkey_file.path }} -pubout -outform DER 2>/dev/null | openssl md5 -c
-  register: fingerprint
-  tags:
-    - prepare
-
-- name: set facts for future roles
-  set_fact:
-    sshkey: '{{ sshkey_file.path }}'
-    key_material: "{{ lookup('file', sshkey_file.path ~ '.pub') }}"
-    another_key_material: "{{ lookup('file', another_sshkey_file.path ~ '.pub') }}"
-    fingerprint: '{{ fingerprint.stdout.split()[1] }}'
-  tags:
-    - prepare
diff --git a/test/legacy/roles/test_azure/defaults/main.yml b/test/legacy/roles/test_azure/defaults/main.yml
deleted file mode 100644
index 01018a9f7f..0000000000
--- a/test/legacy/roles/test_azure/defaults/main.yml
+++ /dev/null
@@ -1,10 +0,0 @@
----
-# defaults file for test_azure
-instance_name: "{{ resource_prefix|lower }}"
-cert_path: "{{ azure_cert_path }}"
-subscription_id: "{{ azure_subscription_id }}"
-storage_account: "{{ azure_storage_account|default('ansibleeast') }}"
-role_size: "{{ azure_role_size|default('Basic_A0') }}"
-user: "{{ azure_user|default('ansible_user') }}"
-location: "{{ azure_location|default('East US') }}"
-password: "{{ azure_password|default('abc123Q%') }}"
diff --git a/test/legacy/roles/test_azure/tasks/main.yml b/test/legacy/roles/test_azure/tasks/main.yml
deleted file mode 100644
index 2c46c44647..0000000000
--- a/test/legacy/roles/test_azure/tasks/main.yml
+++ /dev/null
@@ -1,94 +0,0 @@
-# TODO: Implement create storage account feature. Currently, storage_account must be manually created on azure account.
-# TODO: When more granular azure operations are implemented (i.e. list disk, list cloud services, etc). Use the
-# fine-grain listings to ensure higher level operations are performed.
-# ============================================================
-- name: test with no credentials
-  azure:
-  register: result
-  ignore_errors: true
-  environment:
-    AZURE_SUBSCRIPTION_ID: ""
-    AZURE_CERT_PATH: ""
-
-- name: assert failure when called with no credentials
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "No subscription_id provided. Please set ''AZURE_SUBSCRIPTION_ID'' or use the ''subscription_id'' parameter"'
-
-# ============================================================
-
-- name: test credentials
-  azure:
-    subscription_id: "{{ subscription_id }}"
-    management_cert_path: "{{ cert_path }}"
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with credentials and no parameters
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "name parameter is required for new instance"'
-
-# ============================================================
-- name: test with no password or ssh cert
-  azure:
-    subscription_id: "{{ subscription_id }}"
-    management_cert_path: "{{ cert_path }}"
-    name: "{{ instance_name }}"
-    image: "b39f27a8b8c64d52b05eac6a62ebad85__Ubuntu-12_04_4-LTS-amd64-server-20140514-en-us-30GB"
-    storage_account: "{{ storage_account }}"
-    user: "{{ user }}"
-    role_size: "{{ role_size }}"
-    location: "{{ location }}"
-    state: present
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with no password or ssh cert
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "password or ssh_cert_path parameter is required for new instance"'
-
-# ============================================================
-- name: test status=Running (expected changed=true)
-  azure:
-    subscription_id: "{{ subscription_id }}"
-    management_cert_path: "{{ cert_path }}"
-    name: "{{ instance_name }}"
-    image: "b39f27a8b8c64d52b05eac6a62ebad85__Ubuntu-12_04_4-LTS-amd64-server-20140514-en-us-30GB"
-    storage_account: "{{ storage_account }}"
-    user: "{{ user }}"
-    role_size: "{{ role_size }}"
-    password: "{{ password }}"
-    location: "{{ location }}"
-    wait: yes
-    state: present
-    wait_timeout: 1200
-  register: result
-
-- name: assert state=Running (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.deployment.name == "{{ instance_name }}"'
-       - 'result.deployment.status == "Running"'
-
-# ============================================================
-- name: test state=absent (expected changed=true)
-  azure:
-    subscription_id: "{{ subscription_id }}"
-    management_cert_path: "{{ cert_path }}"
-    name: "{{ instance_name }}"
-    wait: yes
-    state: absent
-    wait_timeout: 1200
-  register: result
-
-- name: assert named deployment changed (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.deployment.name == "{{ instance_name }}"'
diff --git a/test/legacy/roles/test_cloudflare_dns/defaults/main.yml b/test/legacy/roles/test_cloudflare_dns/defaults/main.yml
deleted file mode 100644
index bdd939a0fc..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/defaults/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-cloudflare_dns_record: "{{ resource_prefix|lower }}"
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/a_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/a_record.yml
deleted file mode 100644
index 6ee621b9c2..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/a_record.yml
+++ /dev/null
@@ -1,330 +0,0 @@
----
-######## A record tests #################
-
-- name: "Test: A record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.0.1
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: A record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '127.0.0.1'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: A record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.0.1
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: A record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: A record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.0.1
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: A record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: A record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.1.1
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: A record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '127.0.1.1'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: A record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.0.1
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: A record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == '127.0.0.1'
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: A record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.1.1
-    ttl: 150
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: A record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '127.0.1.1'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: A record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.0.1
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: A record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: A record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.1.1
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: A record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: A record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 127.0.1.1
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: A record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: proxiable A record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 192.0.2.47
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: proxiable A record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '192.0.2.47'
-      - cloudflare_dns.result.record.proxiable == true
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: proxiable A record creation succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 192.0.2.47
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: proxiable A record creation succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: Enable A record proxied status"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 192.0.2.47
-    proxied: yes
-  register: cloudflare_dns
-
-- name: "Validate: Enable A record proxied status"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '192.0.2.47'
-      - cloudflare_dns.result.record.proxied == true
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: Enable A record proxied status succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 192.0.2.47
-    proxied: yes
-  register: cloudflare_dns
-
-- name: "Validate: Enable A record proxied status succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: Disable A record proxied status"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 192.0.2.47
-    proxied: no
-  register: cloudflare_dns
-
-- name: "Validate: Enable A record proxied status"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '192.0.2.47'
-      - cloudflare_dns.result.record.proxied == false
-      - cloudflare_dns.result.record.type == 'A'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: Disable A record proxied status succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    value: 192.0.2.47
-    proxied: no
-  register: cloudflare_dns
-
-- name: "Validate: Enable A record proxied status succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: Full A record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: Full A record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: Full A record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: A
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: Full A record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/aaaa_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/aaaa_record.yml
deleted file mode 100644
index d4cae8d5b5..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/aaaa_record.yml
+++ /dev/null
@@ -1,330 +0,0 @@
----
-######## AAAA record tests #################
-
-- name: "Test: AAAA record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::1"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '::1'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: AAAA record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::1"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: AAAA record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::1"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: AAAA record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::2"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '::2'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: AAAA record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::1"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == '::1'
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: AAAA record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::2"
-    ttl: 150
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '::2'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: AAAA record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::1"
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: AAAA record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::2"
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: AAAA record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: "::2"
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: AAAA record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: proxiable AAAA record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: 2001:db8::47
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: proxiable AAAA record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '2001:db8::47'
-      - cloudflare_dns.result.record.proxiable == true
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: proxiable AAAA record creation succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: 2001:db8::47
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: proxiable AAAA record creation succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: Enable AAAA record proxied status"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: 2001:db8::47
-    proxied: yes
-  register: cloudflare_dns
-
-- name: "Validate: Enable AAAA record proxied status"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '2001:db8::47'
-      - cloudflare_dns.result.record.proxied == true
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: Enable AAAA record proxied status succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: 2001:db8::47
-    proxied: yes
-  register: cloudflare_dns
-
-- name: "Validate: Enable AAAA record proxied status succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: Disable AAAA record proxied status"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: 2001:db8::47
-    proxied: no
-  register: cloudflare_dns
-
-- name: "Validate: Enable AAAA record proxied status"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '2001:db8::47'
-      - cloudflare_dns.result.record.proxied == false
-      - cloudflare_dns.result.record.type == 'AAAA'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: Disable AAAA record proxied status succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    value: 2001:db8::47
-    proxied: no
-  register: cloudflare_dns
-
-- name: "Validate: Enable AAAA record proxied status succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: Full AAAA record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: Full AAAA record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: Full AAAA record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: AAAA
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: Full AAAA record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/cname_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/cname_record.yml
deleted file mode 100644
index 24e54b3521..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/cname_record.yml
+++ /dev/null
@@ -1,139 +0,0 @@
----
-######## CNAME record tests #################
-
-# the '.' at the end of the value is intentional
-# it must be verified that the '.' will be stripped
-- name: "Test: CNAME record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: CNAME
-    value: "srv1.{{ cloudflare_zone }}."
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "srv1.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'CNAME'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: CNAME record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: CNAME
-    value: "srv1.{{ cloudflare_zone }}."
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: CNAME record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: CNAME
-    value: "srv2.{{ cloudflare_zone }}"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "srv2.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: CNAME record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: CNAME
-    value: "srv3.{{ cloudflare_zone }}"
-    ttl: 600
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "srv3.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.ttl == 600
-      - cloudflare_dns.result.record.type == 'CNAME'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: CNAME record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record }}"
-    type: CNAME
-    value: "srv2.{{ cloudflare_zone }}"
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: CNAME record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: CNAME
-    value: "srv3.{{ cloudflare_zone }}"
-    ttl: 600
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: CNAME record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: CNAME
-    value: "srv3.{{ cloudflare_zone }}"
-    ttl: 600
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: CNAME record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/ds_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/ds_record.yml
deleted file mode 100644
index 50aea9fe91..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/ds_record.yml
+++ /dev/null
@@ -1,223 +0,0 @@
----
-######## DS record tests #################
-
-- name: "Test: DS record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 54592
-    algorithm: 8
-    hash_type: 2
-    value: 6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: DS record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "54592\t8\t2\t6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F"
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == "DS"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.key_tag == 54592
-      - cloudflare_dns.result.record.data.algorithm == 8
-      - cloudflare_dns.result.record.data.digest_type == 2
-      - cloudflare_dns.result.record.data.digest == "6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F"
-
-- name: "Test: DS record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 54592
-    algorithm: 8
-    hash_type: 2
-    value: 6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: DS record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: DS record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 54592
-    algorithm: 8
-    hash_type: 2
-    value: 6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: DS record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: DS record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 24397
-    algorithm: 8
-    hash_type: 2
-    value: 8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: DS record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "24397\t8\t2\t8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "DS"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.key_tag == 24397
-      - cloudflare_dns.result.record.data.algorithm == 8
-      - cloudflare_dns.result.record.data.digest_type == 2
-      - cloudflare_dns.result.record.data.digest == "8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556"
-
-- name: "Test: DS record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 54592
-    algorithm: 8
-    hash_type: 2
-    value: 6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: DS record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == "54592\t8\t2\t6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "DS"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.key_tag == 54592
-      - cloudflare_dns.result.record.data.algorithm == 8
-      - cloudflare_dns.result.record.data.digest_type == 2
-      - cloudflare_dns.result.record.data.digest == "6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F"
-
-- name: "Test: DS record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 24397
-    algorithm: 8
-    hash_type: 2
-    value: 8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556
-    ttl: 300
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: DS record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "24397\t8\t2\t8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "DS"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.key_tag == 24397
-      - cloudflare_dns.result.record.data.algorithm == 8
-      - cloudflare_dns.result.record.data.digest_type == 2
-      - cloudflare_dns.result.record.data.digest == "8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556"
-
-- name: "Test: DS record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 54592
-    algorithm: 8
-    hash_type: 2
-    value: 6A95688429A7796533165ACEFBE91BD115DAD747AA4E1D5DCA70DF040C68216F
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: DS record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: DS record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 24397
-    algorithm: 8
-    hash_type: 2
-    value: 8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: DS record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: DS record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: DS
-    key_tag: 24397
-    algorithm: 8
-    hash_type: 2
-    value: 8A5E62E004BFA4CF4B42BE9405C39EBA1AC5A91BDE181FB73E935ECC1F3F5556
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: DS record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/main.yml b/test/legacy/roles/test_cloudflare_dns/tasks/main.yml
deleted file mode 100644
index 426643b8c7..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/main.yml
+++ /dev/null
@@ -1,96 +0,0 @@
----
-- name: "Test: no args"
-  cloudflare_dns:
-  ignore_errors: true
-  register: cloudflare_dns
-
-- name: "Validate: no args"
-  assert:
-    that:
-      - cloudflare_dns is failed
-      - "cloudflare_dns.msg.find('missing required arguments: ') != -1"
-
-- name: "Test: only credentials"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-  ignore_errors: true
-  register: cloudflare_dns
-
-- name: "Validate: only credentials"
-  assert:
-    that:
-      - cloudflare_dns is failed
-      - "cloudflare_dns.msg.find('missing required arguments: ') != -1"
-
-- name: "Test: credentials and zone"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-  ignore_errors: true
-  register: cloudflare_dns
-
-- name: "Validate: credentials and zone"
-  assert:
-    that:
-      - cloudflare_dns is failed
-      - "cloudflare_dns.msg.find('but all of the following are missing: ') != -1"
-
-- name: "Test: credentials, zone and type"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    type: TXT
-  ignore_errors: true
-  register: cloudflare_dns
-
-- name: "Validate: credentials, zone and type"
-  assert:
-    that:
-      - cloudflare_dns is failed
-      - "cloudflare_dns.msg.find('but all of the following are missing: ') != -1"
-
-- name: "Test: partial credentials"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    zone: "{{ cloudflare_zone }}"
-    type: A
-    value: 127.0.0.1
-  ignore_errors: true
-  register: cloudflare_dns
-
-- name: "Validate: partial credentials"
-  assert:
-    that:
-      - cloudflare_dns is failed
-      - "cloudflare_dns.msg.find('Either api_token or account_api_token and account_email params are required.') != -1"
-
-- name: "Test: api token, zone and type"
-  cloudflare_dns:
-    api_token: dummyapitoken
-    zone: "{{ cloudflare_zone }}"
-    type: TXT
-  ignore_errors: true
-  register: cloudflare_dns
-
-- name: "Validate: api token, zone and type"
-  assert:
-    that:
-      - cloudflare_dns is failed
-      - "cloudflare_dns.msg.find('but all of the following are missing: ') != -1"
-
-######## record tests #################
-
-- include: a_record.yml
-- include: aaaa_record.yml
-- include: cname_record.yml
-- include: txt_record.yml
-- include: ns_record.yml
-- include: ds_record.yml
-- include: spf_record.yml
-- include: mx_record.yml
-- include: srv_record.yml
-- include: sshfp_record.yml
-- include: tlsa_record.yml
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/mx_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/mx_record.yml
deleted file mode 100644
index 9e67a41414..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/mx_record.yml
+++ /dev/null
@@ -1,194 +0,0 @@
----
-######## MX record tests #################
-
-- name: "Test: MX record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}."
-    ttl: 150
-    priority: 20
-  register: cloudflare_dns
-
-- name: "Validate: MX record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.priority == 20
-      - cloudflare_dns.result.record.type == 'MX'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: MX record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}."
-    ttl: 150
-    priority: 20
-  register: cloudflare_dns
-
-- name: "Validate: MX record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: MX record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 300
-    priority: 10
-  register: cloudflare_dns
-
-- name: "Validate: MX record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.priority == 10
-
-- name: "Test: MX record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx2-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-  register: cloudflare_dns
-
-- name: "Validate: MX record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'mx2-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.priority == 30
-      - cloudflare_dns.result.record.type == 'MX'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: MX record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 300
-    priority: 10
-  register: cloudflare_dns
-
-- name: "Validate: MX record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == 'mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.priority == 10
-      - cloudflare_dns.result.record.type == 'MX'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: MX record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx2-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: MX record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'mx2-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.priority == 30
-      - cloudflare_dns.result.record.type == 'MX'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: MX record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx1-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 300
-    priority: 10
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: MX record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: MX record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx2-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: MX record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: MX record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: MX
-    value: "mx2-{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: MX record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/ns_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/ns_record.yml
deleted file mode 100644
index 463b3c37a2..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/ns_record.yml
+++ /dev/null
@@ -1,182 +0,0 @@
----
-######## NS record tests #################
-
-# the '.' at the end of the value is intentional
-# it must be verified that the '.' will be stripped
-- name: "Test: NS record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: an.si.ble.
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: NS record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'an.si.ble'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'NS'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: NS record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: an.si.ble.
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: NS record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: NS record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: an.si.ble
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: NS record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: NS record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: ble.si.an
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: NS record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'ble.si.an'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'NS'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: NS record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: an.si.ble
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: NS record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == 'an.si.ble'
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == 'NS'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: NS record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: ble.si.an
-    ttl: 150
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: NS record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'ble.si.an'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'NS'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: NS record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: an.si.ble
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: NS record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: NS record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: ble.si.an
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: NS record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: NS record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: NS
-    value: ble.si.an
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: NS record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/spf_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/spf_record.yml
deleted file mode 100644
index eff3411d23..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/spf_record.yml
+++ /dev/null
@@ -1,184 +0,0 @@
----
-######## SPF record tests #################
-
-- set_fact:
-    # values breaking the api: ,<>:
-    txt_teststring: 'v=spf1 abc123 !@#$%^&*()_+=-;./{}?\|'
-
-- name: "Test: SPF record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: "{{ txt_teststring }}"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: SPF record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "{{ txt_teststring }}"
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'SPF'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SPF record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: "{{ txt_teststring }}"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: SPF record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: SPF record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: "{{ txt_teststring }}"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: SPF record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: SPF record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: 'v=spf1 teststring'
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: SPF record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'v=spf1 teststring'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'SPF'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SPF record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: "{{ txt_teststring }}"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: SPF record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == "{{ txt_teststring }}"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == 'SPF'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SPF record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: 'v=spf1 teststring'
-    ttl: 150
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: SPF record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'v=spf1 teststring'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'SPF'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SPF record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: "{{ txt_teststring }}"
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SPF record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: SPF record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: 'v=spf1 teststring'
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SPF record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: SPF record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SPF
-    value: 'v=spf1 teststring'
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SPF record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/srv_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/srv_record.yml
deleted file mode 100644
index 29d3a5ad2d..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/srv_record.yml
+++ /dev/null
@@ -1,266 +0,0 @@
----
-######## SRV record tests #################
-
-- name: "Test: SRV record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}."
-    ttl: 150
-    priority: 20
-    service: srv1
-    proto: tcp
-    port: 3500
-    weight: 5
-  register: cloudflare_dns
-
-- name: "Validate: SRV record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '5\t3500\tsrv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.data.target == 'srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.data.port == 3500
-      - cloudflare_dns.result.record.data.weight == 5
-      - cloudflare_dns.result.record.data.priority == 20
-      - cloudflare_dns.result.record.data.name == "{{ cloudflare_dns_record  }}"
-      - cloudflare_dns.result.record.data.proto == '_tcp'
-      - cloudflare_dns.result.record.data.service == '_srv1'
-      - cloudflare_dns.result.record.type == 'SRV'
-      - cloudflare_dns.result.record.name == "_srv1._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SRV record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}."
-    ttl: 150
-    priority: 20
-    service: srv1
-    proto: tcp
-    port: 3500
-    weight: 5
-  register: cloudflare_dns
-
-- name: "Validate: SRV record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-# changing the following attributes creates a new record:
-#  weight
-#  port
-#  value
-#  service
-#  proto
-- name: "Test: SRV record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 300
-    priority: 10
-    service: srv1
-    proto: tcp
-    port: 3500
-    weight: 5
-  register: cloudflare_dns
-
-- name: "Validate: SRV record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.data.target == 'srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.data.port == 3500
-      - cloudflare_dns.result.record.data.weight == 5
-      - cloudflare_dns.result.record.data.priority == 10
-      - cloudflare_dns.result.record.data.name == "{{ cloudflare_dns_record  }}"
-      - cloudflare_dns.result.record.data.proto == '_tcp'
-      - cloudflare_dns.result.record.data.service == '_srv1'
-
-- name: "Test: SRV record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    service: srv1
-    proto: tcp
-    port: 9999
-    weight: 19
-  register: cloudflare_dns
-
-- name: "Validate: SRV record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '19\t9999\tsrv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.data.target == 'srv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.data.port == 9999
-      - cloudflare_dns.result.record.data.weight == 19
-      - cloudflare_dns.result.record.data.priority == 30
-      - cloudflare_dns.result.record.data.name == "{{ cloudflare_dns_record  }}"
-      - cloudflare_dns.result.record.data.proto == '_tcp'
-      - cloudflare_dns.result.record.data.service == '_srv1'
-      - cloudflare_dns.result.record.type == 'SRV'
-      - cloudflare_dns.result.record.name == "_srv1._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SRV record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 300
-    priority: 10
-    service: srv1
-    proto: tcp
-    port: 3500
-    weight: 5
-  register: cloudflare_dns
-
-- name: "Validate: SRV record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == '5\t3500\tsrv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.data.target == 'srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.data.port == 3500
-      - cloudflare_dns.result.record.data.weight == 5
-      - cloudflare_dns.result.record.data.priority == 10
-      - cloudflare_dns.result.record.data.name == "{{ cloudflare_dns_record  }}"
-      - cloudflare_dns.result.record.data.proto == '_tcp'
-      - cloudflare_dns.result.record.data.service == '_srv1'
-      - cloudflare_dns.result.record.type == 'SRV'
-      - cloudflare_dns.result.record.name == "_srv1._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SRV record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    service: srv1
-    proto: tcp
-    port: 9999
-    weight: 19
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: SRV record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == '19\t9999\tsrv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.data.target == 'srv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}'
-      - cloudflare_dns.result.record.data.port == 9999
-      - cloudflare_dns.result.record.data.weight == 19
-      - cloudflare_dns.result.record.data.priority == 30
-      - cloudflare_dns.result.record.data.name == "{{ cloudflare_dns_record  }}"
-      - cloudflare_dns.result.record.data.proto == '_tcp'
-      - cloudflare_dns.result.record.data.service == '_srv1'
-      - cloudflare_dns.result.record.type == 'SRV'
-      - cloudflare_dns.result.record.name == "_srv1._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: SRV record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv1.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 300
-    priority: 10
-    service: srv1
-    proto: tcp
-    port: 3500
-    weight: 5
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SRV record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: SRV record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    service: srv1
-    proto: tcp
-    port: 9999
-    weight: 19
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SRV record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: SRV record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SRV
-    value: "srv2.{{ cloudflare_dns_record  }}.{{ cloudflare_zone }}"
-    ttl: 150
-    priority: 30
-    service: srv1
-    proto: tcp
-    port: 9999
-    weight: 19
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SRV record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/sshfp_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/sshfp_record.yml
deleted file mode 100644
index 634e2b8578..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/sshfp_record.yml
+++ /dev/null
@@ -1,207 +0,0 @@
----
-######## SSHFP record tests #################
-
-- name: "Test: SSHFP record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "1\t2\tfeb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c"
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == "SSHFP"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.algorithm == 1
-      - cloudflare_dns.result.record.data.type == 2
-      - cloudflare_dns.result.record.data.fingerprint == "feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c"
-
-- name: "Test: SSHFP record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: SSHFP record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: SSHFP record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: fd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "1\t2\tfd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "SSHFP"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.algorithm == 1
-      - cloudflare_dns.result.record.data.type == 2
-      - cloudflare_dns.result.record.data.fingerprint == "fd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b"
-
-- name: "Test: SSHFP record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == "1\t2\tfeb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "SSHFP"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.algorithm == 1
-      - cloudflare_dns.result.record.data.type == 2
-      - cloudflare_dns.result.record.data.fingerprint == "feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c"
-
-- name: "Test: SSHFP record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: fd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b
-    ttl: 300
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "1\t2\tfd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "SSHFP"
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.algorithm == 1
-      - cloudflare_dns.result.record.data.type == 2
-      - cloudflare_dns.result.record.data.fingerprint == "fd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b"
-
-- name: "Test: SSHFP record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: feb66965cee89137b4d4a46a15c718c3f15ad408b6d1b528a2ed479a54da762c
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: SSHFP record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: fd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: SSHFP record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: SSHFP
-    algorithm: 1
-    hash_type: 2
-    value: fd3800532d26b56279524d4d1ed8afbfd9f725113c394bc185e447ba991f368b
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: SSHFP record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/tlsa_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/tlsa_record.yml
deleted file mode 100644
index 148534a24a..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/tlsa_record.yml
+++ /dev/null
@@ -1,239 +0,0 @@
----
-######## TLSA record tests #################
-
-- name: "Test: TLSA record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "3\t1\t1\t09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f"
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == "TLSA"
-      - cloudflare_dns.result.record.name == "_25._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.matching_type == 1
-      - cloudflare_dns.result.record.data.selector == 1
-      - cloudflare_dns.result.record.data.usage == 3
-      - cloudflare_dns.result.record.data.certificate == "09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f"
-
-- name: "Test: TLSA record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f
-    ttl: 150
-  register: cloudflare_dns
-
-
-- name: "Validate: TLSA record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: TLSA record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: TLSA record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "3\t1\t1\t76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "TLSA"
-      - cloudflare_dns.result.record.name == "_25._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.matching_type == 1
-      - cloudflare_dns.result.record.data.selector == 1
-      - cloudflare_dns.result.record.data.usage == 3
-      - cloudflare_dns.result.record.data.certificate == "76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2"
-
-- name: "Test: TLSA record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == "3\t1\t1\t09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "TLSA"
-      - cloudflare_dns.result.record.name == "_25._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.matching_type == 1
-      - cloudflare_dns.result.record.data.selector == 1
-      - cloudflare_dns.result.record.data.usage == 3
-      - cloudflare_dns.result.record.data.certificate == "09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f"
-
-- name: "Test: TLSA record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2
-    ttl: 300
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "3\t1\t1\t76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == "TLSA"
-      - cloudflare_dns.result.record.name == "_25._tcp.{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.data.matching_type == 1
-      - cloudflare_dns.result.record.data.selector == 1
-      - cloudflare_dns.result.record.data.usage == 3
-      - cloudflare_dns.result.record.data.certificate == "76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2"
-
-- name: "Test: TLSA record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 09c5d90ef4cf74625de04719c71c85ea99182ab81aaab99795466a8c100ead5f
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: TLSA record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: TLSA record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    port: 25
-    proto: tcp
-    type: TLSA
-    cert_usage: 3
-    selector: 1
-    hash_type: 1
-    value: 76e283e0cde1d28a85c7b44a26f35260f42e176f4f076e7bdd29895ca76da3d2
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: TLSA record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_cloudflare_dns/tasks/txt_record.yml b/test/legacy/roles/test_cloudflare_dns/tasks/txt_record.yml
deleted file mode 100644
index 9d4a4a4dd2..0000000000
--- a/test/legacy/roles/test_cloudflare_dns/tasks/txt_record.yml
+++ /dev/null
@@ -1,184 +0,0 @@
----
-######## TXT record tests #################
-
-- set_fact:
-    # values breaking the api: ,<>:
-    txt_teststring: 'abc123 !@#$%^&*()_+=-;./{}?\|'
-
-- name: "Test: TXT record creation"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: "{{ txt_teststring }}"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: TXT record creation"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == "{{ txt_teststring }}"
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'TXT'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: TXT record idempotency"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: "{{ txt_teststring }}"
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: TXT record idempotency"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: TXT record update"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: "{{ txt_teststring }}"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: TXT record update"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.ttl == 300
-
-- name: "Test: TXT record duplicate (create new record)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: 'teststring'
-    ttl: 150
-  register: cloudflare_dns
-
-- name: "Validate: TXT record duplicate (create new record)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'teststring'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'TXT'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: TXT record duplicate (old record present)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: "{{ txt_teststring }}"
-    ttl: 300
-  register: cloudflare_dns
-
-- name: "Validate: TXT record duplicate (old record present)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-      - cloudflare_dns.result.record.content == "{{ txt_teststring }}"
-      - cloudflare_dns.result.record.ttl == 300
-      - cloudflare_dns.result.record.type == 'TXT'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: TXT record duplicate (make new record solo)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: 'teststring'
-    ttl: 150
-    solo: true
-  register: cloudflare_dns
-
-- name: "Validate: TXT record duplicate (make new record solo)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-      - cloudflare_dns.result.record.content == 'teststring'
-      - cloudflare_dns.result.record.ttl == 150
-      - cloudflare_dns.result.record.type == 'TXT'
-      - cloudflare_dns.result.record.name == "{{ cloudflare_dns_record }}.{{ cloudflare_zone }}"
-      - cloudflare_dns.result.record.zone_name == "{{ cloudflare_zone }}"
-
-- name: "Test: TXT record duplicate (old record absent)"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: "{{ txt_teststring }}"
-    ttl: 300
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: TXT record duplicate (old record absent)"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
-
-- name: "Test: TXT record deletion"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: 'teststring'
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: TXT record deletion"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is changed
-
-- name: "Test: TXT record deletion succeeded"
-  cloudflare_dns:
-    account_email: "{{ cloudflare_email }}"
-    account_api_token: "{{ cloudflare_api_token }}"
-    zone: "{{ cloudflare_zone }}"
-    record: "{{ cloudflare_dns_record  }}"
-    type: TXT
-    value: 'teststring'
-    ttl: 150
-    state: absent
-  register: cloudflare_dns
-
-- name: "Validate: TXT record deletion succeeded"
-  assert:
-    that:
-      - cloudflare_dns is successful
-      - cloudflare_dns is not changed
diff --git a/test/legacy/roles/test_consul_acl/tasks/create-acl-with-rules.yml b/test/legacy/roles/test_consul_acl/tasks/create-acl-with-rules.yml
deleted file mode 100644
index 86821aefe1..0000000000
--- a/test/legacy/roles/test_consul_acl/tasks/create-acl-with-rules.yml
+++ /dev/null
@@ -1,77 +0,0 @@
----
-
-- name: create an ACL with rules
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-    rules:
-      - event: "bbq"
-        policy: write
-      - key: "foo"
-        policy: read
-      - key: "private"
-        policy: deny
-      - keyring: write
-      - node: "hgs4"
-        policy: write
-      - operator: read
-      - query: ""
-        policy: write
-      - service: "consul"
-        policy: write
-      - session: "standup"
-        policy: write
-  register: created_acl
-
-- name: verify created ACL's rules
-  assert:
-    that:
-      - created_acl.changed
-      - created_acl.operation == "create"
-      - created_acl.token | length == 36
-      - (created_acl.rules | json_query("event.bbq.policy")) == "write"
-      - (created_acl.rules | json_query("key.foo.policy")) == "read"
-      - (created_acl.rules | json_query("key.private.policy")) == "deny"
-      - (created_acl.rules | json_query("keyring")) == "write"
-      - (created_acl.rules | json_query("node.hgs4.policy")) == "write"
-      - (created_acl.rules | json_query("operator")) == "read"
-      - (created_acl.rules | json_query('query."".policy')) == "write"
-      - (created_acl.rules | json_query("service.consul.policy")) == "write"
-      - (created_acl.rules | json_query("session.standup.policy")) == "write"
-
-- name: create same ACL
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-    rules:
-      - event: "bbq"
-        policy: write
-      - key: "foo"
-        policy: read
-      - key: "private"
-        policy: deny
-      - keyring: write
-      - node: "hgs4"
-        policy: write
-      - operator: read
-      - query: ""
-        policy: write
-      - service: "consul"
-        policy: write
-      - session: "standup"
-        policy: write
-  register: doubly_created_acl
-
-- name: verify idempotence when creating ACL
-  assert:
-    that:
-      - not doubly_created_acl.changed
-
-- name: clean up
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ doubly_created_acl.token }}"
-    state: absent
diff --git a/test/legacy/roles/test_consul_acl/tasks/create-acl-with-token.yml b/test/legacy/roles/test_consul_acl/tasks/create-acl-with-token.yml
deleted file mode 100644
index bc2057ae23..0000000000
--- a/test/legacy/roles/test_consul_acl/tasks/create-acl-with-token.yml
+++ /dev/null
@@ -1,41 +0,0 @@
----
-
-- name: create an ACL with a given token
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-    token: "{{ test_consul_acl_token_id }}"
-    rules:
-      - key: "foo"
-        policy: write
-  register: created_acl
-
-- name: verify ACL created with given token
-  assert:
-    that:
-      - created_acl.changed
-      - created_acl.operation == "create"
-      - created_acl.token == test_consul_acl_token_id
-
-- name: re-create ACL with the token
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ test_consul_acl_token_id }}"
-    rules:
-      - key: "foo"
-        policy: write
-  register: doubly_created_acl
-
-- name: verify idempotence when creating ACL with same token
-  assert:
-    that:
-      - not doubly_created_acl.changed
-
-- name: clean up
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    state: absent
diff --git a/test/legacy/roles/test_consul_acl/tasks/create-acl-without-rules.yml b/test/legacy/roles/test_consul_acl/tasks/create-acl-without-rules.yml
deleted file mode 100644
index e94eea27c5..0000000000
--- a/test/legacy/roles/test_consul_acl/tasks/create-acl-without-rules.yml
+++ /dev/null
@@ -1,35 +0,0 @@
----
-
-- name: create a new ACL without rules
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-  register: created_ruleless_acl
-
-- name: verify ACL created without rules
-  assert:
-    that:
-      - created_ruleless_acl.changed
-      - created_ruleless_acl.operation == "create"
-      - created_ruleless_acl.token | length == 36
-      - created_ruleless_acl.rules == {}
-
-- name: create same rule-less ACL
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-  register: doubly_created_ruleless_acl
-
-- name: verify idempotence when creating ruleless ACL tokens
-  assert:
-    that:
-      - not doubly_created_ruleless_acl.changed
-
-- name: clean up
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ doubly_created_ruleless_acl.token }}"
-    state: absent
diff --git a/test/legacy/roles/test_consul_acl/tasks/main.yml b/test/legacy/roles/test_consul_acl/tasks/main.yml
deleted file mode 100644
index 3903ba889d..0000000000
--- a/test/legacy/roles/test_consul_acl/tasks/main.yml
+++ /dev/null
@@ -1,11 +0,0 @@
----
-
-- import_tasks: create-acl-without-rules.yml
-
-- import_tasks: create-acl-with-rules.yml
-
-- import_tasks: create-acl-with-token.yml
-
-- import_tasks: update-acl.yml
-
-- import_tasks: remove-acl.yml
diff --git a/test/legacy/roles/test_consul_acl/tasks/remove-acl.yml b/test/legacy/roles/test_consul_acl/tasks/remove-acl.yml
deleted file mode 100644
index 49e1a5a01f..0000000000
--- a/test/legacy/roles/test_consul_acl/tasks/remove-acl.yml
+++ /dev/null
@@ -1,37 +0,0 @@
----
-
-- name: create an ACL
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-  register: created_acl
-
-- name: remove the ACL
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    state: absent
-  register: removed_acl
-
-# TODO: This does little to actually verify that the ACL has been removed
-- name: verify ACL has been removed
-  assert:
-    that:
-      - removed_acl.changed
-      - removed_acl.operation == "remove"
-      - removed_acl.token | length == 36
-
-- name: remove the ACL again
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    state: absent
-  register: doubly_removed_acl
-
-- name: verify idempotence when deleting an ACL
-  assert:
-    that:
-      - not doubly_removed_acl.changed
diff --git a/test/legacy/roles/test_consul_acl/tasks/update-acl.yml b/test/legacy/roles/test_consul_acl/tasks/update-acl.yml
deleted file mode 100644
index 48d8a12fd2..0000000000
--- a/test/legacy/roles/test_consul_acl/tasks/update-acl.yml
+++ /dev/null
@@ -1,71 +0,0 @@
----
-
-- name: create an ACL
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    name: "{{ test_consul_acl_token_name }}"
-    rules:
-      - key: "foo"
-        policy: read
-  register: created_acl
-
-- name: update ACL's rules
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    rules:
-      - key: "foo"
-        policy: write
-      - key: "moo"
-        policy: deny
-  register: updated_acl
-
-- name: verify updated ACL's rules
-  assert:
-    that:
-      - updated_acl.changed
-      - updated_acl.operation == "update"
-      - updated_acl.token | length == 36
-      - (updated_acl.rules | json_query("key.foo.policy")) == "write"
-      - (updated_acl.rules | json_query("key.moo.policy")) == "deny"
-
-- name: update already updated rule
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    rules:
-      - key: "foo"
-        policy: write
-      - key: "moo"
-        policy: deny
-  register: doubly_updated_acl
-
-- name: verify idempotence when setting rules
-  assert:
-    that:
-      - not doubly_updated_acl.changed
-
-- name: update to remove all ACL's rules
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    rules: []
-  register: updated_acl
-
-- name: verify ACL has no rules
-  assert:
-    that:
-      - updated_acl.changed
-      - updated_acl.token | length == 36
-      - updated_acl.rules == {}
-
-- name: clean up
-  consul_acl:
-    host: "{{ acl_host }}"
-    mgmt_token: "{{ mgmt_token }}"
-    token: "{{ created_acl.token }}"
-    state: absent
diff --git a/test/legacy/roles/test_consul_acl/vars/main.yml b/test/legacy/roles/test_consul_acl/vars/main.yml
deleted file mode 100644
index 02e259634b..0000000000
--- a/test/legacy/roles/test_consul_acl/vars/main.yml
+++ /dev/null
@@ -1,4 +0,0 @@
----
-
-test_consul_acl_token_name: example-token
-test_consul_acl_token_id: 60DEC4BC-DD47-4F4E-A95A-19D639407D2C
diff --git a/test/legacy/roles/test_consul_inventory/tasks/main.yml b/test/legacy/roles/test_consul_inventory/tasks/main.yml
deleted file mode 100644
index d153192c24..0000000000
--- a/test/legacy/roles/test_consul_inventory/tasks/main.yml
+++ /dev/null
@@ -1,39 +0,0 @@
-- name: there are three hosts with an available consul service
-  assert:
-    that:
-        - groups.consul_servers | length == 3
-
-
-- name: there is one host with an available ssh service
-  assert:
-    that:
-        - groups.ssh_up | length == 1
-
-- name: there is one host with a failing nginx service
-  assert:
-    that:
-        - groups.nginx_down | length == 1
-
-- name: services get added to groups with their tags
-  assert:
-    that:
-        - groups.nginx_servers_qa | length == 1
-        - groups.nginx_servers_slave | length == 1
-
-- name: metadata from the kv store gets added to the facts for a host
-  assert:
-    that:
-        - clearance is match('top_secret')
-  when: inventory_hostname == '11.0.0.2'
-
-- name: extra groups a host should be added to can be loaded from kv
-  assert:
-    that:
-        - groups.a_group | length == 1
-        - groups.another_group | length == 1
-
-- name: ansible_ssh_port is set if the ssh service is registered
-  assert:
-    that:
-        - ansible_ssh_port == 2222
-  when: not inventory_hostname in  ['11.0.0.2', '11.0.0.3', '11.0.0.4']
diff --git a/test/legacy/roles/test_consul_kv/tasks/main.yml b/test/legacy/roles/test_consul_kv/tasks/main.yml
deleted file mode 100644
index e9ead5885e..0000000000
--- a/test/legacy/roles/test_consul_kv/tasks/main.yml
+++ /dev/null
@@ -1,90 +0,0 @@
-- name: add rules to an acl token
-  consul_acl:
-    mgmt_token: '{{mgmt_token}}'
-    host: '{{acl_host}}'
-    name: 'ACL rule for testing'
-    rules:
-      - key: 'somekey'
-        policy: write
-  register: test_acl
-
-- name: cleanup from previous failed runs
-  consul_kv: key={{item}} state=absent token='{{test_acl.token}}'
-  with_items:
-    - somekey
-
-- name: add a kv pair to the kv store
-  consul_kv: key=somekey value=somevalue token='{{test_acl.token}}'
-  register: new_key
-
-- name: verify new key
-  assert:
-    that:
-      - new_key.key == 'somekey'
-      - new_key.data.Value == 'somevalue'
-      - new_key.changed == true
-
-- name: add an existing kv to the kv store
-  consul_kv: key=somekey value=somevalue token='{{test_acl.token}}'
-  register: existing_key
-
-- name: verify existing key cause no change
-  assert:
-    that:
-      - existing_key.key == 'somekey'
-      - existing_key.data.Value == 'somevalue'
-      - existing_key.changed == False
-
-- name: remove an existing kv from the kv store
-  consul_kv: key=somekey state=absent token='{{test_acl.token}}'
-  register: remove_key
-
-- name: verify removal causes change and existing value is returned
-  assert:
-    that:
-      - remove_key.key == 'somekey'
-      - remove_key.data.Value == 'somevalue'
-      - remove_key.changed == True
-
-- name: attempting to remove an non-existant kv from the kv store causes no change
-  consul_kv: key=not_present state=absent token='{{test_acl.token}}'
-  register: non_existant_key
-
-- name: verify removal causes change and existing value is returned
-  assert:
-    that:
-      - non_existant_key.key == 'not_present'
-      - non_existant_key.data == None
-      - non_existant_key.changed == False
-
-- name: Add a key to lookup with the lookup capability
-  consul_kv: key='key/to/lookup_{{item}}' value='somevalue_{{item}}' token='{{test_acl.token}}'
-  with_items:
-    - one
-    - two
-  register: lookup_keys
-
-  # necessary to make the new token available to the
-- set_fact: acl_token={{test_acl.token}}
-
-- name: kv test
-  assert:
-    that:
-      - "{{ item is match('somevalue_one')}}"
-  with_consul_kv:
-    - 'key/to/lookup_one token={{acl_token}}'
-
-
-- name: recursive kv lookup test
-  assert:
-    that:
-      - "{{ item is match('somevalue_(one|two)')}}"
-  with_consul_kv:
-    - 'key/to recurse=true token={{acl_token}}'
-
-- name: remove test acl rule
-  consul_acl:
-    mgmt_token: '{{mgmt_token}}'
-    host: '{{acl_host}}'
-    token: '{{test_acl.token}}'
-    state: absent
diff --git a/test/legacy/roles/test_consul_service/tasks/main.yml b/test/legacy/roles/test_consul_service/tasks/main.yml
deleted file mode 100644
index b15eb6a404..0000000000
--- a/test/legacy/roles/test_consul_service/tasks/main.yml
+++ /dev/null
@@ -1,226 +0,0 @@
-- name: cleanup any previous failed runs
-  consul:
-    service_id: '{{item}}'
-    state: absent
-  with_items:
-      - service1
-      - service2
-      - service3
-      - http_check
-      - with_check
-      - with_tags
-
-- name: cleanup previous checks
-  consul:
-    check_id: '{{item}}'
-    state: absent
-  with_items:
-    - node_level
-    - node_level_http
-
-- name: register very basic service with consul gets default id
-  consul:
-    service_name: service1
-    service_port: 80
-  register: basic_result
-
-- name: verify basic service registration
-  assert:
-    that:
-        - basic_result.changed
-        - basic_result.service_port == 80
-        - basic_result.service_id == 'service1'
-        - basic_result.service_name == 'service1'
-
-- name: register very basic service with explicit id
-  consul:
-    service_name: Basic Service
-    service_id: service2
-    service_port: 80
-  register: basic2_result
-
-- name: verify service2 registration
-  assert:
-    that:
-        - basic2_result.changed
-        - basic2_result.service_port == 80
-        - basic2_result.service_id == 'service2'
-        - basic2_result.service_name == 'Basic Service'
-
-- name: register service without name
-  consul:
-    service_id: this_will_fail
-  register: noname_result
-  ignore_errors: True
-
-- name: verify registering service without name fails
-  assert:
-    that:
-        - noname_result is failed
-
-- name: register very basic service without service_port
-  consul:
-    service_name: Basic Service Without Port
-    service_id: service3
-  register: basic3_result
-
-- name: verify service3 registration
-  assert:
-    that:
-        - basic3_result.changed
-        - basic3_result.service_port == None
-        - basic3_result.service_id == 'service3'
-        - basic3_result.service_name == 'Basic Service Without Port'
-
-- name: register a service with an http check
-  consul:
-    service_name: http_check
-    service_id: http_check
-    service_port: 80
-    http: "http://localhost/status"
-    interval: 60s
-  register: http_result
-
-- name: verify service with an http check
-  assert:
-    that:
-      - http_result.changed
-      - http_result.service_port == 80
-      - http_result.checks | length == 1
-
-- name: register very basic service with check script
-  consul:
-    service_name: with_check
-    service_port: 80
-    script: "sh -c true"
-    interval: 60s
-  register: script_result
-
-- name: verify service with check registration
-  assert:
-    that:
-        - script_result.changed
-        - script_result.service_port == 80
-        - script_result.service_id == 'with_check'
-        - script_result.checks | length == 1
-
-- name: register service with some service tags
-  consul:
-    service_name: with_tags
-    service_port: 80
-    tags:
-      - prod
-      - webservers
-  register: tags_result
-
-
-- name: verify tags registration
-  assert:
-    that:
-        - tags_result.changed
-        - "tags_result.tags == ['prod', 'webservers']"
-
-- name: create a node level check
-  consul:
-    check_name: Node Level Check
-    check_id: node_level
-    script: "sh -c true"
-    interval: 50m
-  register: nodelevel_result
-
-- name: verify service with check registration
-  assert:
-    that:
-        - nodelevel_result.changed
-        - nodelevel_result.check_name == 'Node Level Check'
-        - nodelevel_result.check_id == 'node_level'
-        - nodelevel_result.script == 'sh -c true'
-        - nodelevel_result.interval == '50m'
-
-- name: create a node level http check
-  consul:
-    check_name: Node Level HTTP Check
-    check_id: node_level_http
-    http: 'http://localhost/status'
-    interval: 1m
-    timeout: 30s
-  register: nodelevel_http_result
-
-- name: verify node level http check
-  assert:
-    that:
-      - nodelevel_http_result.changed
-      - nodelevel_http_result.check_name == 'Node Level HTTP Check'
-      - nodelevel_http_result.check_id == 'node_level_http'
-      - nodelevel_http_result.http == 'http://localhost/status'
-      - nodelevel_http_result.interval == '1m'
-      - nodelevel_http_result.timeout == '30s'
-
-- name: remove a service
-  consul:
-    service_id: 'service1'
-    state: absent
-  register: delete_service_result
-
-- name: verify service removal
-  assert:
-    that:
-      - delete_service_result.changed
-
-- name: removal of an non-existent service causes no change
-  consul:
-    service_id: 'service1'
-    state: absent
-  register: delete_service_result
-
-- name: verify service removal caused no change
-  assert:
-    that:
-      - not delete_service_result.changed
-
-- name: remove a check
-  consul:
-    check_id: 'node_level'
-    state: absent
-  register: delete_check_result
-
-- name: verify check removal
-  assert:
-    that:
-      - delete_check_result.changed
-
-- name: removal of an non-existent check causes no change
-  consul:
-    check_id: 'node_level'
-    state: absent
-  register: delete_check_result
-
-- name: verify check removal cause no change
-  assert:
-    that:
-      - not delete_service_result.changed
-
-- name: add service to test removal by name
-  consul:
-    service_name: by_name
-    service_port: 12345
-
-- name: remove service by name
-  consul:
-    service_name: by_name
-    state: absent
-  register: delete_service_by_name_result
-
-- name: verify service removal
-  assert:
-    that:
-      - delete_service_by_name_result.changed
-
-- name: cleanup
-  consul:
-    service_id: '{{item}}'
-    state: absent
-  with_items:
-    - service2
-    - with_check
-    - with_tags
diff --git a/test/legacy/roles/test_consul_session/tasks/main.yml b/test/legacy/roles/test_consul_session/tasks/main.yml
deleted file mode 100644
index ff1da0d392..0000000000
--- a/test/legacy/roles/test_consul_session/tasks/main.yml
+++ /dev/null
@@ -1,77 +0,0 @@
-- name: register basic session with consul
-  consul_session:
-    name: session1
-  register: basic_result
-
-- name: verify basic session registration
-  assert:
-    that:
-        - basic_result.changed
-        - basic_result.session_id | length == 36
-        - basic_result.name == 'session1'
-
-- name: add checks for session health check
-  consul:
-    check_name: session_check
-    script: /bin/true
-    interval: 1
-
-- pause: seconds=2
-
-- name: register a session with check
-  consul_session:
-    name: session_with_check
-    checks:
-      - session_check
-  register: with_check
-
-- name: verify basic session registration
-  assert:
-    that:
-        - with_check.changed
-        - with_check.session_id | length == 36
-        - with_check.name == 'session_with_check'
-        - with_check.checks == ['session_check']
-
-- name: register a session with lock_delay
-  consul_session:
-    name: session_with_delay
-    delay: 20
-  register: with_delay
-
-- name: verify registration of session with delay
-  assert:
-    that:
-        - with_delay.changed
-        - with_delay.session_id | length == 36
-        - with_delay.name == 'session_with_delay'
-        - with_delay.delay == "20"
-
-
-- name: retrieve session by id
-  consul_session: id='{{with_delay.session_id}}' state=info
-  register: retrieved_by_id
-
-- name: verify retrieval by id
-  assert:
-    that:
-      - with_delay.session_id == retrieved_by_id.sessions[1].ID
-
-- name: retrieve sessions by id
-  consul_session: state=list
-  register: retrieved_by_list
-
-- name: verify retrieval by list
-  assert:
-    that:
-      - 3 <= retrieved_by_list.sessions[0]
-
-- name: remove sessions
-  consul_session: id='{{basic_result.session_id}}' state=absent
-- consul_session: id='{{with_check.session_id}}' state=absent
-- consul_session: id='{{with_delay.session_id}}' state=absent
-
-- name: remove check
-  consul:
-    check_name: session_check
-    state: absent
diff --git a/test/legacy/roles/test_ec2/README.md b/test/legacy/roles/test_ec2/README.md
deleted file mode 100644
index 54af02ff51..0000000000
--- a/test/legacy/roles/test_ec2/README.md
+++ /dev/null
@@ -1,38 +0,0 @@
-Role Name
-========
-
-A brief description of the role goes here.
-
-Requirements
-------------
-
-Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.
-
-Role Variables
---------------
-
-A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.
-
-Dependencies
-------------
-
-A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.
-
-Example Playbook
--------------------------
-
-Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:
-
-    - hosts: servers
-      roles:
-         - { role: username.rolename, x: 42 }
-
-License
--------
-
-BSD
-
-Author Information
-------------------
-
-An optional section for the role authors to include contact information, or a website (HTML is not allowed).
diff --git a/test/legacy/roles/test_ec2/defaults/main.yml b/test/legacy/roles/test_ec2/defaults/main.yml
deleted file mode 100644
index bd3bf77ca0..0000000000
--- a/test/legacy/roles/test_ec2/defaults/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# defaults file for test_ec2
diff --git a/test/legacy/roles/test_ec2/handlers/main.yml b/test/legacy/roles/test_ec2/handlers/main.yml
deleted file mode 100644
index 38167ee5a6..0000000000
--- a/test/legacy/roles/test_ec2/handlers/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# handlers file for test_ec2
diff --git a/test/legacy/roles/test_ec2/meta/main.yml b/test/legacy/roles/test_ec2/meta/main.yml
deleted file mode 100644
index 1f64f1169a..0000000000
--- a/test/legacy/roles/test_ec2/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - setup_ec2
diff --git a/test/legacy/roles/test_ec2/tasks/main.yml b/test/legacy/roles/test_ec2/tasks/main.yml
deleted file mode 100644
index 19a8f12aeb..0000000000
--- a/test/legacy/roles/test_ec2/tasks/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# tasks file for test_ec2
diff --git a/test/legacy/roles/test_ec2/vars/main.yml b/test/legacy/roles/test_ec2/vars/main.yml
deleted file mode 100644
index 7008594fb8..0000000000
--- a/test/legacy/roles/test_ec2/vars/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# vars file for test_ec2
diff --git a/test/legacy/roles/test_ec2_asg/tasks/main.yml b/test/legacy/roles/test_ec2_asg/tasks/main.yml
deleted file mode 100644
index 08d8867a12..0000000000
--- a/test/legacy/roles/test_ec2_asg/tasks/main.yml
+++ /dev/null
@@ -1,210 +0,0 @@
----
-# tasks file for test_ec2_asg
-
-# we are using a custom built AMI that runs an apache server to verify
-# ELB health checks and perform rolling ASG updates
-# this will only work on us-east-1
-
-# ============================================================
-# create and kill an ASG
-- name: ensure launch config exists
-  ec2_lc:
-    name: "{{ resource_prefix }}-lc"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    image_id: ami-964a0efe
-    instance_type: t2.micro
-
-- name: launch asg and wait for instances to be deemed healthy (no ELB)
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    launch_config_name: "{{ resource_prefix }}-lc"
-    desired_capacity: 1
-    min_size: 1
-    max_size: 1
-    region: "{{ ec2_region }}"
-    state: present
-    wait_for_instances: yes
-  register: output
-
-- assert:
-    that:
-      - "output.viable_instances == 1"
-
-# - name: pause for a bit to make sure that the group can't be trivially deleted
-#   pause: seconds=30
-- name: kill asg
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    state: absent
-  async: 300
-
-
-- name: launch asg and do not wait for instances to be deemed healthy (no ELB)
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    launch_config_name: "{{ resource_prefix }}-lc"
-    desired_capacity: 1
-    min_size: 1
-    max_size: 1
-    region: "{{ ec2_region }}"
-    wait_for_instances: no
-    state: present
-  register: output
-
-- assert:
-    that:
-      - "output.viable_instances == 0"
-
-- name: kill asg
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    state: absent
-  async: 300
-
-- name: launch load balancer
-  ec2_elb_lb:
-    name: "{{ resource_prefix }}-lb"
-    region: "{{ ec2_region }}"
-    state: present
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    zones:
-      - "{{ ec2_region }}b"
-      - "{{ ec2_region }}c"
-    connection_draining_timeout: 60
-    listeners:
-      - protocol: http
-        load_balancer_port: 80
-        instance_port: 80
-    health_check:
-        ping_protocol: http
-        ping_port: 80
-        ping_path: "/"
-        response_timeout: 5
-        interval: 30
-        unhealthy_threshold: 3
-        healthy_threshold: 3
-  register: load_balancer
-
-
-- name: launch asg and wait for instances to be deemed healthy (ELB)
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    availability_zones:
-      - "{{ ec2_region }}b"
-      - "{{ ec2_region }}c"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    launch_config_name: "{{ resource_prefix }}-lc"
-    health_check_type: ELB
-    desired_capacity: 1
-    min_size: 1
-    max_size: 1
-    health_check_period: 120
-    load_balancers: "{{ resource_prefix }}-lb"
-    region: "{{ ec2_region }}"
-    wait_for_instances: yes
-    wait_timeout: 600
-    state: present
-  register: output
-
-- assert:
-    that:
-      - "output.viable_instances == 1"
-
-
-# grow scaling group to 3
-
-- name: add 2 more instances wait for instances to be deemed healthy (ELB)
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    availability_zones:
-      - "{{ ec2_region }}b"
-      - "{{ ec2_region }}c"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    launch_config_name: "{{ resource_prefix }}-lc"
-    health_check_type: ELB
-    desired_capacity: 3
-    min_size: 3
-    max_size: 5
-    health_check_period: 120
-    load_balancers: ec2-asg-int-test
-    region: "{{ ec2_region }}"
-    wait_for_instances: yes
-    wait_timeout: 600
-    state: present
-  register: output
-
-- assert:
-    that:
-      - "output.viable_instances == 3"
-
-# # create new launch config with alternate AMI
-
-- name: ensure launch config exists
-  ec2_lc:
-    name: "{{ resource_prefix }}-lc-2"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    image_id: ami-2a4a0e42
-    instance_type: t2.micro
-
-
-# # perform rolling replace
-
-- name: perform rolling update to new AMI
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    availability_zones:
-      - "{{ ec2_region }}b"
-      - "{{ ec2_region }}c"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    launch_config_name: "{{ resource_prefix }}-lc-2"
-    health_check_type: ELB
-    desired_capacity: 3
-    min_size: 3
-    max_size: 5
-    health_check_period: 120
-    load_balancers: ec2-asg-int-test
-    region: "{{ ec2_region }}"
-    wait_for_instances: yes
-    replace_all_instances: yes
-    wait_timeout: 600
-    state: present
-  register: output
-
-# ensure that all instances have new launch config
-- assert:
-    that:
-      - "item.value.launch_config_name == '{{ resource_prefix }}-lc-2'"
-  with_dict: output.instance_facts
-
-# assert they are all healthy
-- assert:
-    that:
-      - "output.viable_instances >= 3"
-
-
-- name: kill asg
-  ec2_asg:
-    name: "{{ resource_prefix }}-asg"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    state: absent
-  async: 300
diff --git a/test/legacy/roles/test_ec2_eip/defaults/main.yml b/test/legacy/roles/test_ec2_eip/defaults/main.yml
deleted file mode 100644
index 76164523d4..0000000000
--- a/test/legacy/roles/test_ec2_eip/defaults/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
----
-# defaults file for test_ec2_eip
-tag_prefix: '{{resource_prefix}}'
diff --git a/test/legacy/roles/test_ec2_eip/meta/main.yml b/test/legacy/roles/test_ec2_eip/meta/main.yml
deleted file mode 100644
index 1f64f1169a..0000000000
--- a/test/legacy/roles/test_ec2_eip/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - setup_ec2
diff --git a/test/legacy/roles/test_ec2_eip/tasks/main.yml b/test/legacy/roles/test_ec2_eip/tasks/main.yml
deleted file mode 100644
index cb92902133..0000000000
--- a/test/legacy/roles/test_ec2_eip/tasks/main.yml
+++ /dev/null
@@ -1,437 +0,0 @@
----
-# __Test Info__
-# EIPs are a scarce resource.  AWS only assigns 5 per account
-# by default.  This test tries to only use 1 at a time.
-# one t1.micro instance will also be provisioned.
-# tests require setting of variables eip_ec2_keyname and
-# eip_ec2_image .
-
-# __Test Outline__
-#
-# __ec2_eip__
-# create test instance
-# create EIP
-# assign allocated ip to instance_id
-# disassociate EIP associated with instance
-# re-use existing EIP with instance
-# deactivate EIP
-# provision EIP with instance_id
-# create VPC EIP
-# re-use exiting VPC EIP with instance
-
-# __ec2-common__
-# test environment variable EC2_REGION
-# deactivate EIP
-# test with no parameters
-# test with only instance_id
-# test invalid region parameter
-# test valid region parameter
-# test invalid ec2_url parameter
-# test valid ec2_url parameter
-# test credentials from environment
-# test credential parameters
-
-# ============================================================
-# create a keypair using the ssh key
-
-- name: create the keypair for ec2
-  ec2_key:
-    name: "{{ resource_prefix }}"
-    region: "{{ ec2_region }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    key_material: "{{ key_material }}"
-    wait: yes
-    state: present
-
-# ============================================================
-# create test instance
-
-- name: create test instance
-  local_action:
-    module: ec2
-    key_name: "{{ resource_prefix }}"
-    region: "{{ ec2_region }}"
-    instance_type: t1.micro
-    image: ami-fb8e9292
-    wait: yes
-    instance_tags:
-      Name: "{{ tag_prefix }}"
-      ansible_ec2_eip_integration_test: foo
-    exact_count: 1
-    count_tag: "ansible_ec2_eip_integration_test"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-  register: output
-
-
-- name: set instance id fact
-  set_fact: instance_id={{ output.instances[0].id }}
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-
-# create EIP
-
-- name: create EIP
-  ec2_eip: region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-  register: result
-
-- name: set eip fact
-  set_fact: eip={{ result.public_ip }}
-
-- name: write ip to list for cleanup script
-  shell: echo {{ eip }} >> {{ output_dir }}/{{ tag_prefix }}-eip_integration_tests.log
-
-- name: assert EIP created
-  assert:
-    that:
-      - '"failed" not in result'
-
-
-# eip allocated:1 assigned:0
-
-# ============================================================
-
-# assign allocated ip to instance_id
-
-- name: assign allocated ip to instance_id
-  ec2_eip:
-    reuse_existing_ip_allowed=yes
-    instance_id={{ instance_id }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-    public_ip={{ eip }}
-    region={{ ec2_region }}
-  register: result
-
-- name: assert new EIP was assigned
-  assert:
-    that:
-      - '"public_ip" in result'
-
-
-# eip allocated:1 assigned:1
-
-# ============================================================
-
-# disassociate EIP associated with instance
-
-- name: disassociate EIP associated with instance
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-    instance_id={{ instance_id }}
-  register: result
-
-
-# eip allocated:1 assigned:0
-
-
-# ============================================================
-
-# re-use existing EIP with instance
-
-- name: re-use existing EIP with instance
-  ec2_eip:
-    reuse_existing_ip_allowed=yes
-    instance_id={{ instance_id }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-    region={{ ec2_region }}
-  register: result
-
-- name: assert new EIP was assigned
-  assert:
-    that:
-      - '"public_ip" in result'
-
-
-
-- name: disassociate EIP associated with instance
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-    instance_id={{ instance_id }}
-
-
-# eip allocated:1 assigned:1
-
-# ============================================================
-
-# deactivate EIP
-
-- name: deactivate EIP
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-  register: result
-
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-
-# provision EIP with instance_id
-
-- name: provision EIP with instance_id
-  ec2_eip:
-    instance_id={{ instance_id }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-    region={{ ec2_region }}
-  register: result
-
-- name: set eip fact
-  set_fact: eip={{ result.public_ip }}
-
-- name: write ip to list for cleanup script
-  shell: echo {{ eip }} >> {{ output_dir }}/{{ tag_prefix }}-eip_integration_tests.log
-
-- name: assert provision EIP with instance_id
-  assert:
-    that:
-      - '"public_ip" in result'
-
-
-- name: disassociate EIP associated with instance
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-    instance_id={{ instance_id }}
-
-
-- name: deactivate EIP
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-
-
-# create VPC EIP
-
-
-- name: create VPC EIP
-  ec2_eip: in_vpc=yes region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-  register: result
-
-- name: set eip fact
-  set_fact: eip={{ result.public_ip }}
-
-- name: write ip to list for cleanup script
-  shell: echo {{ eip }} >> {{ output_dir }}/{{ tag_prefix }}-eip_integration_tests.log
-
-- name: assert VPC EIP creation
-  assert:
-    that:
-      - '"public_ip" in result'
-
-
-# eip allocated:1 assigned:0
-
-# ============================================================
-
-# re-use existing VPC EIP with instance
-# DISABLED BY JCAMMARATA
-#- name: re-use existing VPC EIP with instance
-#  ec2_eip:
-#    in_vpc=yes
-#    reuse_existing_ip_allowed=yes
-#    instance_id={{ instance_id }}
-#    ec2_access_key={{ ec2_access_key }}
-#    ec2_secret_key={{ ec2_secret_key }}
-#    region={{ ec2_region }}
-#  register: result
-#
-#- name: assert new VPC EIP was assigned
-#  assert:
-#    that:
-#      - '"public_ip" in result'
-#
-#
-#- name: disassociate VPC EIP associated with instance
-#  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-#    ec2_access_key={{ ec2_access_key }}
-#    ec2_secret_key={{ ec2_secret_key }}
-#    instance_id={{ instance_id }}
-
-
-- name: deactivate VPC EIP
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-
-
-# eip allocated:0 assigned:0
-
-
-# ============================================================
-- name: test environment variable EC2_REGION
-  ec2_eip:
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-  environment:
-    EC2_REGION: "{{ ec2_region }}"
-  register: result
-
-- name: set eip fact
-  set_fact: eip={{ result.public_ip }}
-
-- name: write ip to list for cleanup script
-  shell: echo {{ eip }} >> {{ output_dir }}/{{ tag_prefix }}-eip_integration_tests.log
-
-
-- name: assert environment variable EC2_REGION
-  assert:
-    that:
-      - '"public_ip" in result'
-
-
-- name: deactivate EIP
-  ec2_eip: state=absent public_ip={{ eip }} region={{ ec2_region }}
-    ec2_access_key={{ ec2_access_key }}
-    ec2_secret_key={{ ec2_secret_key }}
-
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-
-- name: test with no parameters
-  ec2_eip:
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with no parameters
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Either region or ec2_url must be specified"'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-- name: test with only instance_id
-  ec2_eip:
-    instance_id=i-12345
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with only 'instance_id'
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Either region or ec2_url must be specified"'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-- name: test invalid region parameter
-  ec2_eip:
-    instance_id={{ instance_id }}
-    region='asdf querty 1234'
-  register: result
-  ignore_errors: true
-
-- name: assert invalid region parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("value of region must be one of:")'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-- name: test valid region parameter
-  ec2_eip:
-    instance_id={{ instance_id }}
-    region={{ ec2_region }}
-  register: result
-  ignore_errors: true
-
-- name: assert valid region parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-
-- name: test invalid ec2_url parameter
-  ec2_eip:
-    instance_id={{ instance_id }}
-    reuse_existing_ip_allowed=yes
-  environment:
-    EC2_URL: bogus.example.com
-  register: result
-  ignore_errors: true
-
-- name: assert invalid ec2_url parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-- name: test valid ec2_url parameter
-  ec2_eip:
-    instance_id={{ instance_id }}
-    reuse_existing_ip_allowed=yes
-  environment:
-    EC2_URL: '{{ec2_url}}'
-  register: result
-  ignore_errors: true
-
-- name: assert valid ec2_url parameter
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg.startswith("No handler was ready to authenticate.")'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-- name: test credentials from environment
-  ec2_eip:
-    region={{ ec2_region }}
-    instance_id={{ instance_id }}
-  environment:
-    EC2_ACCESS_KEY: bogus_access_key
-    EC2_SECRET_KEY: bogus_secret_key
-  register: result
-  ignore_errors: true
-
-- name: assert credentials from environment
-  assert:
-    that:
-       - 'result.failed'
-       - '"EC2ResponseError: 401 Unauthorized" in result.msg'
-
-# eip allocated:0 assigned:0
-
-# ============================================================
-- name: test credential parameters
-  ec2_eip: region={{ ec2_region }}
-  register: result
-  ignore_errors: true
-
-- name: assert credential parameters
-  assert:
-    that:
-       - 'result.failed'
-       - '"Check your credentials" in result.msg'
-
-# eip allocated:0 assigned:0
diff --git a/test/legacy/roles/test_ec2_eip/vars/main.yml b/test/legacy/roles/test_ec2_eip/vars/main.yml
deleted file mode 100644
index 48e38c487b..0000000000
--- a/test/legacy/roles/test_ec2_eip/vars/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# vars file for test_ec2_eip
diff --git a/test/legacy/roles/test_ec2_elb/defaults/main.yml b/test/legacy/roles/test_ec2_elb/defaults/main.yml
deleted file mode 100644
index 523798bbcc..0000000000
--- a/test/legacy/roles/test_ec2_elb/defaults/main.yml
+++ /dev/null
@@ -1,2 +0,0 @@
----
-# defaults file for test_ec2_elb
diff --git a/test/legacy/roles/test_ec2_elb/meta/main.yml b/test/legacy/roles/test_ec2_elb/meta/main.yml
deleted file mode 100644
index 32cf5dda7e..0000000000
--- a/test/legacy/roles/test_ec2_elb/meta/main.yml
+++ /dev/null
@@ -1 +0,0 @@
-dependencies: []
diff --git a/test/legacy/roles/test_ec2_elb/tasks/main.yml b/test/legacy/roles/test_ec2_elb/tasks/main.yml
deleted file mode 100644
index 94c6bf966c..0000000000
--- a/test/legacy/roles/test_ec2_elb/tasks/main.yml
+++ /dev/null
@@ -1,187 +0,0 @@
----
-# tasks file for test_ec2_elb
-
-# ============================================================
-# create an ELB for testing
-
-- name: create the test load balancer
-  ec2_elb_lb:
-    name: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    state: present
-    zones:
-      - "{{ ec2_region }}b"
-      - "{{ ec2_region }}c"
-    listeners:
-      - protocol: http
-        load_balancer_port: 80
-        instance_port: 80
-    health_check:
-        ping_protocol: http
-        ping_port: 80
-        ping_path: "/index.html"
-        response_timeout: 5
-        interval: 10
-        unhealthy_threshold: 3
-        healthy_threshold: 2
-  register: result
-
-- name: assert the test load balancer was created correctly
-  assert:
-    that:
-      - 'result.changed'
-      - '"failed" not in result'
-      - 'result.elb.status == "created"'
-      - '"{{ ec2_region }}b" in result.elb.zones'
-      - '"{{ ec2_region }}c" in result.elb.zones'
-      - 'result.elb.health_check.healthy_threshold == 2'
-      - 'result.elb.health_check.interval == 10'
-      - 'result.elb.health_check.target == "HTTP:80/index.html"'
-      - 'result.elb.health_check.timeout == 5'
-      - 'result.elb.health_check.unhealthy_threshold == 3'
-      - '[80, 80, "HTTP", "HTTP"] in result.elb.listeners'
-
-
-# ============================================================
-# add one of the instances to the LB
-
-- name: add first instance to the load balancer
-  ec2_elb:
-    ec2_elbs: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    instance_id: "{{ ec2_provision_result.instance_ids[0] }}"
-    state: present
-    wait_timeout: 300
-  register: result
-
-- name: assert the first instance was added ok
-  assert:
-    that:
-      - 'result.changed == True'
-      - '"{{resource_prefix}}" in result.ansible_facts.ec2_elbs'
-
-# ============================================================
-# add all other instances to the LB
-
-- name: add other instances to the load balancer
-  ec2_elb:
-    ec2_elbs: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    instance_id: "{{ item }}"
-    state: present
-    wait_timeout: 300
-  with_items: "ec2_provision_result.instance_ids[1:]"
-  register: result
-
-- name: assert the other instances were added ok
-  assert:
-    that:
-      - 'item.changed == True'
-      - '"{{resource_prefix}}" in item.ansible_facts.ec2_elbs'
-  with_items: result.results
-
-# ============================================================
-# shutdown http first instance so it goes out of service
-
-- name: "shutdown the apache service on the first instance ({{ec2_provision_result.instances[0].public_ip}})"
-  service: name=httpd state=stopped
-  remote_user: "ec2-user"
-  become: yes
-  become_user: root
-  delegate_to: "{{ec2_provision_result.instances[0].public_ip}}"
-
-- name: assert that the httpd service was stopped
-  assert:
-    that:
-      - 'result.changed == True'
-
-- name: pause long enough for the instance to go out of service
-  pause: seconds=60
-
-# ============================================================
-# remove the out of service instance
-
-- name: remove the out of service instance
-  ec2_elb:
-    ec2_elbs: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    instance_id: "{{ ec2_provision_result.instance_ids[0] }}"
-    state: absent
-    wait_timeout: 300
-  register: result
-
-- name: assert that the out of service instance was removed
-  assert:
-    that:
-      - 'result.changed == True'
-      - '"{{resource_prefix}}" in result.ansible_facts.ec2_elbs'
-
-# ============================================================
-# remove another instance that is still in service
-
-- name: remove the second instance
-  ec2_elb:
-    ec2_elbs: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    instance_id: "{{ ec2_provision_result.instance_ids[1] }}"
-    state: absent
-    wait_timeout: 300
-  register: result
-
-- name: assert that the second instance was removed
-  assert:
-    that:
-      - 'result.changed == True'
-      - '"{{resource_prefix}}" in result.ansible_facts.ec2_elbs'
-
-# ============================================================
-# re-register the second instance (issue #4902)
-
-- name: re-register the second instance (issue #4902)
-  ec2_elb:
-    ec2_elbs: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    instance_id: "{{ ec2_provision_result.instance_ids[1] }}"
-    state: present
-    wait_timeout: 300
-  register: result
-
-- name: assert the instance was re-registered ok
-  assert:
-    that:
-      - 'result.changed == True'
-      - '"{{resource_prefix}}" in result.ansible_facts.ec2_elbs'
-
-# ============================================================
-# remove all other instances
-
-- name: remove the rest of the instances
-  ec2_elb:
-    ec2_elbs: "{{ resource_prefix }}"
-    ec2_access_key: "{{ ec2_access_key }}"
-    ec2_secret_key: "{{ ec2_secret_key }}"
-    region: "{{ ec2_region }}"
-    instance_id: "{{ item }}"
-    state: absent
-    wait_timeout: 300
-  with_items: "ec2_provision_result.instance_ids[1:]"
-  register: result
-
-- name: assert the other instances were removed
-  assert:
-    that:
-      - 'item.changed == True'
-      - '"{{resource_prefix}}" in item.ansible_facts.ec2_elbs'
-  with_items: result.results
diff --git a/test/legacy/roles/test_ec2_vpc_nat_gateway/tasks/main.yml b/test/legacy/roles/test_ec2_vpc_nat_gateway/tasks/main.yml
deleted file mode 100644
index f5ad5f50fc..0000000000
--- a/test/legacy/roles/test_ec2_vpc_nat_gateway/tasks/main.yml
+++ /dev/null
@@ -1,76 +0,0 @@
-- name: Launching NAT Gateway and allocate a new eip.
-  ec2_vpc_nat_gateway:
-    region: us-west-2
-    state: present
-    subnet_id: "{{ test_subnet_id }}"
-    wait: yes
-    wait_timeout: 600
-  register: nat
-
-- debug:
-    var: nat
-- fail:
-    msg: "Failed to create"
-  when: '"{{ nat["changed"] }}" != "True"'
-
-- name: Launch a new gateway only if one does not exist already in this subnet.
-  ec2_vpc_nat_gateway:
-    if_exist_do_not_create: yes
-    region: us-west-2
-    state: present
-    subnet_id: "{{ test_subnet_id }}"
-    wait: yes
-    wait_timeout: 600
-  register: nat_idempotent
-
-- debug:
-    var: nat_idempotent
-- fail:
-    msg: "Failed to be idempotent"
-  when: '"{{ nat_idempotent["changed"] }}" == "True"'
-
-- name: Launching NAT Gateway and allocate a new eip even if one already exists in the subnet.
-  ec2_vpc_nat_gateway:
-    region: us-west-2
-    state: present
-    subnet_id: "{{ test_subnet_id }}"
-    wait: yes
-    wait_timeout: 600
-  register: new_nat
-
-- debug:
-    var: new_nat
-- fail:
-    msg: "Failed to create"
-  when: '"{{ new_nat["changed"] }}" != "True"'
-
-- name: Launching NAT Gateway with allocation id, this call is idempotent and will not create anything.
-  ec2_vpc_nat_gateway:
-    allocation_id: eipalloc-1234567
-    region: us-west-2
-    state: present
-    subnet_id: "{{ test_subnet_id }}"
-    wait: yes
-    wait_timeout: 600
-  register: nat_with_eipalloc
-
-- debug:
-    var: nat_with_eipalloc
-- fail:
-    msg: 'Failed to be idempotent.'
-  when: '"{{ nat_with_eipalloc["changed"]  }}" == "True"'
-
-- name: Delete the 1st nat gateway and do not wait for it to finish
-  ec2_vpc_nat_gateway:
-    region: us-west-2
-    nat_gateway_id: "{{ nat.nat_gateway_id }}"
-    state: absent
-
-- name: Delete the nat_with_eipalloc and release the eip
-  ec2_vpc_nat_gateway:
-    region: us-west-2
-    nat_gateway_id: "{{ new_nat.nat_gateway_id }}"
-    release_eip: yes
-    state: absent
-    wait: yes
-    wait_timeout: 600
diff --git a/test/legacy/roles/test_ec2_vpc_nat_gateway/vars/main.yml b/test/legacy/roles/test_ec2_vpc_nat_gateway/vars/main.yml
deleted file mode 100644
index 8a3ccba716..0000000000
--- a/test/legacy/roles/test_ec2_vpc_nat_gateway/vars/main.yml
+++ /dev/null
@@ -1 +0,0 @@
-test_subnet_id: 'subnet-123456789'
diff --git a/test/legacy/roles/test_exoscale_dns/defaults/main.yml b/test/legacy/roles/test_exoscale_dns/defaults/main.yml
deleted file mode 100644
index a98c86904d..0000000000
--- a/test/legacy/roles/test_exoscale_dns/defaults/main.yml
+++ /dev/null
@@ -1,4 +0,0 @@
----
-exo_dns_domain_name: example.com
-exo_dns_record_name_web: web
-exo_dns_record_name_mx: mx
diff --git a/test/legacy/roles/test_exoscale_dns/tasks/main.yml b/test/legacy/roles/test_exoscale_dns/tasks/main.yml
deleted file mode 100644
index bf78ebad39..0000000000
--- a/test/legacy/roles/test_exoscale_dns/tasks/main.yml
+++ /dev/null
@@ -1,372 +0,0 @@
----
-- name: setup
-  local_action:
-    module: exo_dns_domain
-    name: "{{ exo_dns_domain_name }}"
-    state: absent
-  register: result
-- name: verify setup
-  assert:
-    that:
-    - result is successful
-
-- name: test fail if missing name
-  local_action:
-    module: exo_dns_domain
-  register: result
-  ignore_errors: true
-- name: verify results of fail if missing params
-  assert:
-    that:
-    - result is failed
-    - 'result.msg == "missing required arguments: name"'
-
-- name: test create a domain
-  local_action:
-    module: exo_dns_domain
-    name: "{{ exo_dns_domain_name }}"
-  register: result
-- name: verify results of test create a domain
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_domain.name == "{{ exo_dns_domain_name }}"'
-
-- name: test create a domain idempotence
-  local_action:
-    module: exo_dns_domain
-    name: "{{ exo_dns_domain_name }}"
-  register: result
-- name: verify results of test create a domain idempotence
-  assert:
-    that:
-    - result is not changed
-    - 'result.exo_dns_domain.name == "{{ exo_dns_domain_name }}"'
-
-- name: test fail if missing required params
-  local_action:
-    module: exo_dns_record
-  register: result
-  ignore_errors: true
-- name: verify results of test fail if missing required params
-  assert:
-    that:
-    - result is failed
-    - 'result.msg == "missing required arguments: domain"'
-
-- name: test fail if missing required params state=present
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: ""
-  register: result
-  ignore_errors: true
-- name: verify results of test fail if missing required params state=present
-  assert:
-    that:
-    - result is failed
-    - 'result.msg == "state is present but all of the following are missing: content"'
-
-- name: test create a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    content: 1.2.3.4
-  register: result
-- name: verify results of test create a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.4"'
-
-- name: test create a record idempotence
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    content: 1.2.3.4
-  register: result
-- name: verify results of test create a record
-  assert:
-    that:
-    - result is not changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.4"'
-
-- name: test update a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    content: 1.2.3.5
-    ttl: 7200
-  register: result
-- name: verify results of test update a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.5"'
-    - 'result.exo_dns_record.ttl == 7200'
-
-- name: test update a record idempotence
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    content: 1.2.3.5
-    ttl: 7200
-  register: result
-- name: verify results of test update a record idempotence
-  assert:
-    that:
-    - result is not changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.5"'
-    - 'result.exo_dns_record.ttl == 7200'
-
-- name: test delete a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    state: absent
-  register: result
-- name: verify results of test create a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.5"'
-    - 'result.exo_dns_record.ttl == 7200'
-
-- name: test delete a record idempotence
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    state: absent
-  register: result
-- name: verify results of test create a record idempotence
-  assert:
-    that:
-    - result is not changed
-
-- name: setup an existing MX record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    record_type: MX
-    name: ""
-    content: "mx2.{{ exo_dns_domain_name }}"
-    prio: 10
-  register: result
-- name: verify results of test create a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == ""'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "mx2.{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.prio == 10'
-
-- name: test create a MX record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    record_type: MX
-    name: ""
-    content: "mx1.{{ exo_dns_domain_name }}"
-    prio: 10
-  register: result
-- name: verify results of test create a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == ""'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "mx1.{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.prio == 10'
-
-- name: test update a MX record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    record_type: MX
-    name: ""
-    content: "mx1.{{ exo_dns_domain_name }}"
-    prio: 20
-  tags: foo
-  register: result
-- name: verify results of test create a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == ""'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "mx1.{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.prio == 20'
-  tags: foo
-
-- name: test delete a MX record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    record_type: MX
-    name: ""
-    content: "mx1.{{ exo_dns_domain_name }}"
-    state: absent
-  register: result
-- name: verify results of test delete a MX record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == ""'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "mx1.{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.prio == 20'
-
-- name: test delete a MX record idempotence
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    record_type: MX
-    name: ""
-    content: "mx1.{{ exo_dns_domain_name }}"
-    state: absent
-  register: result
-- name: verify results of test delete a MX record idempotence
-  assert:
-    that:
-    - result is not changed
-
-- name: test create first multiple a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    multiple: yes
-    content: 1.2.3.4
-  register: result
-- name: verify results of test create first multiple a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.4"'
-
-- name: test create another similar a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    multiple: yes
-    content: 1.2.3.5
-  register: result
-- name: verify results of test create another similar a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.5"'
-    - 'result.exo_dns_record.ttl == 3600'
-
-- name: test update another similar a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    multiple: yes
-    content: 1.2.3.5
-    ttl: 7200
-  register: result
-- name: verify results of test create another similar a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.5"'
-    - 'result.exo_dns_record.ttl == 7200'
-
-- name: test create first multiple a record idempotence
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    multiple: yes
-    content: 1.2.3.4
-  register: result
-- name: verify results of test create first multiple a record idempotence
-  assert:
-    that:
-    - result is not changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.4"'
-
-- name: test delete similar a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    multiple: yes
-    content: 1.2.3.5
-    state: absent
-  register: result
-- name: verify results of test delete similar a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.5"'
-
-- name: test delete first similar a record
-  local_action:
-    module: exo_dns_record
-    domain: "{{ exo_dns_domain_name }}"
-    name: "{{ exo_dns_record_name_web }}"
-    multiple: yes
-    content: 1.2.3.4
-    state: absent
-  register: result
-- name: verify results of test delete first similar a record
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_record.name == "{{ exo_dns_record_name_web }}"'
-    - 'result.exo_dns_record.domain == "{{ exo_dns_domain_name }}"'
-    - 'result.exo_dns_record.content == "1.2.3.4"'
-
-- name: test delete a domain
-  local_action:
-    module: exo_dns_domain
-    name: "{{ exo_dns_domain_name }}"
-    state: absent
-  register: result
-- name: verify results of test delete a domain
-  assert:
-    that:
-    - result is changed
-    - 'result.exo_dns_domain.name == "{{ exo_dns_domain_name }}"'
-
-- name: test delete a domain idempotence
-  local_action:
-    module: exo_dns_domain
-    name: "{{ exo_dns_domain_name }}"
-    state: absent
-  register: result
-- name: verify results of test delete a domain idempotence
-  assert:
-    that:
-    - result is not changed
diff --git a/test/legacy/roles/test_gcdns/defaults/main.yml b/test/legacy/roles/test_gcdns/defaults/main.yml
deleted file mode 100644
index 86270b5d67..0000000000
--- a/test/legacy/roles/test_gcdns/defaults/main.yml
+++ /dev/null
@@ -1,7 +0,0 @@
----
-# defaults file for test_gcdns
-dnszone_name: "{{ resource_prefix|lower }}.com."
-dnszone_id: "{{ resource_prefix|lower }}-com"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
diff --git a/test/legacy/roles/test_gcdns/tasks/main.yml b/test/legacy/roles/test_gcdns/tasks/main.yml
deleted file mode 100644
index 4a1b53507a..0000000000
--- a/test/legacy/roles/test_gcdns/tasks/main.yml
+++ /dev/null
@@ -1,471 +0,0 @@
-# gcdns Integration Test Playbook
-# ============================================================
-- name: Creating a zone without parameters
-  gcdns_zone:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-- name: Assert created a zone without parameters
-  assert:
-    that:
-       - 'result.changed == False'
-       - 'result.msg == "missing required arguments: zone"'
-# ============================================================
-- name: Creating a zone with a description
-  gcdns_zone:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    description: "This is an awesome zone"
-  register: result
-  tags:
-    - zone
-- name: Assert created a zone with a description
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.zone == "{{ dnszone_name }}"'
-       - 'result.description == "This is an awesome zone"'
-
-# ============================================================
-- name: Create an A record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "www1.{{ dnszone_name }}"
-    type: A
-    value: '1.2.3.4'
-  register: result
-  tags:
-    - A
-    - record
-- name: Assert creation of an A record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.ttl == 300'
-       - 'result.type == "A"'
-       - 'result.record == "www1.{{ dnszone_name }}"'
-       - 'result.record_data|length == 1'
-       - 'result.record_data[0] == "1.2.3.4"'
-
-# ============================================================
-- name: Overwrite an A record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "www1.{{ dnszone_name }}"
-    type: A
-    value: '5.6.7.8'
-    overwrite: true
-  register: result
-  tags:
-    - A
-    - record
-- name: Assert overwrite of an A record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.ttl == 300'
-       - 'result.type == "A"'
-       - 'result.record == "www1.{{ dnszone_name }}"'
-       - 'result.record_data|length == 1'
-       - 'result.record_data[0] == "5.6.7.8"'
-
-# ============================================================       
-- name: Create a CNAME record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone_id: "{{ dnszone_id }}"
-    record: "www2.{{ dnszone_name }}"
-    type: CNAME
-    value: "www.{{ dnszone_name }}"
-  register: result
-  tags:
-    - CNAME
-    - record
-- name: Assert creation of CNAME record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.type == "CNAME"'
-       - 'result.zone_id == "{{ dnszone_id }}"'
-       - 'result.record == "www2.{{ dnszone_name }}"'
-       - 'result.record_data[0] == "www.{{ dnszone_name }}"'
-
-# ============================================================    
-- name: Create an MX record with a custom TTL
-  gcdns_record:
-      service_account_email: "{{ service_account_email }}"
-      pem_file: "{{ pem_file }}"
-      project_id: "{{ project_id }}"
-      zone_id: "{{ dnszone_id }}"
-      record: "{{ dnszone_name }}"
-      type: MX
-      ttl: 3600
-      value: "10 mail.{{ dnszone_name }}"
-  register: result
-  tags:
-    - MX
-    - record
-- name: Assert creation of MX record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.type == "MX"'
-       - 'result.zone_id == "{{ dnszone_id }}"'
-       - 'result.record_data[0] == "10 mail.{{ dnszone_name }}"'
-
-# ============================================================    
-- name: Create multiple A records with the same name
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone_id: "{{ dnszone_id }}"
-    record: "{{ dnszone_name }}"
-    type: A
-    record_data:
-      - '192.0.2.23'
-      - '10.4.5.6'
-      - '198.51.100.5'
-      - '203.0.113.10'
-  register: result
-  tags:
-    - multi-A
-    - record
-- name: Assert creation of multiple A records with the same name
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.zone == "{{ dnszone_name }}"'
-       - 'result.record == "{{ dnszone_name }}"'
-       - 'result.record_data|length == 4'
-
-# ============================================================      
-- name: Change the value of an existing record with multiple values
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone_id: "{{ dnszone_id }}"
-    record: "{{ dnszone_name }}"
-    type: A
-    record_data:
-      - '192.0.2.23'
-      - '192.0.2.42'
-      - '198.51.100.5'
-      - '203.0.113.10'
-    overwrite: true
-  register: result
-  tags:
-    - multi-A
-    - record
-
-- name: Assert 
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.record_data|length == 4'
-
-# ============================================================    
-- name: Create an AAAA record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "www1.{{ dnszone_name }}"
-    type: AAAA
-    value: "fd00:db8::1"
-  register: result
-  tags:
-    - AAAA
-    - record
-- name: Assert creation of AAAA record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.type == "AAAA"'
-       - 'result.zone == "{{ dnszone_name }}"'
-       - 'result.zone_id == "{{ dnszone_id }}"'
-       - 'result.record == "www1.{{ dnszone_name }}"'
-       - 'result.record_data[0] == "fd00:db8::1"'
-
-# ============================================================    
-- name: Create a PTR record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "{{ dnszone_name }}"
-    type: PTR
-    value: "10.5.168.192.{{ dnszone_name }}arpa."
-  register: result
-  tags:
-    - PTR
-    - record
-- name: Assert creation of PTR record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.record_data[0] == "10.5.168.192.{{ dnszone_name }}arpa."'
-
-# ============================================================    
-- name: Create an NS record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "subdomain.{{ dnszone_name }}"
-    type: NS
-    ttl: 21600
-    record_data:
-      - 'ns-cloud-d1.googledomains.com.'
-      - 'ns-cloud-d2.googledomains.com.'
-      - 'ns-cloud-d3.googledomains.com.'
-      - 'ns-cloud-d4.googledomains.com.'
-  register: result
-  tags:
-    - NS
-    - record
-- name: Assert creation of NS record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.record_data|length == 4'
-       - 'result.ttl == 21600'
-       - 'result.type == "NS"'
-# ============================================================
-- name: Create a TXT record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone_id: "{{ dnszone_id }}"
-    record: "{{ dnszone_name }}"
-    type: TXT
-    record_data:
-      - '"v=spf1 include:_spf.google.com -all"'
-      - '"hello " "world"'
-  register: result
-  tags:
-    - TXT
-    - record
-- name: Assert creation of TXT record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.zone_id == "{{ dnszone_id }}"'
-       - 'result.record_data|length == 2'
-
-# ============================================================
-- name: Remove an A record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "www1.{{ dnszone_name }}"
-    type: A
-    value: "5.6.7.8"
-    state: absent
-  register: result
-  tags:
-    - A
-    - record
-- name: Assert removal of A record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-# ============================================================
-- name: Remove a CNAME record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone_id: "{{ dnszone_id }}"
-    record: "www2.{{ dnszone_name }}"
-    type: CNAME
-    value: "www.{{ dnszone_name }}"
-    state: absent
-  register: result
-  tags:
-    - CNAME
-    - record
-- name: Assert removal of CNAME record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-
-# ============================================================    
-- name: Remove an MX record with a custom TTL.
-  gcdns_record:
-      service_account_email: "{{ service_account_email }}"
-      pem_file: "{{ pem_file }}"
-      project_id: "{{ project_id }}"
-      zone_id: "{{ dnszone_id }}"
-      record: "{{ dnszone_name }}"
-      type: MX
-      ttl: 3600
-      value: "10 mail.{{ dnszone_name }}"
-      state: absent
-  register: result
-  tags:
-    - MX
-    - record
-- name: Assert removal of MX record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-
-# ============================================================        
-- name: Remove multiple A records with the same name.
-  gcdns_record:
-      service_account_email: "{{ service_account_email }}"
-      pem_file: "{{ pem_file }}"
-      project_id: "{{ project_id }}"
-      zone_id: "{{ dnszone_id }}"
-      record: "{{ dnszone_name }}"
-      type: A
-      record_data:
-        - '192.0.2.23'
-        - '192.0.2.42'
-        - '198.51.100.5'
-        - '203.0.113.10'
-      state: absent
-  register: result
-  tags:
-    - multi-A
-    - record
-- name: Assert 
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-
-
-# ============================================================    
-- name: Remove an AAAA record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    record: "www1.{{ dnszone_name }}"
-    zone: "{{ dnszone_name }}"
-    type: AAAA
-    value: 'fd00:db8::1'
-    state: absent
-  register: result
-  tags:
-    - AAAA
-    - record
-- name: Assert 
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-
-# ============================================================    
-- name: Remove a PTR record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    record: "{{ dnszone_name }}"
-    zone: "{{ dnszone_name }}"
-    type: PTR
-    value: "10.5.168.192.{{ dnszone_name }}arpa."
-    state: absent
-  register: result
-  tags:
-    - PTR
-    - record
-- name: Assert remove a PTR record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-
-# ============================================================    
-- name: Remove an NS record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    record: "subdomain.{{ dnszone_name }}"
-    type: NS
-    ttl: 21600
-    record_data:
-      - 'ns-cloud-d1.googledomains.com.'
-      - 'ns-cloud-d2.googledomains.com.'
-      - 'ns-cloud-d3.googledomains.com.'
-      - 'ns-cloud-d4.googledomains.com.'
-    state: absent
-  register: result
-  tags:
-    - NS
-    - record
-- name: Assert removal of NS record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-# ============================================================
-- name: Remove a TXT record
-  gcdns_record:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    record: '{{ dnszone_name }}'
-    zone_id: "{{ dnszone_id }}"
-    type: TXT
-    record_data:
-      - '"v=spf1 include:_spf.google.com -all"'
-      - '"hello " "world"'
-    state: absent
-  register: result
-  tags:
-    - TXT
-    - record
-- name: Assert removed  TXT record
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-       - 'result.record_data|length == 2'
-
-# ============================================================    
-- name: Remove the zone
-  gcdns_zone:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ dnszone_name }}"
-    state: absent
-  register: result
-  ignore_errors: true
-  tags:
-    - zone
-- name: Assert removal of zone
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
diff --git a/test/legacy/roles/test_gce/defaults/main.yml b/test/legacy/roles/test_gce/defaults/main.yml
deleted file mode 100644
index 1564808d79..0000000000
--- a/test/legacy/roles/test_gce/defaults/main.yml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-# defaults file for test_gce
-instance_name: "{{ resource_prefix|lower }}"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
diff --git a/test/legacy/roles/test_gce/tasks/main.yml b/test/legacy/roles/test_gce/tasks/main.yml
deleted file mode 100644
index 634026e0a6..0000000000
--- a/test/legacy/roles/test_gce/tasks/main.yml
+++ /dev/null
@@ -1,252 +0,0 @@
-# TODO: lots of attributes not covered: machine_type, zone, metadata, tags, etc.
-#
-# ============================================================
-- name: test with no parameters
-  gce:
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: assert failure when called with no parameters
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Must specify a \"name\" or \"instance_names\""'
-
-# ============================================================
-- name: test missing name
-  gce:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: assert failure when missing name
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Must specify a \"name\" or \"instance_names\""'
-
-# ============================================================
-- name: test state=present (expected changed=true)
-  gce:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert state=present (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test state=present (expected changed=false)
-  gce:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert state=present (expected changed=false)
-  assert:
-    that:
-       - 'not result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test state=absent (expected changed=true)
-  gce:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert state=absent (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test state=absent (expected changed=false)
-  gce:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert state=absent (expected changed=false)
-  assert:
-    that:
-       - 'not result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test num_instances state=present (expected changed=true)
-  gce:
-    base_name: "{{ instance_name }}"
-    num_instances: 2
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert state=present (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "present"'
-       - 'result.instance_data|length == 2'
-
-# ============================================================
-- name: test num_instances state=absent (expected changed=true)
-  gce:
-    base_name: "{{ instance_name }}"
-    num_instances: 2
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert num_instances state=absent (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
-       - 'result.instance_names == ["{{ instance_name }}-000", "{{ instance_name }}-001"]'
-
-# ============================================================
-- name: test disks given (expected changed=true)
-  gce:
-    name: "{{ instance_name }}"
-    disks:
-       - "{{ instance_name }}-base"
-       - "{{ instance_name }}-extra"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert disks given
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.instance_data[0].disks == ["{{ instance_name }}-base", "{{ instance_name }}-extra"]'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test disks given (expected changed=false)
-  gce:
-    name: "{{ instance_name }}"
-    disks:
-       - "{{ instance_name }}-base"
-       - "{{ instance_name }}-extra"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert disks given
-  assert:
-    that:
-       - 'not result.changed'
-       - 'result.instance_data[0].disks == ["{{ instance_name }}-base", "{{ instance_name }}-extra"]'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test disks in the wrong order
-  gce:
-    name: "{{ instance_name }}"
-    disks:
-       - "{{ instance_name }}-extra"
-       - "{{ instance_name }}-base"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  ignore_errors: true
-
-- name: assert disks in the wrong order
-  assert:
-    that:
-       - 'result.failed'
-       - '{{ result.msg is match("Disk at index 0 does not match:.*") }}'
-
-# ============================================================
-- name: test disks given with name and mode
-  gce:
-    name: "{{ instance_name }}"
-    disks:
-       - { name: "{{ instance_name }}-base", mode: "READ_WRITE" }
-       - { name: "{{ instance_name }}-extra", mode: "READ_ONLY" }
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: assert disks given
-  assert:
-    that:
-       - 'not result.changed'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test disks given with name and wrong mode
-  gce:
-    name: "{{ instance_name }}"
-    disks:
-       - { name: "{{ instance_name }}-base", mode: "READ_ONLY" }
-       - "{{ instance_name }}-extra"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  ignore_errors: true
-
-- name: assert disks given
-  assert:
-    that:
-       - 'result.failed'
-       - '{{ result.msg is match("Disk at index 0 is in the wrong mode:.*") }}'
-
-# ============================================================
-- name: test disks given, state absent (expected changed=true)
-  gce:
-    name: "{{ instance_name }}"
-    disks:
-       - "{{ instance_name }}-base"
-       - "{{ instance_name }}-extra"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert disks given, state absent (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.state == "absent"'
diff --git a/test/legacy/roles/test_gce_labels/defaults/main.yml b/test/legacy/roles/test_gce_labels/defaults/main.yml
deleted file mode 100644
index 70843951d5..0000000000
--- a/test/legacy/roles/test_gce_labels/defaults/main.yml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-# defaults file for test_gce_labels
-instance_name: "{{ resource_prefix|lower }}"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
-zone: "us-central1-f"
-machine_type: f1-micro
-image: debian-8
diff --git a/test/legacy/roles/test_gce_labels/tasks/main.yml b/test/legacy/roles/test_gce_labels/tasks/main.yml
deleted file mode 100644
index 3237c736c1..0000000000
--- a/test/legacy/roles/test_gce_labels/tasks/main.yml
+++ /dev/null
@@ -1,5 +0,0 @@
----
-# test role for gce_labels
-- include: setup.yml
-- include: test.yml
-- include: teardown.yml
diff --git a/test/legacy/roles/test_gce_labels/tasks/setup.yml b/test/legacy/roles/test_gce_labels/tasks/setup.yml
deleted file mode 100644
index f3eea843b6..0000000000
--- a/test/legacy/roles/test_gce_labels/tasks/setup.yml
+++ /dev/null
@@ -1,20 +0,0 @@
-# GCE Labels Setup.
-# ============================================================
-- name: "Create instance for executing gce_labels tests"
-  gce:
-    instance_names: "{{ instance_name }}"
-    machine_type: "{{ machine_type }}"
-    image: "{{ image }}"
-    zone: "{{ zone }}"
-    project_id: "{{ project_id }}"
-    pem_file: "{{ pem_file }}"
-    service_account_email: "{{ service_account_email }}"
-    state: present
-  register: result
-
-- name: assert VM created
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.instance_names[0] == "{{ instance_name }}"'
-      - 'result.state == "present"'
diff --git a/test/legacy/roles/test_gce_labels/tasks/teardown.yml b/test/legacy/roles/test_gce_labels/tasks/teardown.yml
deleted file mode 100644
index 1213680ec6..0000000000
--- a/test/legacy/roles/test_gce_labels/tasks/teardown.yml
+++ /dev/null
@@ -1,18 +0,0 @@
-# GCE Labels Teardown.
-# ============================================================
-- name: "Teardown instance used in gce_labels test"
-  gce:
-    instance_names: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    project_id: "{{ project_id }}"
-    pem_file: "{{ pem_file }}"
-    service_account_email: "{{ service_account_email }}"
-    state: absent
-  register: result
-
-- name: assert VM removed
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.instance_names[0] == "{{ instance_name }}"'
-      - 'result.state == "absent"'
diff --git a/test/legacy/roles/test_gce_labels/tasks/test.yml b/test/legacy/roles/test_gce_labels/tasks/test.yml
deleted file mode 100644
index 51ad09eafe..0000000000
--- a/test/legacy/roles/test_gce_labels/tasks/test.yml
+++ /dev/null
@@ -1,28 +0,0 @@
-# GCE Labels Integration Tests.
-
-## Parameter checking tests ##
-# ============================================================
-- name: "test unknown resource_type"
-  gce_labels:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    resource_type: doggie
-    resource_location: Kansas
-    resource_name: Toto
-    labels:
-      environment: dev
-      experiment: kennedy
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: unknown resource_type"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Unsupported resource_type: doggie"'
-
-
-# TODO(erjohnso): write more tests
diff --git a/test/legacy/roles/test_gce_mig/defaults/main.yml b/test/legacy/roles/test_gce_mig/defaults/main.yml
deleted file mode 100644
index fa20478af7..0000000000
--- a/test/legacy/roles/test_gce_mig/defaults/main.yml
+++ /dev/null
@@ -1,8 +0,0 @@
----
-# defaults file for test_gce_mig
-mig_name: "{{ resource_prefix|lower }}"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
-zone: "us-central1-c"
-instance_template_name: "my-instance-template-1"
diff --git a/test/legacy/roles/test_gce_mig/tasks/main.yml b/test/legacy/roles/test_gce_mig/tasks/main.yml
deleted file mode 100644
index ea54aebce8..0000000000
--- a/test/legacy/roles/test_gce_mig/tasks/main.yml
+++ /dev/null
@@ -1,232 +0,0 @@
-# GCE Managed Instance Group Integration Tests.
-# Note: 'pause' is used to ensure the instances are available
-# and the status checks are correct.  MIGs and their respective VMs
-# will still be created/updated/deleted without the use of the pause module.
-
-## Parameter checking tests ##
-# ============================================================
-- name: "test missing name"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when called without required params"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "missing required arguments: name,zone"'
-
-
-# ============================================================
-- name: "test missing param: size on creation"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: my-mig
-    zone: "{{ zone }}"
-    template: "{{ instance_template_name }}"
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: size not specified"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "size must be of type: <type ''int''>"'
-
-# ============================================================
-- name: "test missing param: template on creation"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: my-mig
-    zone: "{{ zone }}"
-    size: 1
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: template not specified"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "template must be of type: <type ''str''>"'
-
-# ============================================================
-- name: "test missing param: autoscaling.policy.max_instances"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: my-mig
-    zone: "{{ zone }}"
-    size: 1
-    autoscaling:
-      name: my-test-autoscaler
-      enabled: yes
-      policy:
-        min_instances: 7
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: max_instances not specified"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "max_instances is required and must be of type: <type ''int''>"'
-
-# ============================================================
-- name: "test missing param: autoscaling.policy"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: my-mig
-    zone: "{{ zone }}"
-    size: 1
-    autoscaling:
-      name: my-test-autoscaler
-      enabled: yes
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: policy not specified"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "policy is required and must be of type: <type ''dict''>"'
-
-## MIG allocation tests ##
-# ============================================================
-- name: "test create MIG (state==present)"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_name }}"
-    zone: "{{ zone }}"
-    state: present
-    size: 1
-    template: "{{ instance_template_name }}"
-  register: result
-
-- name: "assert MIG creation successful"
-  assert:
-    that:
-       - 'result.changed == True'
-       - 'result.created_instances|length == 1'
-       - 'result.size == 1'
-
-# ============================================================
-- name: "test create Autoscaler"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_name }}"
-    zone: "{{ zone }}"
-    state: present
-    autoscaling:
-      enabled: yes
-      name: "{{ mig_name }}"
-      policy:
-        min_instances: 1
-        max_instances: 3
-        cool_down_period: 17
-        cpu_utilization:
-          target: .19
-        load_balancing_utilization:
-          target: 0.2
-  register: result
-
-- name: "assert Autoscaler created"
-  assert:
-    that:
-       - 'result.changed == True'
-       - 'result.created_autoscaler == True'
-       - 'result.size == 1'
-       - 'result.autoscaling.policy.max_instances == 3'
-       - 'result.autoscaling.policy.cpu_utilization.target == 0.19'
-       - 'result.autoscaling.policy.load_balancing_utilization.target == 0.2'
-
-# ============================================================
-- pause: seconds=30
-# ============================================================
-- name: "test resize MIG (state==present)"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_name }}"
-    zone: "{{ zone }}"
-    state: present
-    size: 3
-    template: "{{ instance_template_name }}"
-  register: result
-
-- name: "assert MIG resize successful"
-  assert:
-    that:
-       - 'result.changed == True'
-       - 'result.resize_created_instances|length == 2'
-       - 'result.size == 3'
-# ============================================================
-- pause: seconds=30
-# ============================================================
-- name: "test recreate instances in MIG (state==present)"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_name }}"
-    zone: "{{ zone }}"
-    state: present
-    size: 3
-    recreate_instances: yes
-    template: "{{ instance_template_name }}"
-  register: result
-
-- name: "assert MIG recreate successful"
-  assert:
-    that:
-       - 'result.changed == True'
-       - 'result.recreated_instances|length == 3'
-       - 'result.size == 3'
-# ============================================================
-- pause: seconds=60
-# ============================================================
-- name: "test delete MIG and Autoscaler"
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_name }}"
-    zone: "{{ zone }}"
-    state: absent
-    autoscaling:
-      enabled: yes
-      name: "{{ mig_name }}"
-      policy:
-        max_instances: 3
-  register: result
-
-- name: "assert MIG and Autoscaler deleted"
-  assert:
-    that:
-       - 'result.changed == True'
-       - 'result.deleted_autoscaler == True'
-       - 'result.deleted_instances|length == 3'
diff --git a/test/legacy/roles/test_gce_net/defaults/main.yml b/test/legacy/roles/test_gce_net/defaults/main.yml
deleted file mode 100644
index bd7c007487..0000000000
--- a/test/legacy/roles/test_gce_net/defaults/main.yml
+++ /dev/null
@@ -1,11 +0,0 @@
----
-# defaults file for test_gce_net
-firewall_name: "{{ resource_prefix|lower }}-fwrule"
-network_name_auto: "{{ resource_prefix|lower }}-auto"
-network_name_custom: "{{ resource_prefix|lower }}-custom"
-network_name_legacy: "{{ resource_prefix|lower }}-legacy"
-subnetwork_name_custom: "{{ resource_prefix|lower }}-subnetwork-custom"
-subnetwork_region: "us-east1"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
diff --git a/test/legacy/roles/test_gce_net/tasks/main.yml b/test/legacy/roles/test_gce_net/tasks/main.yml
deleted file mode 100644
index e865481ae4..0000000000
--- a/test/legacy/roles/test_gce_net/tasks/main.yml
+++ /dev/null
@@ -1,217 +0,0 @@
-# gce_net Integration Test
-# Note: 'pause' is used during the Delete phase of the test.
-# This is to ensure that the subnetwork is removed before removing
-# the custom network.
-
-# ============================================================
-- name: test Create Legacy Network (change=true)
-  gce_net:
-    name: "{{ network_name_legacy }}"
-    ipv4_range: '10.240.17.0/24'
-    mode: legacy
-    state: "present"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert legacy network created"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-
-# ============================================================
-- name: test Create Auto Network (change=true)
-  gce_net:
-    name: "{{ network_name_auto }}"
-    mode: auto
-    state: "present"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert auto network created"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-
-# ============================================================
-- name: test Create Network with custom Subnetwork (change=true)
-  gce_net:
-    name: "{{ network_name_custom }}"
-    mode: custom
-    subnet_name: "{{ subnetwork_name_custom }}"
-    subnet_region: "{{ subnetwork_region }}"
-    ipv4_range: '10.240.16.0/24'
-    state: "present"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert subnetwork network created"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-
-# ============================================================
-- name: Create Firewall Rule (change=true)
-  gce_net:
-    name: default
-    fwname: "{{ firewall_name }}"
-    allowed: tcp:80
-    state: "present"
-    src_tags: "foo,bar"
-    src_range: ['10.2.1.1/32']
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert fw created"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-
-# ============================================================
-- name: Update Firewall Rule (change=true)
-  gce_net:
-    name: default
-    fwname: "{{ firewall_name }}"
-    allowed: tcp:81
-    state: "present"
-    src_tags: "foo,bar,baz"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert fw updated"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-      - 'result.src_tags|length == 3'
-
-# ============================================================
-- name: Update Firewall Rule w/icmp (no port) (change=true)
-  gce_net:
-    name: default
-    fwname: "{{ firewall_name }}"
-    allowed: tcp:81;icmp
-    state: "present"
-    src_tags: "foo,bar,baz"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert fw updated"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-      - 'result.src_tags|length == 3'
-
-# ============================================================
-- name: Update Firewall Rule w/source range (change=true)
-  gce_net:
-    name: default
-    fwname: "{{ firewall_name }}"
-    allowed: tcp:81
-    state: "present"
-    src_tags: "foo,bar,baz"
-    src_range: ['10.1.1.1/32']
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-
-- name: "assert fw updated source range"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "present"'
-      - 'result.src_range|length == 1'
-
-# ============================================================
-- name: Delete Legacy Network (change=true)
-  gce_net:
-    name: "{{ network_name_legacy }}"
-    state: "absent"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  tags: delete
-
-- name: "assert legacy network deleted"
-  tags: delete
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "absent"'
-# ============================================================
-- name: Delete auto Network (change=true)
-  gce_net:
-    name: "{{ network_name_auto }}"
-    state: "absent"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  tags: delete
-
-- name: "assert auto network deleted"
-  tags: delete
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "absent"'
-
-# ============================================================
-- name: Delete SubNetwork of Custom Network (change=true)
-  gce_net:
-    name: "{{ network_name_custom }}"
-    subnet_name: "{{ subnetwork_name_custom }}"
-    subnet_region: "{{ subnetwork_region }}"
-    state: "absent"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  tags: delete
-
-
-- name: "assert custom subnetwork deleted"
-  tags: delete
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "absent"'
-
-# ============================================================
-- pause: seconds=30
-
-# ============================================================
-- name: Delete Custom Network (change=true)
-  gce_net:
-    name: "{{ network_name_custom }}"
-    state: "absent"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  tags: delete
-
-- name: "assert custom network deleted"
-  tags: delete
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "absent"'
diff --git a/test/legacy/roles/test_gce_pd/defaults/main.yml b/test/legacy/roles/test_gce_pd/defaults/main.yml
deleted file mode 100644
index 1564808d79..0000000000
--- a/test/legacy/roles/test_gce_pd/defaults/main.yml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-# defaults file for test_gce
-instance_name: "{{ resource_prefix|lower }}"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
diff --git a/test/legacy/roles/test_gce_pd/tasks/main.yml b/test/legacy/roles/test_gce_pd/tasks/main.yml
deleted file mode 100644
index 4341586bf3..0000000000
--- a/test/legacy/roles/test_gce_pd/tasks/main.yml
+++ /dev/null
@@ -1,219 +0,0 @@
-# TODO: need tests for read/write mode.
-
-# ============================================================
-- name: test missing name
-  gce_pd:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-  register: result
-  ignore_errors: true
-
-- name: assert failure when called with no parameters
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "missing required arguments: name"'
-
-# ============================================================
-- name: test state=present (expected changed=true)
-  gce_pd:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert state=present (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.size_gb == 10'  # default size
-       - 'result.zone == "us-central1-b"'  # default zone
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test state=present (expected changed=false)
-  gce_pd:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert state=present (expected changed=false)
-  assert:
-    that:
-       - 'not result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test state=absent (expected changed=true)
-  gce_pd:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert state=absent (expected changed=true)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test state=absent (expected changed=false)
-  gce_pd:
-    name: "{{ instance_name }}"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert state=absent (expected changed=false)
-  assert:
-    that:
-       - 'not result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test non-default size/zone
-  gce_pd:
-    name: "{{ instance_name }}"
-    size_gb: 5
-    zone: us-central1-a
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert non-default size/zone
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.size_gb == 5'
-       - 'result.zone == "us-central1-a"'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test non-default size/zone (state=absent)
-  gce_pd:
-    name: "{{ instance_name }}"
-    size_gb: 5
-    zone: us-central1-a
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert non-default size/zone (state=absent)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test image given (state=present)
-  gce_pd:
-    name: "{{ instance_name }}"
-    image: debian-7
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert image given (state=present)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.image == "debian-7"'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test image given (state=absent)
-  gce_pd:
-    name: "{{ instance_name }}"
-    image: debian-7
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert image given (state=absent)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test snapshot given (state=present)
-  gce_pd:
-    name: "{{ instance_name }}"
-    snapshot: "{{ instance_name }}-snapshot"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-
-- name: assert image given (state=present)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.snapshot == "{{ instance_name }}-snapshot"'
-       - 'result.state == "present"'
-
-# ============================================================
-- name: test snapshot given (state=absent)
-  gce_pd:
-    name: "{{ instance_name }}"
-    snapshot: "{{ instance_name }}-snapshot"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: absent
-  register: result
-
-- name: assert image given (state=absent)
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.name == "{{ instance_name }}"'
-       - 'result.state == "absent"'
-
-# ============================================================
-- name: test both image and snapshot given
-  gce_pd:
-    name: "{{ instance_name }}"
-    image: "debian-7"
-    snapshot: "{{ instance_name }}-snapshot"
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    state: present
-  register: result
-  ignore_errors: true
-
-- name: assert image given (state=present)
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Cannot give both image (debian-7) and snapshot ({{ instance_name }}-snapshot)"'
diff --git a/test/legacy/roles/test_gce_tag/defaults/main.yml b/test/legacy/roles/test_gce_tag/defaults/main.yml
deleted file mode 100644
index 275fa02946..0000000000
--- a/test/legacy/roles/test_gce_tag/defaults/main.yml
+++ /dev/null
@@ -1,9 +0,0 @@
----
-# defaults file for test_gce_tags
-instance_name: "{{ resource_prefix|lower }}"
-service_account_email: "{{ gce_service_account_email }}"
-pem_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
-zone: "us-central1-c"
-machine_type: f1-micro
-image: debian-8
diff --git a/test/legacy/roles/test_gce_tag/tasks/main.yml b/test/legacy/roles/test_gce_tag/tasks/main.yml
deleted file mode 100644
index eb3e905d4d..0000000000
--- a/test/legacy/roles/test_gce_tag/tasks/main.yml
+++ /dev/null
@@ -1,5 +0,0 @@
----
-# test role for gce_tag
-- include: setup.yml
-- include: test.yml
-- include: teardown.yml
\ No newline at end of file
diff --git a/test/legacy/roles/test_gce_tag/tasks/setup.yml b/test/legacy/roles/test_gce_tag/tasks/setup.yml
deleted file mode 100644
index 345dbce2d9..0000000000
--- a/test/legacy/roles/test_gce_tag/tasks/setup.yml
+++ /dev/null
@@ -1,20 +0,0 @@
-# GCE Tag Setup.
-# ============================================================
-- name: "Create instance for executing gce_tag tests"
-  gce:
-    instance_names: "{{ instance_name }}"
-    machine_type: "{{ machine_type }}"
-    image: "{{ image }}"
-    zone: "{{ zone }}"
-    project_id: "{{ project_id }}"
-    pem_file: "{{ pem_file }}"
-    service_account_email: "{{ service_account_email }}"
-    state: present
-  register: result
-
-- name: assert VM created
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.instance_names[0] == "{{ instance_name }}"'
-      - 'result.state == "present"'
diff --git a/test/legacy/roles/test_gce_tag/tasks/teardown.yml b/test/legacy/roles/test_gce_tag/tasks/teardown.yml
deleted file mode 100644
index 5f47a82b7d..0000000000
--- a/test/legacy/roles/test_gce_tag/tasks/teardown.yml
+++ /dev/null
@@ -1,18 +0,0 @@
-# GCE Tag Teardown.
-# ============================================================
-- name: "Teardown instance used in gce_tag test"
-  gce:
-    instance_names: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    project_id: "{{ project_id }}"
-    pem_file: "{{ pem_file }}"
-    service_account_email: "{{ service_account_email }}"
-    state: absent
-  register: result
-
-- name: assert VM removed
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.instance_names[0] == "{{ instance_name }}"'
-      - 'result.state == "absent"'
diff --git a/test/legacy/roles/test_gce_tag/tasks/test.yml b/test/legacy/roles/test_gce_tag/tasks/test.yml
deleted file mode 100644
index 09b6a73167..0000000000
--- a/test/legacy/roles/test_gce_tag/tasks/test.yml
+++ /dev/null
@@ -1,213 +0,0 @@
-# GCE Tag Integration Tests.
-
-## Parameter checking tests ##
-# ============================================================
-- name: "test missing param: instance_name or instance_pattern"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    tags: foo,bar
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: instance_name missing"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "one of the following is required: instance_name,instance_pattern"'
-
-
-# ============================================================
-- name: "test missing param: tags"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ zone }}"
-    instance_name: "{{ instance_name }}"
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when param: tags missing"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "missing required arguments: tags"'
-
-# ============================================================
-- name: "test bad regex: instance_pattern"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    zone: "{{ zone }}"
-    tags: foo,bar
-    instance_pattern: "&23424--["
-  register: result
-  ignore_errors: true
-  tags:
-    - param-check
-
-- name: "assert failure when instance_pattern is invalid"
-  assert:
-    that:
-       - 'result.failed'
-       - 'result.msg == "Regex error for pattern &23424--[: unexpected end of regular expression"'
-
-## Non-existent instance tests ##
-# # ============================================================
-- name: "test tag non-existent instance (state==present)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_name: "blahblahblah123"
-    zone: "{{ zone }}"
-    state: present
-    tags: foo,bar
-  register: result
-  ignore_errors: true
-
-- name: "assert tag failed"
-  assert:
-    that:
-       - 'result.failed'
-
-# # ============================================================
-- name: "test tag non-existent instance (state==absent)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_name: "blahblahblah123"
-    zone: "{{ zone }}"
-    state: absent
-    tags: foo,bar
-  register: result
-  ignore_errors: true
-
-- name: "assert tag failed"
-  assert:
-    that:
-       - 'result.failed'
-       
-## tagging tests ##
-# # ============================================================
-- name: "test tags added (state==present)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_name: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    tags: foo,bar
-    state: present
-  register: result
-
-- name: "assert tag successful"
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.tags|length == 2'
-       - 'result.tags == ["foo", "bar"]'
-       
-# # ============================================================
-- name: "add existing tags, no change (state==present)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_name: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    tags: foo,bar
-    state: present
-  register: result
-
-- name: "assert tag successful"
-  assert:
-    that:
-       - 'result.changed == False'
-       - 'result.tags == None'
-
-# # ============================================================
-- name: "add tags using pattern (state==present)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_pattern: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    tags: instance-pattern-test
-    state: present
-  register: result
-
-- name: "assert tag using pattern successful"
-  assert:
-    that:
-       - 'result.changed == True'
-       - 'result.tags == ["instance-pattern-test"]'
-       - 'result.instances_updated[0].instance_name == "{{ instance_name }}"'
-       - 'result.instances_updated[0].tags_changed[0] == "instance-pattern-test"'
-
-# # ============================================================
-- name: "add existing tags with pattern, no change (state==present)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_pattern: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    tags: instance-pattern-test
-    state: present
-  register: result
-
-- name: "assert tag with pattern no change"
-  assert:
-    that:
-       - 'result.changed == False'
-       - 'result.tags == None'
-       - 'result.instances_updated|length == 0'
-
-# # ============================================================
-- name: "test tags removed from instance (state==absent)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_name: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    tags: foo,bar
-    state: absent
-  register: result
-
-- name: "assert tags removed"
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.tags == ["foo", "bar"]'
-
-
-# # ============================================================
-- name: "test tags removed with instance_pattern (state==absent)"
-  gce_tag:
-    service_account_email: "{{ service_account_email }}"
-    pem_file: "{{ pem_file }}"
-    project_id: "{{ project_id }}"
-    instance_pattern: "{{ instance_name }}"
-    zone: "{{ zone }}"
-    tags: instance-pattern-test
-    state: absent
-  register: result
-
-- name: "assert tags removed with instance_pattern"
-  assert:
-    that:
-       - 'result.changed'
-       - 'result.tags == ["instance-pattern-test"]'
-       - 'result.instances_updated[0].instance_name == "{{ instance_name }}"'
-       - 'result.instances_updated[0].tags_changed[0] == "instance-pattern-test"'
diff --git a/test/legacy/roles/test_gcp_glb/defaults/main.yml b/test/legacy/roles/test_gcp_glb/defaults/main.yml
deleted file mode 100644
index 292a917dcf..0000000000
--- a/test/legacy/roles/test_gcp_glb/defaults/main.yml
+++ /dev/null
@@ -1,18 +0,0 @@
----
-# defaults file for test_gcp_glb
-service_account_email: "{{ gce_service_account_email }}"
-credentials_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
-mig_one: ans-int-{{ resource_prefix|lower }}-mig-east
-mig_two: ans-int-{{ resource_prefix|lower }}-mig-west
-mig_one_zone: us-east1-c
-mig_two_zone: us-west1-b
-http_port_name: ans-int-{{ resource_prefix|lower }}-httpport
-http_port: 80
-bes: ans-int-{{ resource_prefix|lower }}-bes
-bes_healthcheck: ans-int-{{ resource_prefix|lower }}-bes-healthcheck
-urlmap: ans-int-{{ resource_prefix|lower }}-urlmap
-targethttpproxy: ans-int-{{ resource_prefix|lower }}-targethttproxy
-instance_template: ans-int-{{ resource_prefix|lower }}-template
-external_address_name: ans-int-{{ resource_prefix|lower }}-address
-gfr: ans-int-{{ resource_prefix|lower }}-gfr
\ No newline at end of file
diff --git a/test/legacy/roles/test_gcp_glb/tasks/main.yml b/test/legacy/roles/test_gcp_glb/tasks/main.yml
deleted file mode 100644
index 422f586cd8..0000000000
--- a/test/legacy/roles/test_gcp_glb/tasks/main.yml
+++ /dev/null
@@ -1,6 +0,0 @@
-# main driver for Cross Region HTTP load balancer test
-# this integration test uses multiple modules to create
-# the HTTP load balancer, then tears it down.
-- include: test.yml
-- pause: seconds=10
-- include: teardown.yml
\ No newline at end of file
diff --git a/test/legacy/roles/test_gcp_glb/tasks/teardown.yml b/test/legacy/roles/test_gcp_glb/tasks/teardown.yml
deleted file mode 100644
index 1ab987f98b..0000000000
--- a/test/legacy/roles/test_gcp_glb/tasks/teardown.yml
+++ /dev/null
@@ -1,172 +0,0 @@
-# ============================================================
-- name: Delete Global Forwarding Rule
-# ============================================================
-  gcp_forwarding_rule:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    forwarding_rule_name: "{{ gfr }}"
-    target: "{{ targethttpproxy }}"
-    address: "{{ external_address_name }}"
-    port_range: 80
-    region: global
-    state: "absent"
-  register: result
-  ignore_errors: true
-- name: "assert gfr absent"
-  assert:
-    that:
-      - 'result.state == "absent"'
-- pause: seconds=5
-# ============================================================
-- name: Delete Static Address
-# ============================================================
-  gce_eip:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ external_address_name }}"
-    region: global
-    state: "absent"
-  register: result
-  ignore_errors: true
-- name: "assert static address absent"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "absent"'
-
-# ============================================================
-- name: Delete TargetHTTPProxy
-# ============================================================
-  gcp_target_proxy:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    target_proxy_name: "{{ targethttpproxy }}"
-    target_proxy_type: "HTTP"
-    url_map_name: "{{ urlmap }}"
-    state: "absent"
-  register: result
-  ignore_errors: true
-- name: "assert targethttpproxy absent"
-  assert:
-    that:
-      - 'result.changed'
-      - 'result.state == "absent"'
-- pause: seconds=5
-# ============================================================
-- name: Delete URLMap
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "{{ bes }}"
-    state: "absent"
-  register: result
-  ignore_errors: true
-- name: "assert urlmap absent"
-  assert:
-    that:
-      - 'result.state == "absent"'
-- pause: seconds=10
-# ============================================================
-- name: Delete BES
-# ============================================================
-  gcp_backend_service:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    backend_service_name: "{{ bes }}"
-    backends:
-      - instance_group: "{{ mig_one }}"
-      - instance_group: "{{ mig_two }}"
-    healthchecks:
-      - "{{ bes_healthcheck }}"
-    port_name: "{{ http_port_name }}"
-    protocol: HTTP
-    timeout: 60
-    state: "absent"
-  register: result
-- name: "assert backend service absent"
-  assert:
-    that:
-      # - 'result.changed'
-      - 'result.state == "absent"'
-# ============================================================
-- name: Delete Healthcheck
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ bes_healthcheck }}"
-    healthcheck_type: "HTTP"
-    state: "absent"
-- name: "assert healthcheck absent"
-  assert:
-    that:
-      - 'result.state == "absent"'
-# ============================================================
-- name: Delete MIG one
-# ============================================================
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_one }}"
-    zone: "{{ mig_one_zone }}"
-    state: "absent"
-    size: 1
-    template: "{{ instance_template }}"
-    named_ports:
-      - name: "{{ http_port_name }}"
-        port: "{{ http_port }}"
-    autoscaling:
-      enabled: yes
-      name: "{{ mig_one }}"
-      policy:
-        min_instances: 2
-        max_instances: 10
-        cool_down_period: 30
-        cpu_utilization:
-          target: 0.02
-# ============================================================
-- name: Delete MIG two
-# ============================================================
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_two }}"
-    zone: "{{ mig_two_zone }}"
-    state: "absent"
-    size: 1
-    template: "{{ instance_template }}"
-    named_ports:
-      - name: "{{ http_port_name }}"
-        port: "{{ http_port }}"
-    autoscaling:
-      enabled: yes
-      name: "{{ mig_two }}"
-      policy:
-        min_instances: 2
-        max_instances: 10
-        cool_down_period: 30
-        cpu_utilization:
-          target: 0.02
-- pause: seconds=30
-# ============================================================
-- name: Delete Instance template
-# ============================================================
-  gce_instance_template:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ instance_template }}"
-    image: rhel-7-v20170426
-    state: "absent"
-    tags:
-      - http-server
diff --git a/test/legacy/roles/test_gcp_glb/tasks/test.yml b/test/legacy/roles/test_gcp_glb/tasks/test.yml
deleted file mode 100644
index b0733a8a7d..0000000000
--- a/test/legacy/roles/test_gcp_glb/tasks/test.yml
+++ /dev/null
@@ -1,172 +0,0 @@
-# GCP Cross Region Load Balancer integration test
-# https://cloud.google.com/compute/docs/load-balancing/http/cross-region-example
-######
-# ============================================================
-- name: Create Instance template
-# ============================================================
-  gce_instance_template:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ instance_template }}"
-    image: rhel-7-v20170426
-    state: "present"
-    tags:
-      - http-server
-    metadata: 
-      startup-script: |
-        #!/bin/bash
-        yum install -y httpd curl
-        systemctl start httpd
-        zone=$(curl -sv -H "Metadata-flavor: Google" http://metadata/computeMetadata/v1/instance/zone)
-        host=$(curl -sv -H "Metadata-flavor: Google" http://metadata/computeMetadata/v1/instance/name)
-        echo "${host}-${zone}" > /var/www/html/index.html
-# ============================================================
-- name: Create MIG one
-# ============================================================
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_one }}"
-    zone: "{{ mig_one_zone }}"
-    state: "present"
-    size: 1
-    autoscaling:
-      enabled: yes
-      name: "{{ mig_one }}"
-      policy:
-        min_instances: 1
-        max_instances: 3
-        cool_down_period: 60
-        cpu_utilization:
-          target: 0.6
-    template: "{{ instance_template }}"
-    named_ports:
-      - name: "{{ http_port_name }}"
-        port: "{{ http_port }}"
-# ============================================================
-- name: Create MIG two
-# ============================================================
-  gce_mig:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ mig_two }}"
-    zone: "{{ mig_two_zone }}"
-    state: "present"
-    size: 1
-    autoscaling:
-      enabled: yes
-      name: "{{ mig_two }}"
-      policy:
-        min_instances: 1
-        max_instances: 3
-        cool_down_period: 60
-        cpu_utilization:
-          target: 0.6
-    template: "{{ instance_template }}"
-    named_ports:
-      - name: "{{ http_port_name }}"
-        port: "{{ http_port }}"
-# ============================================================
-- name: Create Healthcheck
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ bes_healthcheck }}"
-    healthcheck_type: "HTTP"
-    state: "present"
-# ============================================================
-- name: Create Backend Service
-# ============================================================
-  gcp_backend_service:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    backend_service_name: "{{ bes }}"
-    backends:
-      - instance_group: "{{ mig_one }}"
-        balancing_mode: RATE
-        max_rate_per_instance: 10.00
-      - instance_group: "{{ mig_two }}"
-    healthchecks:
-      - "{{ bes_healthcheck }}"
-    port_name: "{{ http_port_name }}"
-    protocol: HTTP
-    timeout: 60
-    state: "present"
-  register: result
-- name: "assert backend service present"
-  assert:
-    that:
-      - 'result.state == "present"'
-# ============================================================
-- name: Create URLMap
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "{{ bes }}"
-    state: "present"
-  register: result
-- name: "assert urlmap present"
-  assert:
-    that:
-      - 'result.state == "present"'
-- pause: seconds=10
-# ============================================================
-- name: Create TargetHTTPProxy
-# ============================================================
-  gcp_target_proxy:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    target_proxy_name: "{{ targethttpproxy }}"
-    target_proxy_type: "HTTP"
-    url_map_name: "{{ urlmap }}"
-    state: "present"
-  register: result
-- name: "assert targethttpproxy present"
-  assert:
-    that:
-      - 'result.state == "present"'
-
-# ============================================================
-- name: Create Static Address
-# ============================================================
-  gce_eip:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    name: "{{ external_address_name }}"
-    region: global
-    state: "present"
-  register: result
-- name: "assert static address present"
-  assert:
-    that:
-      - 'result.state == "present"'
-
-# ============================================================
-- name: Create Global Forwarding Rule
-# ============================================================
-  gcp_forwarding_rule:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    forwarding_rule_name: "{{ gfr }}"
-    region: global
-    target: "{{ targethttpproxy }}"
-    address: "{{ external_address_name }}"
-    port_range: 80
-    state: "present"
-  register: result
-- name: "assert gfr present"
-  assert:
-    that:
-      - 'result.state == "present"'
diff --git a/test/legacy/roles/test_gcp_healthcheck/defaults/main.yml b/test/legacy/roles/test_gcp_healthcheck/defaults/main.yml
deleted file mode 100644
index a993cf43ea..0000000000
--- a/test/legacy/roles/test_gcp_healthcheck/defaults/main.yml
+++ /dev/null
@@ -1,7 +0,0 @@
----
-# defaults file for test_gcp_healthcheck
-service_account_email: "{{ gce_service_account_email }}"
-credentials_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
-http_healthcheck: "ans-int-healthcheck-http-{{ resource_prefix|lower }}"
-https_healthcheck: "ans-int-healthcheck-https-{{ resource_prefix|lower }}"
\ No newline at end of file
diff --git a/test/legacy/roles/test_gcp_healthcheck/tasks/main.yml b/test/legacy/roles/test_gcp_healthcheck/tasks/main.yml
deleted file mode 100644
index cb3d4416d0..0000000000
--- a/test/legacy/roles/test_gcp_healthcheck/tasks/main.yml
+++ /dev/null
@@ -1,176 +0,0 @@
-# GCP Healthcheck Integration Tests.
-######
-# ============================================================
-- name: param check
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ http_healthcheck }}"
-    healthcheck_type: HTTP
-    host_header: my-host
-    request_path: /hc
-    check_interval: 10
-    timeout: 30
-    unhealthy_threshold: 2
-    healthy_threshold: 1
-    state: present
-  ignore_errors: True
-  register: result
-- name: check interval
-  assert:
-    that:
-      'result.msg == "timeout (30) is greater than check_interval (10)"'
-# ============================================================
-- name: create "{{ http_healthcheck }}"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ http_healthcheck }}"
-    healthcheck_type: HTTP
-    host_header: my-host
-    request_path: /hc
-    check_interval: 5
-    timeout: 5
-    unhealthy_threshold: 2
-    healthy_threshold: 1
-    state: present
-  register: result
-- name: assert create
-  assert:
-    that:
-      - 'result.state == "present"'
-      - 'result.changed'
-# ============================================================
-- name: "update {{ http_healthcheck }}, no change"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ http_healthcheck }}"
-    healthcheck_type: HTTP
-    host_header: my-host
-    request_path: /hc
-    check_interval: 5
-    timeout: 5
-    unhealthy_threshold: 2
-    healthy_threshold: 1
-    state: present
-  register: result
-- name: assert update no change
-  assert:
-    that:
-      - 'result.state == "present"'
-      - 'not result.changed'
-      - 'result.port == 80'
-# ============================================================
-- name: create minimum "{{ https_healthcheck }}"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ https_healthcheck }}"
-    healthcheck_type: HTTPS
-    state: present
-  register: result
-- name: assert create
-  assert:
-    that:
-      - 'result.state == "present"'
-      - 'result.changed'
-# ============================================================
-- name: "update {{ https_healthcheck }}, no change"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ https_healthcheck }}"
-    healthcheck_type: HTTPS
-    state: present
-  register: result
-- name: assert not updated
-  assert:
-    that:
-      - 'result.state == "present"'
-      - 'result.port == 443'
-      - 'not result.changed'
-# ============================================================
-- name: update "{{ https_healthcheck }}"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ https_healthcheck }}"
-    healthcheck_type: HTTPS
-    host_header: my-host
-    request_path: /hc
-    check_interval: 5
-    timeout: 5
-    unhealthy_threshold: 2
-    healthy_threshold: 1
-    port: 444
-    state: present
-  register: result
-- name: assert update "{{ https_healthcheck }}"
-  assert:
-    that:
-      - 'result.state == "present"'
-      - 'result.changed'
-      - 'result.port == 444'
-# ============================================================
-- pause: seconds=5
-# ============================================================
-- name: delete "{{ http_healthcheck }}"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ http_healthcheck }}"
-    healthcheck_type: HTTP
-    host_header: my-host
-    request_path: /hc
-    check_interval: 5
-    timeout: 5
-    unhealthy_threshold: 2
-    healthy_threshold: 1
-    state: absent
-  register: result
-  tags:
-    - delete
-- name: assert absent
-  assert:
-    that:
-      - 'result.state == "absent"'
-      - 'result.changed'
-# ============================================================
-- name: delete "{{ https_healthcheck }}"
-# ============================================================
-  gcp_healthcheck:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    healthcheck_name: "{{ https_healthcheck }}"
-    healthcheck_type: HTTPS
-    host_header: my-host
-    request_path: /hc
-    check_interval: 5
-    timeout: 5
-    unhealthy_threshold: 2
-    healthy_threshold: 1
-    state: absent
-  register: result
-  tags:
-    - delete
-- name: assert absent
-  assert:
-    that:
-      - 'result.state == "absent"'
-      - 'result.changed'
diff --git a/test/legacy/roles/test_gcp_url_map/defaults/main.yml b/test/legacy/roles/test_gcp_url_map/defaults/main.yml
deleted file mode 100644
index ce48baab5d..0000000000
--- a/test/legacy/roles/test_gcp_url_map/defaults/main.yml
+++ /dev/null
@@ -1,6 +0,0 @@
----
-# defaults file for test_gcp_url_map
-service_account_email: "{{ gce_service_account_email }}"
-credentials_file: "{{ gce_pem_file }}"
-project_id: "{{ gce_project_id }}"
-urlmap: "ans-int-urlmap-{{ resource_prefix|lower }}"
\ No newline at end of file
diff --git a/test/legacy/roles/test_gcp_url_map/tasks/main.yml b/test/legacy/roles/test_gcp_url_map/tasks/main.yml
deleted file mode 100644
index 53c31dc39d..0000000000
--- a/test/legacy/roles/test_gcp_url_map/tasks/main.yml
+++ /dev/null
@@ -1,178 +0,0 @@
-# GCP UrlMap Integration Tests.
-# Only parameter tests are currently done in this file as this module requires
-# a significant amount of infrastructure.
-######
-# ============================================================
-- name: "Create UrlMap with no default service (changed == False)"
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    host_rules:
-      - hosts:
-          - '*.'
-        path_matcher: 'path-matcher-one'
-    state: "present"
-  register: result
-  ignore_errors: True
-  tags:
-    - param-check
-- name: "assert urlmap no default service (msg error ignored, changed==False)"
-  assert:
-    that:
-      - 'not result.changed'
-      - 'result.msg == "missing required arguments: default_service"'
-
-# ============================================================
-- name: "Create UrlMap with no pathmatcher (changed == False)"
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "gfr2-bes"
-    host_rules:
-      - hosts:
-          - '*.'
-        path_matcher: 'path-matcher-one'
-    state: "present"
-  register: result
-  ignore_errors: True
-  tags:
-    - param-check
-- name: "assert urlmap no path_matcher (msg error ignored, changed==False)"
-  assert:
-    that:
-      - 'not result.changed'
-      - 'result.msg == "parameters are required together: [''path_matchers'', ''host_rules'']"'
-
-# ============================================================
-- name: "Create UrlMap with no hostrules (changed == False)"
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "gfr2-bes"
-    path_matchers:
-      - name: 'path-matcher-one'
-        description: 'path matcher one'
-        default_service: 'gfr-bes'
-        path_rules:
-          - service: 'gfr2-bes'
-            paths:
-              - '/data'
-              - '/aboutus'
-    state: "present"
-  tags:
-    - param-check
-  register: result
-  ignore_errors: True
-- name: "assert no host_rules (msg error ignored, changed==False)"
-  assert:
-    that:
-      - 'not result.changed'
-      - 'result.msg == "parameters are required together: [''path_matchers'', ''host_rules'']"'
-
-# ============================================================
-- name: "Update UrlMap with non-absolute paths (changed==False)"
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "gfr2-bes"
-    path_matchers:
-      - name: 'path-matcher-one'
-        description: 'path matcher one'
-        default_service: 'gfr-bes'
-        path_rules:
-          - service: 'gfr2-bes'
-            paths:
-              - 'data'
-              - 'aboutus'
-    host_rules:
-      - hosts:
-          - '*.'
-        path_matcher: 'path-matcher-one'
-    state: "present"
-  tags:
-    - param-check
-  ignore_errors: True
-  register: result
-- name: "assert path error updated (changed==False)"
-  assert:
-    that:
-      - 'not result.changed'
-      - 'result.msg == "path for path-matcher-one must start with /"'
-
-# ============================================================
-- name: "Update UrlMap with invalid wildcard host (changed==False)"
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "gfr2-bes"
-    path_matchers:
-      - name: 'path-matcher-one'
-        description: 'path matcher one'
-        default_service: 'gfr-bes'
-        path_rules:
-          - service: 'gfr2-bes'
-            paths:
-              - '/data'
-              - '/aboutus'
-    host_rules:
-      - hosts:
-          - 'foobar*'
-        path_matcher: 'path-matcher-one'
-    state: "present"
-  tags:
-    - param-check
-  ignore_errors: True
-  register: result
-- name: "assert host wildcard error (error msg ignored, changed==False)"
-  assert:
-    that:
-      - 'not result.changed'
-      - 'result.msg == "wildcard must be first char in host, foobar*"'
-
-# ============================================================
-- name: "Update UrlMap with invalid wildcard host second char (changed==False)"
-# ============================================================
-  gcp_url_map:
-    service_account_email: "{{ service_account_email }}"
-    credentials_file: "{{ credentials_file }}"
-    project_id: "{{ project_id }}"
-    url_map_name: "{{ urlmap }}"
-    default_service: "gfr2-bes"
-    path_matchers:
-      - name: 'path-matcher-one'
-        description: 'path matcher one'
-        default_service: 'gfr-bes'
-        path_rules:
-          - service: 'gfr2-bes'
-            paths:
-              - '/data'
-              - '/aboutus'
-    host_rules:
-      - hosts:
-          - '*='
-        path_matcher: 'path-matcher-one'
-    state: "present"
-  tags:
-    - param-check
-  ignore_errors: True
-  register: result
-- name: "assert wildcard error second char (error msg ignored, changed==False)"
-  assert:
-    that:
-      - 'not result.changed'
-      - 'result.msg == "wildcard be followed by a ''.'' or ''-'', *="'
diff --git a/test/legacy/roles/test_jenkins_job/defaults/main.yml b/test/legacy/roles/test_jenkins_job/defaults/main.yml
deleted file mode 100644
index ab05bc3096..0000000000
--- a/test/legacy/roles/test_jenkins_job/defaults/main.yml
+++ /dev/null
@@ -1,5 +0,0 @@
----
-jenkins_url: http://localhost:8080
-jenkins_user: admin
-jenkins_password: ""
-jenkins_days_to_keep: 20
diff --git a/test/legacy/roles/test_jenkins_job/tasks/main.yml b/test/legacy/roles/test_jenkins_job/tasks/main.yml
deleted file mode 100644
index 7587ced645..0000000000
--- a/test/legacy/roles/test_jenkins_job/tasks/main.yml
+++ /dev/null
@@ -1,172 +0,0 @@
----
-- name: setup
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-     state: absent
-  register: result
-- name: verify setup
-  assert:
-    that:
-    - result is successful
-
-- name: test fail on missing params
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-  register: result
-  ignore_errors: true
-- name: verify test fail on missing params
-  assert:
-    that:
-    - result is failed
-    - 'result.msg == "one of the following params is required on state=present: config,enabled"'
-
-- name: test create a job
-  local_action:
-     module: jenkins_job
-     config: "{{ lookup('template', 'config.xml.j2') }}"
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-  register: result
-- name: verify test create a job
-  assert:
-    that:
-    - result is successful
-    - result is changed
-    - result.enabled
-
-- name: test create a job idempotence
-  local_action:
-     module: jenkins_job
-     config: "{{ lookup('template', 'config.xml.j2') }}"
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-  register: result
-- name: verify test create a job idempotence
-  assert:
-    that:
-    - result is successful
-    - result is not changed
-    - result.enabled
-
-- name: test create a enabled job idempotence
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-     enabled: true
-  register: result
-- name: verify test create a enabled job idempotence
-  assert:
-    that:
-    - result is successful
-    - result is not changed
-    - result.enabled
-
-- name: test update a job
-  local_action:
-     module: jenkins_job
-     config: "{{ lookup('template', 'config.xml.j2') }}"
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-  register: result
-  vars:
-    jenkins_days_to_keep: 10
-- name: verify test create a enabled job idempotence
-  assert:
-    that:
-    - result is successful
-    - result is changed
-    - result.enabled
-
-- name: test disable an existing job without config
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-     enabled: false
-  register: result
-- name: verify test disable an existing job without config
-  assert:
-    that:
-    - result is successful
-    - result is changed
-    - not result.enabled
-
-- name: test disable an existing job without config idempotence
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-     enabled: false
-  register: result
-- name: verify test disable an existing job without config idempotence
-  assert:
-    that:
-    - result is successful
-    - result is not changed
-    - not result.enabled
-
-- name: test reset to config job
-  local_action:
-     module: jenkins_job
-     config: "{{ lookup('template', 'config.xml.j2') }}"
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-  register: result
-- name: verify test reset to config job
-  assert:
-    that:
-    - result is successful
-    - result is changed
-
-- name: test remove job
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-     state: absent
-  register: result
-- name: verify test remove job
-  assert:
-    that:
-    - result is successful
-    - result is changed
-
-- name: test remove job idempotence
-  local_action:
-     module: jenkins_job
-     name: test.job
-     url: "{{ jenkins_url }}"
-     user: "{{ jenkins_user }}"
-     password: "{{ jenkins_password }}"
-     state: absent
-  register: result
-- name: verify test remove job idempotence
-  assert:
-    that:
-    - result is successful
-    - result is not changed
diff --git a/test/legacy/roles/test_jenkins_job/templates/config.xml.j2 b/test/legacy/roles/test_jenkins_job/templates/config.xml.j2
deleted file mode 100644
index c7249198b8..0000000000
--- a/test/legacy/roles/test_jenkins_job/templates/config.xml.j2
+++ /dev/null
@@ -1,29 +0,0 @@
-<?xml version='1.0' encoding='UTF-8'?>
-<project>
-  <actions/>
-  <description></description>
-  <keepDependencies>false</keepDependencies>
-  <properties>
-    <jenkins.model.BuildDiscarderProperty>
-      <strategy class="hudson.tasks.LogRotator">
-        <daysToKeep>{{ jenkins_days_to_keep }}</daysToKeep>
-        <numToKeep>20</numToKeep>
-        <artifactDaysToKeep>-1</artifactDaysToKeep>
-        <artifactNumToKeep>-1</artifactNumToKeep>
-      </strategy>
-    </jenkins.model.BuildDiscarderProperty>
-    <org.jenkinsci.plugins.gitbucket.GitBucketProjectProperty plugin="gitbucket@0.8">
-      <linkEnabled>false</linkEnabled>
-    </org.jenkinsci.plugins.gitbucket.GitBucketProjectProperty>
-  </properties>
-  <scm class="hudson.scm.NullSCM"/>
-  <canRoam>true</canRoam>
-  <disabled>false</disabled>
-  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
-  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
-  <triggers/>
-  <concurrentBuild>false</concurrentBuild>
-  <builders/>
-  <publishers/>
-  <buildWrappers/>
-</project>
diff --git a/test/legacy/roles/test_rax/meta/main.yml b/test/legacy/roles/test_rax/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax/tasks/main.yml b/test/legacy/roles/test_rax/tasks/main.yml
deleted file mode 100644
index cdd2e2ef58..0000000000
--- a/test/legacy/roles/test_rax/tasks/main.yml
+++ /dev/null
@@ -1,869 +0,0 @@
-# ============================================================
-- name: Test rax with no args
-  rax:
-  ignore_errors: true
-  register: rax
-
-- name: Validate results of rax with no args
-  assert:
-    that:
-      - rax is failed
-      - rax.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax with credentials
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-  ignore_errors: true
-  register: rax
-
-- name: Validate results of rax with only creds
-  assert:
-    that:
-      - rax is failed
-      - rax.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax with creds and region
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  ignore_errors: true
-  register: rax
-
-- name: Validate rax creds and region
-  assert:
-    that:
-      - rax is failed
-      - rax.msg == 'image is required for the "rax" module'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax with creds, region and image
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-  ignore_errors: true
-  register: rax
-
-- name: Validate rax with creds, region and image
-  assert:
-    that:
-      - rax is failed
-      - rax.msg == 'flavor is required for the "rax" module'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax with creds, region, image and flavor
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-  ignore_errors: true
-  register: rax
-
-- name: Validate rax with creds, region, image and flavor
-  assert:
-    that:
-      - rax is failed
-      - rax.msg == 'name is required for the "rax" module'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax with creds, region, image, flavor and name
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-1"
-  register: rax
-
-- name: Validate rax with creds, region, image, flavor and name
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-1"
-      - rax.instances[0] == rax.success[0]
-      - rax.instances[0].rax_status == 'BUILD'
-
-- name: "Delete integration 1"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-1"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 1"
-  assert:
-    that:
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success[0].name == "{{ resource_prefix }}-1"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax basic idempotency 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-2"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idepmpotency 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-2"
-      - rax.instances[0] == rax.success[0]
-      - rax.instances[0].rax_status == 'ACTIVE'
-
-- name: Test rax basic idempotency 2
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-2"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idempotency 2
-  assert:
-    that:
-      - rax is successful
-      - rax is not changed
-      - not rax.action
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-2"
-      - not rax.success
-
-- name: "Delete integration 2"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-2"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 2"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success[0].name == "{{ resource_prefix }}-2"
-      - rax.success[0].rax_status == "DELETED"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax basic idempotency with meta 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-3"
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idepmpotency with meta 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-3"
-      - rax.instances[0] == rax.success[0]
-      - rax.instances[0].rax_status == 'ACTIVE'
-      - rax.instances[0].rax_metadata.foo == 'bar'
-
-- name: Test rax basic idempotency with meta 2
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-3"
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idempotency with meta 2
-  assert:
-    that:
-      - rax is successful
-      - rax is not changed
-      - not rax.action
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-3"
-      - not rax.success
-
-- name: "Delete integration 3"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-3"
-    state: absent
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 3"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success[0].name == "{{ resource_prefix }}-3"
-      - rax.success[0].rax_status == "DELETED"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax basic idempotency multi server 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-4"
-    count: 2
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idepmpotency multi server 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-
-- name: Test rax basic idempotency multi server 2
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-4"
-    count: 2
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idempotency multi server 2
-  assert:
-    that:
-      - rax is successful
-      - rax is not changed
-      - not rax.action
-      - rax.instances|length == 2
-      - not rax.success
-
-- name: Test rax basic idempotency multi server 3
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-4"
-    count: 3
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax basic idempotency multi server 3
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 3
-      - rax.success|length == 1
-
-- name: "Delete integration 4"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-4"
-    count: 3
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 4"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 3
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group without exact_count 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-5-%02d"
-    count: 2
-    group: "{{ resource_prefix }}-5"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group without exact_count 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|length == 2
-
-- name: "Test delete integration 5"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-5-%02d"
-    count: 2
-    group: "{{ resource_prefix }}-5"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-    state: absent
-  register: rax
-
-- name: "Validate delete integration 5"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 2
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group without exact_count non-idempotency 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-6-%02d"
-    count: 2
-    group: "{{ resource_prefix }}-6"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group without exact_count non-idempotency 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|length == 2
-
-- name: Test rax multi server group without exact_count non-idempotency 2
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-6-%02d"
-    count: 2
-    group: "{{ resource_prefix }}-6"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group without exact_count non-idempotency 2
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 4
-      - rax.instances|map(attribute='rax_name')|unique|length == 4
-
-- name: "Test delete integration 6"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-6-%02d"
-    count: 4
-    group: "{{ resource_prefix }}-6"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-    state: absent
-  register: rax
-
-- name: "Validate delete integration 6"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 4
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group with exact_count 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-7-%02d"
-    count: 2
-    exact_count: true
-    group: "{{ resource_prefix }}-7"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group with exact_count 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|length == 2
-
-- name: Test rax multi server group with exact_count 2
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-7-%02d"
-    count: 2
-    exact_count: true
-    group: "{{ resource_prefix }}-7"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group with exact_count 2
-  assert:
-    that:
-      - rax is successful
-      - rax is not changed
-      - not rax.action
-      - rax.instances|length == 2
-      - rax.instances|map(attribute='rax_name')|unique|length == 2
-
-- name: Test rax multi server group with exact_count 3
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-7-%02d"
-    count: 4
-    exact_count: true
-    group: "{{ resource_prefix }}-7"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group with exact_count 3
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 4
-      - rax.success|length == 2
-      - rax.instances|map(attribute='rax_name')|unique|length == 4
-
-
-- name: "Test delete integration 7"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-7-%02d"
-    count: 0
-    exact_count: true
-    group: "{{ resource_prefix }}-7"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 7"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 4
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group without exact_count and disabled auto_increment 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-8"
-    count: 2
-    group: "{{ resource_prefix }}-8"
-    auto_increment: false
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group without exact_count and disabled auto_increment 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|length == 1
-
-- name: "Test delete integration 8"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-8"
-    count: 2
-    group: "{{ resource_prefix }}-8"
-    auto_increment: false
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-    state: absent
-  register: rax
-
-- name: "Validate delete integration 8"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 2
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group with exact_count and no printf 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-9"
-    count: 2
-    exact_count: true
-    group: "{{ resource_prefix }}-9"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group with exact_count and no printf 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|list|sort == ['{{ resource_prefix }}-91', '{{ resource_prefix }}-92']
-
-- name: "Test delete integration 9"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-9"
-    count: 0
-    exact_count: true
-    group: "{{ resource_prefix }}-9"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 9"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 2
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group with exact_count and offset 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-10-%03d"
-    count: 2
-    count_offset: 10
-    exact_count: true
-    group: "{{ resource_prefix }}-10"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group with exact_count and offset 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|list|sort == ['{{ resource_prefix }}-10-010', '{{ resource_prefix }}-10-011']
-
-- name: "Test delete integration 10"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-10-%03d"
-    count: 0
-    count_offset: 10
-    exact_count: true
-    group: "{{ resource_prefix }}-10"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 10"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 2
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax multi server group with exact_count and offset 1
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-11-%03d"
-    count: 2
-    count_offset: 10
-    exact_count: true
-    group: "{{ resource_prefix }}-11"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax multi server group with exact_count and offset 1
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 2
-      - rax.instances == rax.success
-      - rax.instances|map(attribute='rax_name')|unique|list|sort == ['{{ resource_prefix }}-11-010', '{{ resource_prefix }}-11-011']
-
-- name: "Test delete integration 11"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-11-%03d"
-    count: 0
-    count_offset: 10
-    exact_count: true
-    group: "{{ resource_prefix }}-11"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete integration 11"
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'delete'
-      - rax.success|length == 2
-      - not rax.instances
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax instance_ids absent 1 (create)
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-12"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate rax instance_ids absent 1 (create)
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-12"
-      - rax.instances[0] == rax.success[0]
-      - rax.instances[0].rax_status == 'ACTIVE'
-
-- name: Test rax instance_ids absent 2 (delete)
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    instance_ids:
-      - "{{ rax.success.0.rax_id }}"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax2
-
-- name: Validate rax instance_ids absent 2 (delete)
-  assert:
-    that:
-      - rax2 is successful
-      - rax2 is changed
-      - rax2.action == 'delete'
-      - rax2.success.0.rax_id == rax.success.0.rax_id
-# ============================================================
diff --git a/test/legacy/roles/test_rax_cbs/meta/main.yml b/test/legacy/roles/test_rax_cbs/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_cbs/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_cbs/tasks/main.yml b/test/legacy/roles/test_rax_cbs/tasks/main.yml
deleted file mode 100644
index 0cae84d928..0000000000
--- a/test/legacy/roles/test_rax_cbs/tasks/main.yml
+++ /dev/null
@@ -1,350 +0,0 @@
-# ============================================================
-- name: Test rax_cbs with no args
-  rax_cbs:
-  ignore_errors: true
-  register: rax_cbs
-
-- name: Validate results of rax_cbs with no args
-  assert:
-    that:
-      - rax_cbs is failed
-      - 'rax_cbs.msg == "missing required arguments: name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with name
-  rax_cbs:
-    name: fail
-  ignore_errors: true
-  register: rax_cbs
-
-- name: Validate results of rax_cbs with no args
-  assert:
-    that:
-      - rax_cbs is failed
-      - rax_cbs.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with name and credentials
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    name: fail
-  ignore_errors: true
-  register: rax_cbs
-
-- name: Validate results of rax_cbs with name and credentials
-  assert:
-    that:
-      - rax_cbs is failed
-      - rax_cbs.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and public_key string
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region and name
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-1"
-      - rax_cbs.volume.attachments == []
-      - rax_cbs.volume.size == 100
-      - rax_cbs.volume.volume_type == 'SATA'
-      - rax_cbs.volume.status == 'available'
-
-- name: Delete integration 1
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 1
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-1"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and invalid size
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: fail
-    size: 1
-  ignore_errors: true
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region, name and invalid size
-  assert:
-    that:
-      - rax_cbs is failed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and valid size
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    size: 150
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region and valid size
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-2"
-      - rax_cbs.volume.attachments == []
-      - rax_cbs.volume.size == 150
-      - rax_cbs.volume.volume_type == 'SATA'
-      - rax_cbs.volume.status == 'available'
-
-- name: Delete integration 2
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 2
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-2"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and invalid volume_type
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: fail
-    volume_type: fail
-  ignore_errors: true
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region, name and invalid volume_type
-  assert:
-    that:
-      - rax_cbs is failed
-      - 'rax_cbs.msg == "value of volume_type must be one of: SSD,SATA, got: fail"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and valid volume_size
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    volume_type: SSD
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region and valid volume_size
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-3"
-      - rax_cbs.volume.attachments == []
-      - rax_cbs.volume.size == 100
-      - rax_cbs.volume.volume_type == 'SSD'
-      - rax_cbs.volume.status == 'available'
-
-- name: Delete integration 3
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 3
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-3"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and description
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    description: "{{ resource_prefix }}-4 description"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region and description
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-4"
-      - rax_cbs.volume.description == '{{ resource_prefix }}-4 description'
-      - rax_cbs.volume.attachments == []
-      - rax_cbs.volume.size == 100
-      - rax_cbs.volume.volume_type == 'SATA'
-      - rax_cbs.volume.status == 'available'
-
-- name: Delete integration 4
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 4
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-4"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with creds, region, name and meta
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-5"
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs
-
-- name: Validate rax_cbs creds, region and meta
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-5"
-      - rax_cbs.volume.attachments == []
-      - rax_cbs.volume.size == 100
-      - rax_cbs.volume.volume_type == 'SATA'
-      - rax_cbs.volume.status == 'available'
-      - rax_cbs.volume.metadata.foo == 'bar'
-
-- name: Delete integration 5
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-5"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 5
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-5"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs with idempotency 1
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-6"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs_1
-
-- name: Validate rax_cbs with idempotency 1
-  assert:
-    that:
-      - rax_cbs_1 is successful
-      - rax_cbs_1 is changed
-      - rax_cbs_1.volume.display_name == "{{ resource_prefix }}-6"
-
-- name: Test rax_cbs with idempotency 2
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-6"
-  register: rax_cbs_2
-
-- name: Validate rax_cbs with idempotency 2
-  assert:
-    that:
-      - rax_cbs_2 is successful
-      - rax_cbs_2 is not changed
-      - rax_cbs_2.volume.display_name == "{{ resource_prefix }}-6"
-      - rax_cbs_2.volume.id == rax_cbs_1.volume.id
-
-- name: Delete integration 6
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-6"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 6
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.name == "{{ resource_prefix }}-6"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_cbs_attachments/meta/main.yml b/test/legacy/roles/test_rax_cbs_attachments/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_cbs_attachments/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_cbs_attachments/tasks/main.yml b/test/legacy/roles/test_rax_cbs_attachments/tasks/main.yml
deleted file mode 100644
index d2851a7464..0000000000
--- a/test/legacy/roles/test_rax_cbs_attachments/tasks/main.yml
+++ /dev/null
@@ -1,260 +0,0 @@
-# ============================================================
-- name: Test rax_cbs_attachments with no args
-  rax_cbs_attachments:
-  ignore_errors: true
-  register: rax_cbs_attachments
-
-- name: Validate results of rax_cbs_attachments with no args
-  assert:
-    that:
-      - rax_cbs_attachments is failed
-      - 'rax_cbs_attachments.msg == "missing required arguments: server,volume,device"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs_attachments with server, volume and device
-  rax_cbs_attachments:
-    server: '1234'
-    volume: '1234'
-    device: /dev/xvde
-  ignore_errors: true
-  register: rax_cbs_attachments
-
-- name: Validate results of rax_cbs_attachments with server, volume and device
-  assert:
-    that:
-      - rax_cbs_attachments is failed
-      - rax_cbs_attachments.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs_attachments with credentials, server, volume and device
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    server: '1234'
-    volume: '1234'
-    device: /dev/xvde
-  ignore_errors: true
-  register: rax_cbs_attachments
-
-- name: Validate results of rax_cbs_attachments with credentials, server, volume and device
-  assert:
-    that:
-      - rax_cbs_attachments is failed
-      - rax_cbs_attachments.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs_attachments with creds, region, invalid server, invalid volume and device
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    server: '1234'
-    volume: '1234'
-    device: /dev/xvde
-  ignore_errors: true
-  register: rax_cbs_attachments
-
-- name: Validate rax_cbs_attachments creds, region, invalid server, invalid volume and device
-  assert:
-    that:
-      - rax_cbs_attachments is failed
-      - rax_cbs_attachments.msg == 'No matching storage volumes were found'
-# ============================================================
-
-
-
-# ============================================================
-- name: Build Volume for rax_cbs_attachments test
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-rax_cbs_attachments"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs
-
-- name: Validate volume build
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-      - rax_cbs.volume.display_name == "{{ resource_prefix }}-rax_cbs_attachments"
-# ============================================================
-
-
-
-# ============================================================
-- name: Build CloudServer for rax_cbs_attachments tests
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-rax_cbs_attachments"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate CloudServer build
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-rax_cbs_attachments"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs_attachments with creds, region, invalid server, volume and device
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    server: '1234'
-    volume: "{{ rax_cbs.volume.id }}"
-    device: /dev/xvde
-  ignore_errors: true
-  register: rax_cbs_attachments
-
-- name: Validate rax_cbs_attachments creds, region, invalid server, volume and device
-  assert:
-    that:
-      - rax_cbs_attachments is failed
-      - rax_cbs_attachments.msg == 'No Server was matched by name, try using the Server ID instead'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cbs_attachments with creds, region, server, volume and device (valid)
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    server: "{{ rax.instances[0].id }}"
-    volume: "{{ rax_cbs.volume.id }}"
-    device: /dev/xvde
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs_attachments
-
-- name: Validate rax_cbs_attachments creds, region, server, volume and device (valid)
-  assert:
-    that:
-      - rax_cbs_attachments is successful
-      - rax_cbs_attachments is changed
-      - rax_cbs_attachments.volume.attachments.0.device == '/dev/xvde'
-      - rax_cbs_attachments.volume.attachments.0.server_id == "{{ rax.instances[0].id }}"
-
-- name: Idempotent present test
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    server: "{{ rax.instances[0].id }}"
-    volume: "{{ rax_cbs.volume.id }}"
-    device: /dev/xvde
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cbs_attachments
-
-- name: Validate idempotent present test
-  assert:
-    that:
-      - rax_cbs_attachments is successful
-      - rax_cbs_attachments is not changed
-
-- name: Unattach volume
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    server: "{{ rax.instances[0].id }}"
-    volume: "{{ rax_cbs.volume.id }}"
-    device: /dev/xvde
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-    state: absent
-  register: rax_cbs_attachments
-
-- name: Validate unattach volume
-  assert:
-    that:
-      - rax_cbs_attachments is successful
-      - rax_cbs_attachments is changed
-      - rax_cbs_attachments.volume.attachments == []
-
-- name: Idempotent absent test
-  rax_cbs_attachments:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    server: "{{ rax.instances[0].id }}"
-    volume: "{{ rax_cbs.volume.id }}"
-    device: /dev/xvde
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-    state: absent
-  register: rax_cbs_attachments
-
-- name: Validate idempotent absent test
-  assert:
-    that:
-      - rax_cbs_attachments is successful
-      - rax_cbs_attachments is not changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Delete test volume
-  rax_cbs:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ rax_cbs.volume.id }}"
-    state: absent
-  register: rax_cbs
-
-- name: Validate delete integration 6
-  assert:
-    that:
-      - rax_cbs is successful
-      - rax_cbs is changed
-# ============================================================
-
-
-
-# ============================================================
-- name: "Delete CloudServer"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    instance_ids: "{{ rax.instances[0].id }}"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete"
-  assert:
-    that:
-      - rax is changed
-      - rax is successful
-      - rax.action == 'delete'
-# ============================================================
diff --git a/test/legacy/roles/test_rax_cdb/meta/main.yml b/test/legacy/roles/test_rax_cdb/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_cdb/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_cdb/tasks/main.yml b/test/legacy/roles/test_rax_cdb/tasks/main.yml
deleted file mode 100644
index 537bdad761..0000000000
--- a/test/legacy/roles/test_rax_cdb/tasks/main.yml
+++ /dev/null
@@ -1,279 +0,0 @@
-# ============================================================
-- name: Test rax_cdb with no args
-  rax_cdb:
-  ignore_errors: true
-  register: rax_cdb
-
-- name: Validate results of rax_cdb with no args
-  assert:
-    that:
-      - rax_cdb is failed
-      - 'rax_cdb.msg == "missing required arguments: name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb with name
-  rax_cdb:
-    name: fail
-  ignore_errors: true
-  register: rax_cdb
-
-- name: Validate results of rax_cdb with only creds
-  assert:
-    that:
-      - rax_cdb is failed
-      - rax_cdb.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb with name and credentials
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    name: fail
-  ignore_errors: true
-  register: rax_cdb
-
-- name: Validate results of rax_cdb with only creds
-  assert:
-    that:
-      - rax_cdb is failed
-      - rax_cdb.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb with creds and region
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  ignore_errors: true
-  register: rax_cdb
-
-- name: Validate rax_cdb creds and region
-  assert:
-    that:
-      - rax_cdb is failed
-      - 'rax_cdb.msg == "missing required arguments: name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb with creds, region and name
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb with creds, region and name
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == '{{ resource_prefix }}-1'
-      - rax_cdb.cdb.hostname
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: "Delete integration 1"
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: "Validate delete integration 1"
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-1"
-
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb idempotent test 1
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb idempotent test 1
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-2"
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: Test rax_cdb idempotent test 2
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb idempotent test 2
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is not changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-2"
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: "Delete integration 2"
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: "Validate delete integration 2"
-  assert:
-    that:
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-2"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb resize volume 1
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb resize volume 1
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-3"
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: Test rax_cdb resize volume 2
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    volume: 3
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb resize volume 2
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-3"
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: "Delete integration 3"
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: "Validate delete integration 3"
-  assert:
-    that:
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-3"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb resize flavor 1
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb resize flavor 1
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-4"
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: Test rax_cdb resize flavor 2
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    flavor: 2
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate rax_cdb resize flavor 2
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-4"
-      - rax_cdb.cdb.status == 'ACTIVE'
-
-- name: "Delete integration 4"
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: "Validate delete integration 4"
-  assert:
-    that:
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-4"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_cdb_database/meta/main.yml b/test/legacy/roles/test_rax_cdb_database/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_cdb_database/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_cdb_database/tasks/main.yml b/test/legacy/roles/test_rax_cdb_database/tasks/main.yml
deleted file mode 100644
index 5801507916..0000000000
--- a/test/legacy/roles/test_rax_cdb_database/tasks/main.yml
+++ /dev/null
@@ -1,217 +0,0 @@
-# ============================================================
-- name: Test rax_cdb_database with no args
-  rax_cdb_database:
-  ignore_errors: true
-  register: rax_cdb_database
-
-- name: Validate results of rax_cdb_database with no args
-  assert:
-    that:
-      - rax_cdb_database is failed
-      - 'rax_cdb_database.msg == "missing required arguments: name,cdb_id"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb_database with name
-  rax_cdb_database:
-    name: fail
-  ignore_errors: true
-  register: rax_cdb_database
-
-- name: Validate results of rax_cdb_database with name
-  assert:
-    that:
-      - rax_cdb_database is failed
-      - 'rax_cdb_database.msg == "missing required arguments: cdb_id"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb_database with name and cdb_id
-  rax_cdb_database:
-    name: fail
-    cdb_id: '1234'
-  ignore_errors: true
-  register: rax_cdb_database
-
-- name: Validate results of rax_cdb_database with name and cdb_id
-  assert:
-    that:
-      - rax_cdb_database is failed
-      - rax_cdb_database.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb_database with name, cdb_id and creds
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    name: fail
-    cdb_id: '1234'
-  ignore_errors: true
-  register: rax_cdb_database
-
-- name: Validate results of rax_cdb_database with name, cdb_id and creds
-  assert:
-    that:
-      - rax_cdb_database is failed
-      - rax_cdb_database.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb_database with name, invalid cdb_id, creds and region
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: fail
-    cdb_id: '1234'
-  ignore_errors: true
-  register: rax_cdb_database
-
-- name: Validate rax_cdb_database name, invalid cdb_id, creds and region
-  assert:
-    that:
-      - rax_cdb_database is failed
-# ============================================================
-
-
-
-# ============================================================
-- name: Build Cloud Database for testing
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-rax_cdb_database"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate build
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == '{{ resource_prefix }}-rax_cdb_database'
-      - rax_cdb.cdb.status == 'ACTIVE'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb_database with name, cdb_id, creds and region
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    cdb_id: "{{ rax_cdb.cdb.id }}"
-  register: rax_cdb_database
-
-- name: Validate rax_cdb_database name, cdb_id, creds and region
-  assert:
-    that:
-      - rax_cdb_database is successful
-      - rax_cdb_database is changed
-      - rax_cdb_database.database.name == "{{ resource_prefix }}-1"
-
-- name: Delete integration 1
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    cdb_id: "{{ rax_cdb.cdb.id }}"
-    state: absent
-  register: rax_cdb_database
-
-- name: Validate delete integration 1
-  assert:
-    that:
-      - rax_cdb_database is successful
-      - rax_cdb_database is changed
-      - rax_cdb_database.database.name == "{{ resource_prefix }}-1"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_cdb_database idempotency 1
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    cdb_id: "{{ rax_cdb.cdb.id }}"
-  register: rax_cdb_database
-
-- name: Validate rax_cdb_database idempotency 1
-  assert:
-    that:
-      - rax_cdb_database is successful
-      - rax_cdb_database is changed
-      - rax_cdb_database.database.name == "{{ resource_prefix }}-2"
-
-- name: Test rax_cdb_database idempotency 2
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    cdb_id: "{{ rax_cdb.cdb.id }}"
-  register: rax_cdb_database
-
-- name: Validate rax_cdb_database idempotency 2
-  assert:
-    that:
-      - rax_cdb_database is successful
-      - rax_cdb_database is not changed
-      - rax_cdb_database.database.name == "{{ resource_prefix }}-2"
-
-- name: Delete integration 2
-  rax_cdb_database:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    cdb_id: "{{ rax_cdb.cdb.id }}"
-    state: absent
-  register: rax_cdb_database
-
-- name: Validate delete integration 2
-  assert:
-    that:
-      - rax_cdb_database is successful
-      - rax_cdb_database is changed
-      - rax_cdb_database.database.name == "{{ resource_prefix }}-2"
-# ============================================================
-
-
-
-# ============================================================
-- name: Delete Cloud Database
-  rax_cdb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-rax_cdb_database"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_cdb
-
-- name: Validate Delete
-  assert:
-    that:
-      - rax_cdb is successful
-      - rax_cdb is changed
-      - rax_cdb.cdb.name == "{{ resource_prefix }}-rax_cdb_database"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_clb/meta/main.yml b/test/legacy/roles/test_rax_clb/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_clb/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_clb/tasks/main.yml b/test/legacy/roles/test_rax_clb/tasks/main.yml
deleted file mode 100644
index ea807dc90b..0000000000
--- a/test/legacy/roles/test_rax_clb/tasks/main.yml
+++ /dev/null
@@ -1,897 +0,0 @@
-# ============================================================
-- name: Test rax_clb with no args
-  rax_clb:
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate results of rax_clb with no args
-  assert:
-    that:
-      - rax_clb is failed
-      - 'rax_clb.msg == "missing required arguments: name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with name
-  rax_clb:
-    name: fail
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate results of rax_clb with only creds
-  assert:
-    that:
-      - rax_clb is failed
-      - rax_clb.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with name and credentials
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    name: fail
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate results of rax_clb with only creds
-  assert:
-    that:
-      - rax_clb is failed
-      - rax_clb.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds and region
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate rax_clb creds and region
-  assert:
-    that:
-      - rax_clb is failed
-      - 'rax_clb.msg == "missing required arguments: name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region and name
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region and name
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 80
-      - rax_clb.balancer.protocol == 'HTTP'
-      - rax_clb.balancer.timeout == 30
-      - rax_clb.balancer.virtual_ips.0.type == 'PUBLIC'
-      - rax_clb.balancer.metadata is not defined
-      - rax_clb.balancer.status == 'ACTIVE'
-      - rax_clb.balancer.algorithm == 'LEAST_CONNECTIONS'
-
-- name: "Delete integration 1"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 1"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-1"
-
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region, name and protocol
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    protocol: TCP
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region, name and protocol
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 80
-      - rax_clb.balancer.protocol == 'TCP'
-      - rax_clb.balancer.timeout == 30
-      - rax_clb.balancer.virtual_ips.0.type == 'PUBLIC'
-      - rax_clb.balancer.metadata is not defined
-      - rax_clb.balancer.status == 'ACTIVE'
-
-- name: "Delete integration 2"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 2"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-2"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region, name, protocol and port
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    protocol: TCP
-    port: 8080
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region, name, protocol and port
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 8080
-      - rax_clb.balancer.protocol == 'TCP'
-      - rax_clb.balancer.timeout == 30
-      - rax_clb.balancer.virtual_ips.0.type == 'PUBLIC'
-      - rax_clb.balancer.metadata is not defined
-      - rax_clb.balancer.status == 'ACTIVE'
-
-- name: "Delete integration 3"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 3"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-3"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region, name, protocol, port and type
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    protocol: TCP
-    port: 8080
-    type: SERVICENET
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region, name, protocol and type
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 8080
-      - rax_clb.balancer.protocol == 'TCP'
-      - rax_clb.balancer.timeout == 30
-      - rax_clb.balancer.virtual_ips.0.type == 'SERVICENET'
-      - rax_clb.balancer.metadata is not defined
-      - rax_clb.balancer.status == 'ACTIVE'
-
-- name: "Delete integration 4"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 4"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-4"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with invalid timeout
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-fail"
-    protocol: TCP
-    port: 8080
-    type: SERVICENET
-    timeout: 1
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate rax_clb with invalid timeout
-  assert:
-    that:
-      - rax_clb is failed
-      - rax_clb.msg == '"timeout" must be greater than or equal to 30'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region, name, protocol, port, type and timeout
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-5"
-    protocol: TCP
-    port: 8080
-    type: SERVICENET
-    timeout: 60
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region, name, protocol, type and timeout
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 8080
-      - rax_clb.balancer.protocol == 'TCP'
-      - rax_clb.balancer.timeout == 60
-      - rax_clb.balancer.virtual_ips.0.type == 'SERVICENET'
-      - rax_clb.balancer.metadata is not defined
-      - rax_clb.balancer.status == 'ACTIVE'
-
-- name: "Delete integration 5"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-5"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 5"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-5"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region, name, protocol, port, type, timeout and algorithm
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-6"
-    protocol: TCP
-    port: 8080
-    type: SERVICENET
-    timeout: 60
-    algorithm: RANDOM
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region, name, protocol, type, timeout and algorithm
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 8080
-      - rax_clb.balancer.protocol == 'TCP'
-      - rax_clb.balancer.timeout == 60
-      - rax_clb.balancer.virtual_ips.0.type == 'SERVICENET'
-      - rax_clb.balancer.metadata is not defined
-      - rax_clb.balancer.status == 'ACTIVE'
-      - rax_clb.balancer.algorithm == 'RANDOM'
-
-- name: "Delete integration 6"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-6"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 6"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-6"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with invalid type
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-fail"
-    type: BAD
-    timeout: 1
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate rax_clb with invalid timeout
-  assert:
-    that:
-      - rax_clb is failed
-      - 'rax_clb.msg == "value of type must be one of: PUBLIC,SERVICENET, got: BAD"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with invalid protocol
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-fail"
-    protocol: BAD
-    timeout: 1
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate rax_clb with invalid timeout
-  assert:
-    that:
-      - rax_clb is failed
-      - 'rax_clb.msg == "value of protocol must be one of: DNS_TCP,DNS_UDP,FTP,HTTP,HTTPS,IMAPS,IMAPv4,LDAP,LDAPS,MYSQL,POP3,POP3S,SMTP,TCP,TCP_CLIENT_FIRST,UDP,UDP_STREAM,SFTP, got: BAD"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with invalid algorithm
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-fail"
-    algorithm: BAD
-    timeout: 1
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  ignore_errors: true
-  register: rax_clb
-
-- name: Validate rax_clb with invalid timeout
-  assert:
-    that:
-      - rax_clb is failed
-      - 'rax_clb.msg == "value of algorithm must be one of: RANDOM,LEAST_CONNECTIONS,ROUND_ROBIN,WEIGHTED_LEAST_CONNECTIONS,WEIGHTED_ROUND_ROBIN, got: BAD"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with creds, region, name, protocol, port, type, timeout, algorithm and metadata
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-7"
-    protocol: TCP
-    port: 8080
-    type: SERVICENET
-    timeout: 60
-    algorithm: RANDOM
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb with creds, region, name, protocol, type, timeout, algorithm and metadata
-  assert:
-    that:
-      - rax_clb is successful
-      - rax_clb.balancer.port == 8080
-      - rax_clb.balancer.protocol == 'TCP'
-      - rax_clb.balancer.timeout == 60
-      - rax_clb.balancer.virtual_ips.0.type == 'SERVICENET'
-      - rax_clb.balancer.status == 'ACTIVE'
-      - rax_clb.balancer.algorithm == 'RANDOM'
-      - rax_clb.balancer.metadata.0.key == 'foo'
-      - rax_clb.balancer.metadata.0.value == 'bar'
-
-- name: "Delete integration 7"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-7"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 7"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.name == "{{ resource_prefix }}-7"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with shared VIP HTTP
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-8-HTTP"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_http
-
-- name: Validate rax_clb with shared VIP HTTP
-  assert:
-    that:
-      - rax_clb_http is successful
-      - rax_clb_http.balancer.protocol == 'HTTP'
-      - rax_clb_http.balancer.virtual_ips.0.type == 'PUBLIC'
-      - rax_clb_http.balancer.status == 'ACTIVE'
-
-- name: Test rax_clb with shared VIP HTTPS
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-8-HTTPS"
-    protocol: HTTPS
-    port: 443
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-    vip_id: "{{ (rax_clb_http.balancer.virtual_ips|first).id }}"
-  register: rax_clb_https
-
-- name: Validate Test rax_clb with shared VIP
-  assert:
-    that:
-      - rax_clb_https is successful
-      - rax_clb_https.balancer.protocol == 'HTTPS'
-      - rax_clb_https.balancer.status == 'ACTIVE'
-      - rax_clb_http.balancer.virtual_ips == rax_clb_https.balancer.virtual_ips
-
-- name: "Delete integration 8 HTTP"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-8-HTTP"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_http
-
-- name: "Delete integration 8 HTTPS"
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-8-HTTPS"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_http
-
-- name: "Validate delete integration 8"
-  assert:
-    that:
-      - rax_clb_http is changed
-      - rax_clb_https is changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with updated protocol 1
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-9"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_p1
-
-- name: Validate rax_clb with updated protocol 1
-  assert:
-    that:
-      - rax_clb_p1 is successful
-      - rax_clb_p1.balancer.protocol == 'HTTP'
-      - rax_clb_p1.balancer.virtual_ips.0.type == 'PUBLIC'
-      - rax_clb_p1.balancer.status == 'ACTIVE'
-
-- name: Test rax_clb with updated protocol 2
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-9"
-    protocol: TCP
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_p2
-
-- name: Validate rax_clb with updated protocol 2
-  assert:
-    that:
-      - rax_clb_p1.balancer.id == rax_clb_p2.balancer.id
-      - rax_clb_p2 is successful
-      - rax_clb_p2 is changed
-      - rax_clb_p2.balancer.protocol == 'TCP'
-      - rax_clb_p2.balancer.status == 'ACTIVE'
-
-- name: Delete integration 9
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-9"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 9"
-  assert:
-    that:
-      - rax_clb is changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with updated algorithm 1
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-10"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_a1
-
-- name: Validate rax_clb with updated algorithm 1
-  assert:
-    that:
-      - rax_clb_a1 is successful
-      - rax_clb_a1.balancer.algorithm == 'LEAST_CONNECTIONS'
-      - rax_clb_a1.balancer.status == 'ACTIVE'
-
-- name: Test rax_clb with updated algorithm 2
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-10"
-    algorithm: RANDOM
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_a2
-
-- name: Validate rax_clb with updated algorithm 2
-  assert:
-    that:
-      - rax_clb_a1.balancer.id == rax_clb_a2.balancer.id
-      - rax_clb_a2 is successful
-      - rax_clb_a2 is changed
-      - rax_clb_a2.balancer.algorithm == 'RANDOM'
-      - rax_clb_a2.balancer.status == 'ACTIVE'
-
-- name: Delete integration 10
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-10"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 10"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb_a1.balancer.id == rax_clb.balancer.id
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with updated port 1
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-11"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_1
-
-- name: Validate rax_clb with updated port 1
-  assert:
-    that:
-      - rax_clb_1 is successful
-      - rax_clb_1.balancer.port == 80
-      - rax_clb_1.balancer.status == 'ACTIVE'
-
-- name: Test rax_clb with updated port 2
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-11"
-    port: 8080
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_2
-
-- name: Validate rax_clb with updated port 2
-  assert:
-    that:
-      - rax_clb_1.balancer.id == rax_clb_2.balancer.id
-      - rax_clb_2 is successful
-      - rax_clb_2 is changed
-      - rax_clb_2.balancer.port == 8080
-      - rax_clb_2.balancer.status == 'ACTIVE'
-
-- name: Delete integration 11
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-11"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 11"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb_1.balancer.id == rax_clb.balancer.id
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with updated timeout 1
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-12"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_1
-
-- name: Validate rax_clb with updated timeout 1
-  assert:
-    that:
-      - rax_clb_1 is successful
-      - rax_clb_1.balancer.timeout == 30
-      - rax_clb_1.balancer.status == 'ACTIVE'
-
-- name: Test rax_clb with updated timeout 2
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-12"
-    timeout: 60
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_2
-
-- name: Validate rax_clb with updated timeout 2
-  assert:
-    that:
-      - rax_clb_1.balancer.id == rax_clb_2.balancer.id
-      - rax_clb_2 is successful
-      - rax_clb_2 is changed
-      - rax_clb_2.balancer.timeout == 60
-      - rax_clb_2.balancer.status == 'ACTIVE'
-
-- name: Delete integration 12
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-12"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 12"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb_1.balancer.id == rax_clb.balancer.id
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with invalid updated type 1
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-13"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_1
-
-- name: Validate rax_clb with invalid updated type 1
-  assert:
-    that:
-      - rax_clb_1 is successful
-      - rax_clb_1.balancer.status == 'ACTIVE'
-
-- name: Test rax_clb with invalid updated type 2
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-13"
-    type: SERVICENET
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_2
-  ignore_errors: true
-
-- name: Validate rax_clb with updated timeout 2
-  assert:
-    that:
-      - rax_clb_2 is failed
-      - rax_clb_2.msg == 'Load balancer Virtual IP type cannot be changed'
-
-- name: Delete integration 13
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-13"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 13"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb_1.balancer.id == rax_clb.balancer.id
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb with updated meta 1
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-14"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_1
-
-- name: Validate rax_clb with updated meta 1
-  assert:
-    that:
-      - rax_clb_1 is successful
-      - rax_clb_1.balancer.status == 'ACTIVE'
-      - rax_clb_1.balancer.metadata is not defined
-
-- name: Test rax_clb with updated meta 2
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-14"
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_2
-
-- name: Validate rax_clb with updated meta 2
-  assert:
-    that:
-      - rax_clb_1.balancer.id == rax_clb_2.balancer.id
-      - rax_clb_2 is successful
-      - rax_clb_2 is changed
-      - rax_clb_2.balancer.metadata.0.key == 'foo'
-      - rax_clb_2.balancer.metadata.0.value == 'bar'
-      - rax_clb_2.balancer.status == 'ACTIVE'
-
-- name: Delete integration 14
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-14"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 14"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb_1.balancer.id == rax_clb.balancer.id
-# ============================================================
diff --git a/test/legacy/roles/test_rax_clb_nodes/meta/main.yml b/test/legacy/roles/test_rax_clb_nodes/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_clb_nodes/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_clb_nodes/tasks/main.yml b/test/legacy/roles/test_rax_clb_nodes/tasks/main.yml
deleted file mode 100644
index 9fe0820302..0000000000
--- a/test/legacy/roles/test_rax_clb_nodes/tasks/main.yml
+++ /dev/null
@@ -1,237 +0,0 @@
-# ============================================================
-- name: Test rax_clb_nodes with no args
-  rax_clb_nodes:
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate results of rax_clb_nodes with no args
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - 'rax_clb_nodes.msg == "missing required arguments: load_balancer_id"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with load_balancer_Id
-  rax_clb_nodes:
-    load_balancer_id: 1234
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate results of rax_clb_nodes with load_balancer_id
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with credentials and load_balancer_id
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    load_balancer_id: 1234
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate results of rax_clb_nodes with credentials and load_balancer_id
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with creds, region and load_balancer_id
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: 1234
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate rax_clb_nodes creds, region and load_balancer_id
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg == 'Load balancer not found'
-# ============================================================
-
-
-
-# ============================================================
-- name: Build a CLB to test rax_clb_nodes with
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-clb"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb creation
-  assert:
-    that:
-      - rax_clb is successful
-
-- name: Set variable for CLB ID
-  set_fact:
-    rax_clb_id: "{{ rax_clb.balancer.id }}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with creds, region and valid load_balancer_id
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: "{{ rax_clb_id }}"
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate rax_clb_nodes creds, region and valid load_balancer_id
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg == 'You must include an address and a port when creating a node.'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with creds, region, load_balancer_id and address
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: "{{ rax_clb_id }}"
-    address: '10.10.10.10'
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate rax_clb_nodes creds, region, load_balancer_id and address
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg == 'You must include an address and a port when creating a node.'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with creds, region, load_balancer_id, invalid address and port
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: "{{ rax_clb_id }}"
-    address: '10.10.10.10'
-    port: 80
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate rax_clb_nodes creds, region, load_balancer_id, invalid address and port
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg == "Invalid node address. The address '10.10.10.10' is currently not accepted for this request."
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with creds, region, load_balancer_id, address and port
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: "{{ rax_clb_id }}"
-    address: '172.16.0.1'
-    port: 80
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_nodes
-
-- name: Validate rax_clb_nodes creds, region, load_balancer_id, address and port
-  assert:
-    that:
-      - rax_clb_nodes is successful
-      - rax_clb_nodes.node.address == '172.16.0.1'
-      - rax_clb_nodes.node.condition == 'ENABLED'
-      - rax_clb_nodes.node.port == 80
-      - rax_clb_nodes.node.status == 'ONLINE'
-      - rax_clb_nodes.node.type == 'PRIMARY'
-      - rax_clb_nodes.node.weight == 1
-
-- name: Delete integration 1
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: "{{ rax_clb_id }}"
-    node_id: "{{ rax_clb_nodes.node.id }}"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb_nodes
-
-- name: Validate delete integration 1
-  assert:
-    that:
-      - rax_clb_nodes is successful
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_clb_nodes with creds, region, load_balancer_id, address, port and type
-  rax_clb_nodes:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    load_balancer_id: "{{ rax_clb_id }}"
-    address: '172.16.0.1'
-    port: 80
-    type: secondary
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  ignore_errors: true
-  register: rax_clb_nodes
-
-- name: Validate rax_clb_nodes creds, region, load_balancer_id, address, port and type
-  assert:
-    that:
-      - rax_clb_nodes is failed
-      - rax_clb_nodes.msg == 'you must enable health monitoring to use secondary nodes'
-# ============================================================
-
-
-
-# ============================================================
-- name: Delete CLB
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ rax_clb.balancer.name }}"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 3"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.id == rax_clb_id|int
-# ============================================================
diff --git a/test/legacy/roles/test_rax_facts/meta/main.yml b/test/legacy/roles/test_rax_facts/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_facts/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_facts/tasks/main.yml b/test/legacy/roles/test_rax_facts/tasks/main.yml
deleted file mode 100644
index 2f8f04873a..0000000000
--- a/test/legacy/roles/test_rax_facts/tasks/main.yml
+++ /dev/null
@@ -1,281 +0,0 @@
-# ============================================================
-- name: Test rax_facts with no args
-  rax_facts:
-  ignore_errors: true
-  register: rax_facts
-
-- name: Validate results of rax_facts with no args
-  assert:
-    that:
-      - rax_facts is failed
-      - 'rax_facts.msg == "one of the following is required: address,id,name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with credentials and address
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    address: '1.2.3.4'
-  ignore_errors: true
-  register: rax_facts
-
-- name: Validate results of rax_facts with only creds
-  assert:
-    that:
-      - rax_facts is failed
-      - rax_facts.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region and address
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: '1.2.3.4'
-  ignore_errors: true
-  register: rax_facts
-
-- name: Validate rax_facts creds, region and address
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts == {}
-      - rax_facts is not changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region and id
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: '1234'
-  ignore_errors: true
-  register: rax_facts
-
-- name: Validate rax_facts creds, region and id
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts == {}
-      - rax_facts is not changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region and name
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: 'bad'
-  ignore_errors: true
-  register: rax_facts
-
-- name: Validate rax_facts creds, region and name
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts == {}
-      - rax_facts is not changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region, address, id and name
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: '1.2.3.4'
-    id: '1234'
-    name: 'bad'
-  ignore_errors: true
-  register: rax_facts
-
-- name: Validate rax_facts creds, region, address, id and name
-  assert:
-    that:
-      - rax_facts is failed
-      - "rax_facts.msg == 'parameters are mutually exclusive: [\\'address\\', \\'id\\', \\'name\\']'"
-# ============================================================
-
-
-
-# ============================================================
-- name: Build CloudServer for rax_facts tests
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-rax_facts"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate build
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-rax_facts"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region, and valid public IPv4 address
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: "{{ rax.success.0.rax_accessipv4 }}"
-  register: rax_facts
-
-
-- name: Validate rax_facts creds, region, and valid public IPv4 address
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts.rax_flavor == rax.success.0.rax_flavor
-      - rax_facts.ansible_facts.rax_image == rax.success.0.rax_image
-      - rax_facts.ansible_facts.rax_addresses == rax.success.0.rax_addresses
-      - rax_facts.ansible_facts.rax_id == rax.success.0.rax_id
-      - rax_facts.ansible_facts.rax_name == rax.success.0.rax_name
-      - rax_facts.ansible_facts.rax_hostid == rax.success.0.rax_hostid
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region, and valid public IPv6 address
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: "{{ rax.success.0.rax_accessipv6 }}"
-  register: rax_facts
-
-
-- name: Validate rax_facts creds, region, and valid public IPv6 address
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts.rax_flavor == rax.success.0.rax_flavor
-      - rax_facts.ansible_facts.rax_image == rax.success.0.rax_image
-      - rax_facts.ansible_facts.rax_addresses == rax.success.0.rax_addresses
-      - rax_facts.ansible_facts.rax_id == rax.success.0.rax_id
-      - rax_facts.ansible_facts.rax_name == rax.success.0.rax_name
-      - rax_facts.ansible_facts.rax_hostid == rax.success.0.rax_hostid
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region, and valid private IPv4 address
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: "{{ rax.success.0.rax_networks.private|first }}"
-  register: rax_facts
-
-
-- name: Validate rax_facts creds, region, and valid private IPv4 address
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts.rax_flavor == rax.success.0.rax_flavor
-      - rax_facts.ansible_facts.rax_image == rax.success.0.rax_image
-      - rax_facts.ansible_facts.rax_addresses == rax.success.0.rax_addresses
-      - rax_facts.ansible_facts.rax_id == rax.success.0.rax_id
-      - rax_facts.ansible_facts.rax_name == rax.success.0.rax_name
-      - rax_facts.ansible_facts.rax_hostid == rax.success.0.rax_hostid
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region, and valid ID
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: "{{ rax.success.0.rax_id }}"
-  register: rax_facts
-
-
-- name: Validate rax_facts creds, region, and valid ID
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts.rax_flavor == rax.success.0.rax_flavor
-      - rax_facts.ansible_facts.rax_image == rax.success.0.rax_image
-      - rax_facts.ansible_facts.rax_addresses == rax.success.0.rax_addresses
-      - rax_facts.ansible_facts.rax_id == rax.success.0.rax_id
-      - rax_facts.ansible_facts.rax_name == rax.success.0.rax_name
-      - rax_facts.ansible_facts.rax_hostid == rax.success.0.rax_hostid
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_facts with creds, region, and valid name
-  rax_facts:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ rax.success.0.rax_name }}"
-  register: rax_facts
-
-
-- name: Validate rax_facts creds, region, and valid name
-  assert:
-    that:
-      - rax_facts is successful
-      - rax_facts.ansible_facts.rax_flavor == rax.success.0.rax_flavor
-      - rax_facts.ansible_facts.rax_image == rax.success.0.rax_image
-      - rax_facts.ansible_facts.rax_addresses == rax.success.0.rax_addresses
-      - rax_facts.ansible_facts.rax_id == rax.success.0.rax_id
-      - rax_facts.ansible_facts.rax_name == rax.success.0.rax_name
-      - rax_facts.ansible_facts.rax_hostid == rax.success.0.rax_hostid
-# ============================================================
-
-
-
-# ============================================================
-- name: "Delete CloudServer"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-rax_facts"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete"
-  assert:
-    that:
-      - rax is changed
-      - rax is successful
-      - rax.action == 'delete'
-      - rax.success[0].name == "{{ resource_prefix }}-rax_facts"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_identity/meta/main.yml b/test/legacy/roles/test_rax_identity/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_identity/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_identity/tasks/main.yml b/test/legacy/roles/test_rax_identity/tasks/main.yml
deleted file mode 100644
index fcafe93c43..0000000000
--- a/test/legacy/roles/test_rax_identity/tasks/main.yml
+++ /dev/null
@@ -1,51 +0,0 @@
-# ============================================================
-- name: Test rax_identity with no args
-  rax_identity:
-  ignore_errors: true
-  register: rax_identity
-
-- name: Validate results of rax_identity with no args
-  assert:
-    that:
-      - rax_identity is failed
-      - rax_identity.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_identity with name and credentials
-  rax_identity:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-  ignore_errors: true
-  register: rax_identity
-
-- name: Validate results of rax_identity with name and credentials
-  assert:
-    that:
-      - rax_identity is failed
-      - rax_identity.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_identity with name and credentials and region
-  rax_identity:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_identity
-
-- name: Validate results of rax_identity with name and credentials
-  assert:
-    that:
-      - rax_identity is successful
-      - rax_identity is not changed
-      - rax_identity.identity.region == "{{ rackspace_region }}"
-      - rax_identity.identity.username == "{{ rackspace_username }}"
-      - rax_identity.identity.authenticated
-      - rax_identity.identity.services
-      - rax_identity.identity.auth_token
-# ============================================================
diff --git a/test/legacy/roles/test_rax_keypair/meta/main.yml b/test/legacy/roles/test_rax_keypair/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_keypair/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_keypair/tasks/main.yml b/test/legacy/roles/test_rax_keypair/tasks/main.yml
deleted file mode 100644
index e33d4bed57..0000000000
--- a/test/legacy/roles/test_rax_keypair/tasks/main.yml
+++ /dev/null
@@ -1,245 +0,0 @@
-# ============================================================
-- name: Test rax_keypair with no args
-  rax_keypair:
-  ignore_errors: true
-  register: rax_keypair
-
-- name: Validate results of rax_keypair with no args
-  assert:
-    that:
-      - rax_keypair is failed
-      - 'rax_keypair.msg == "missing required arguments: name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_keypair with name
-  rax_keypair:
-    name: fail
-  ignore_errors: true
-  register: rax_keypair
-
-- name: Validate results of rax_keypair with no args
-  assert:
-    that:
-      - rax_keypair is failed
-      - rax_keypair.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_keypair with name and credentials
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    name: fail
-  ignore_errors: true
-  register: rax_keypair
-
-- name: Validate results of rax_keypair with name and credentials
-  assert:
-    that:
-      - rax_keypair is failed
-      - rax_keypair.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Create public key file for tests
-  copy:
-    content: "{{ rackspace_keypair_pub }}"
-    dest: "{{ output_dir|expanduser }}/{{ resource_prefix }}.pub"
-
-- name: Set variable for public key path
-  set_fact:
-    rackspace_keypair_pub_path: "{{ output_dir|expanduser }}/{{ resource_prefix }}.pub"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_keypair with creds, region, name and public_key string
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    public_key: "{{ rackspace_keypair_pub }}"
-  register: rax_keypair
-
-- name: Validate rax_keypair creds, region, name and public_key string
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-1"
-      - rax_keypair.keypair.public_key == "{{ rackspace_keypair_pub }}"
-
-- name: Delete integration 1
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-1"
-    public_key: "{{ rackspace_keypair_pub }}"
-    state: absent
-  register: rax_keypair
-
-- name: Validate delete integration 1
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-1"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_keypair with creds, region, name and public_key path
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    public_key: "{{ rackspace_keypair_pub_path }}"
-  register: rax_keypair
-
-- name: Validate rax_keypair creds, region, name and public_key path
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-2"
-      - rax_keypair.keypair.public_key == "{{ rackspace_keypair_pub }}"
-
-- name: Delete integration 2
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-2"
-    public_key: "{{ rackspace_keypair_pub }}"
-    state: absent
-  register: rax_keypair
-
-- name: Validate delete integration 2
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-2"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_keypair with idempotency 1
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    public_key: "{{ rackspace_keypair_pub }}"
-  register: rax_keypair
-
-- name: Validate rax_keypair with idempotency 1
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-3"
-      - rax_keypair.keypair.public_key == "{{ rackspace_keypair_pub }}"
-
-- name: Test rax_keypair with idempotency 2
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    public_key: "{{ rackspace_keypair_pub }}"
-  register: rax_keypair
-
-- name: Validate rax_keypair with idempotency 1
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is not changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-3"
-      - rax_keypair.keypair.public_key == "{{ rackspace_keypair_pub }}"
-
-- name: Delete integration 3
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-3"
-    public_key: "{{ rackspace_keypair_pub }}"
-    state: absent
-  register: rax_keypair
-
-- name: Validate delete integration 3
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-3"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_keypair with creds, region and name
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-  register: rax_keypair
-
-- name: Validate rax_keypair creds, region and name
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-4"
-      - rax_keypair.keypair.private_key is defined
-      - rax_keypair.keypair.public_key is defined
-
-- name: Test rax_keypair with creds, region and name idempotency
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-  register: rax_keypair
-
-- name: Validate rax_keypair creds, region and name
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is not changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-4"
-      - rax_keypair.keypair.private_key is not defined
-      - rax_keypair.keypair.public_key is defined
-
-- name: Delete integration 4
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-4"
-    public_key: "{{ rackspace_keypair_pub }}"
-    state: absent
-  register: rax_keypair
-
-- name: Validate delete integration 4
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-4"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_meta/meta/main.yml b/test/legacy/roles/test_rax_meta/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_meta/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_meta/tasks/main.yml b/test/legacy/roles/test_rax_meta/tasks/main.yml
deleted file mode 100644
index 1e6970ee62..0000000000
--- a/test/legacy/roles/test_rax_meta/tasks/main.yml
+++ /dev/null
@@ -1,336 +0,0 @@
-# ============================================================
-- name: Test rax_meta with no args
-  rax_meta:
-  ignore_errors: true
-  register: rax_meta
-
-- name: Validate results of rax_meta with no args
-  assert:
-    that:
-      - rax_meta is failed
-      - 'rax_meta.msg == "one of the following is required: address,id,name"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with credentials and address
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    address: '1.2.3.4'
-  ignore_errors: true
-  register: rax_meta
-
-- name: Validate results of rax_meta with only creds
-  assert:
-    that:
-      - rax_meta is failed
-      - rax_meta.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-# ============================================================
-- name: Test rax_meta with creds, region and address
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: '1.2.3.4'
-  ignore_errors: true
-  register: rax_meta
-
-- name: Validate rax_meta creds, region and address
-  assert:
-    that:
-      - rax_meta is failed
-      - rax_meta.msg == 'Failed to find a server matching provided search parameters'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region and id
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: '1234'
-  ignore_errors: true
-  register: rax_meta
-
-- name: Validate rax_meta creds, region and id
-  assert:
-    that:
-      - rax_meta is failed
-      - rax_meta.msg == 'Failed to find a server matching provided search parameters'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region and name
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: 'bad'
-  ignore_errors: true
-  register: rax_meta
-
-- name: Validate rax_meta creds, region and name
-  assert:
-    that:
-      - rax_meta is failed
-      - rax_meta.msg == 'Failed to find a server matching provided search parameters'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, address, id and name
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: '1.2.3.4'
-    id: '1234'
-    name: 'bad'
-  ignore_errors: true
-  register: rax_meta
-
-- name: Validate rax_meta creds, region, address, id and name
-  assert:
-    that:
-      - rax_meta is failed
-      - "rax_meta.msg == 'parameters are mutually exclusive: [\\'address\\', \\'id\\', \\'name\\']'"
-# ============================================================
-
-
-# ============================================================
-- name: Build CloudServer for rax_meta tests
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    image: "{{ rackspace_image_id }}"
-    flavor: "{{ rackspace_flavor }}"
-    name: "{{ resource_prefix }}-rax_meta"
-    meta:
-      foo: bar
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: Validate build
-  assert:
-    that:
-      - rax is successful
-      - rax is changed
-      - rax.action == 'create'
-      - rax.instances|length == 1
-      - rax.instances[0].name == "{{ resource_prefix }}-rax_meta"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid public IPv4 address
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: "{{ rax.success.0.rax_accessipv4 }}"
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid public IPv4 address
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta.meta == {}
-# ============================================================
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid public IPv6 address
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: "{{ rax.success.0.rax_accessipv6 }}"
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid public IPv6 address
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta.meta == {}
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid private IPv4 address
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    address: "{{ rax.success.0.rax_networks.private|first }}"
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid private IPv4 address
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta.meta == {}
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid ID
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: "{{ rax.success.0.rax_id }}"
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid ID
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta.meta == {}
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid name
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ rax.success.0.rax_name }}"
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid name
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta.meta == {}
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid ID set foo=bar
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: "{{ rax.success.0.rax_id }}"
-    meta:
-      foo: bar
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid ID set foo=bar
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta is changed
-      - "rax_meta.meta == {'foo': 'bar'}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid ID set bar=baz
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: "{{ rax.success.0.rax_id }}"
-    meta:
-      bar: baz
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid ID set bar=baz
-  assert:
-    that:
-      - rax_meta is successful
-      - "rax_meta.meta == {'bar': 'baz'}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid ID set bar=baz (idempotent)
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: "{{ rax.success.0.rax_id }}"
-    meta:
-      bar: baz
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid ID set bar=baz
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta is not changed
-      - "rax_meta.meta == {'bar': 'baz'}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_meta with creds, region, and valid ID delete meta
-  rax_meta:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    id: "{{ rax.success.0.rax_id }}"
-  register: rax_meta
-
-
-- name: Validate rax_meta creds, region, and valid ID delete meta
-  assert:
-    that:
-      - rax_meta is successful
-      - rax_meta is changed
-      - rax_meta.meta == {}
-# ============================================================
-
-
-
-# ============================================================
-- name: "Delete CloudServer"
-  rax:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    instance_ids:
-      - "{{ rax.success.0.rax_id }}"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax
-
-- name: "Validate delete"
-  assert:
-    that:
-      - rax is changed
-      - rax is successful
-      - rax.action == 'delete'
-      - rax.success[0].name == "{{ resource_prefix }}-rax_meta"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_network/meta/main.yml b/test/legacy/roles/test_rax_network/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_network/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_network/tasks/main.yml b/test/legacy/roles/test_rax_network/tasks/main.yml
deleted file mode 100644
index b8284506f5..0000000000
--- a/test/legacy/roles/test_rax_network/tasks/main.yml
+++ /dev/null
@@ -1,158 +0,0 @@
-# ============================================================
-- name: Test rax_network with no args
-  rax_network:
-  ignore_errors: true
-  register: rax_network
-
-- name: Validate results of rax_network with no args
-  assert:
-    that:
-      - rax_network is failed
-      - 'rax_network.msg == "missing required arguments: label"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_network with label
-  rax_network:
-    label: fail
-  ignore_errors: true
-  register: rax_network
-
-- name: Validate results of rax_network with no args
-  assert:
-    that:
-      - rax_network is failed
-      - rax_network.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_network with creds
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    label: fail
-  ignore_errors: true
-  register: rax_network
-
-- name: Validate results of rax_network with creds
-  assert:
-    that:
-      - rax_network is failed
-      - rax_network.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_network with creds and region
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    label: fail
-  ignore_errors: true
-  register: rax_network
-
-- name: Validate results of rax_network with creds and region
-  assert:
-    that:
-      - rax_network is failed
-      - 'rax_network.msg == "missing required arguments: cidr"'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_network with creds, region and cidr
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cidr: "172.17.141.0/24"
-    label: "{{ resource_prefix }}-1"
-  register: rax_network
-
-- name: Validate results of rax_network with creds, region and cidr
-  assert:
-    that:
-      - rax_network is successful
-      - rax_network is changed
-      - rax_network.networks.0.cidr == "172.17.141.0/24"
-      - rax_network.networks.0.label == "{{ resource_prefix }}-1"
-
-- name: Delete Integration 1
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    label: "{{ resource_prefix }}-1"
-    state: absent
-  register: rax_network
-
-- name: Validate delete integration 1
-  assert:
-    that:
-      - rax_network is changed
-      - rax_network is successful
-      - rax_network.networks.0.label == "{{ resource_prefix }}-1"
-      - rax_network.networks.0.cidr == "172.17.141.0/24"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_network idempotency 1
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cidr: "172.17.142.0/24"
-    label: "{{ resource_prefix }}-2"
-  register: rax_network
-
-- name: Validate rax_network idempotency 1
-  assert:
-    that:
-      - rax_network is successful
-      - rax_network is changed
-      - rax_network.networks.0.cidr == "172.17.142.0/24"
-      - rax_network.networks.0.label == "{{ resource_prefix }}-2"
-
-- name: Test rax_network idempotency 2
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cidr: "172.17.142.0/24"
-    label: "{{ resource_prefix }}-2"
-  register: rax_network
-
-- name: Validate rax_network idempotency 2
-  assert:
-    that:
-      - rax_network is successful
-      - rax_network is not changed
-      - rax_network.networks.0.cidr == "172.17.142.0/24"
-      - rax_network.networks.0.label == "{{ resource_prefix }}-2"
-
-- name: Delete Integration 2
-  rax_network:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    label: "{{ resource_prefix }}-2"
-    state: absent
-  register: rax_network
-
-- name: Validate delete integration 2
-  assert:
-    that:
-      - rax_network is changed
-      - rax_network is successful
-      - rax_network.networks.0.label == "{{ resource_prefix }}-2"
-      - rax_network.networks.0.cidr == "172.17.142.0/24"
-# ============================================================
diff --git a/test/legacy/roles/test_rax_scaling_group/files/test.txt b/test/legacy/roles/test_rax_scaling_group/files/test.txt
deleted file mode 100644
index 493021b1c9..0000000000
--- a/test/legacy/roles/test_rax_scaling_group/files/test.txt
+++ /dev/null
@@ -1 +0,0 @@
-this is a test file
diff --git a/test/legacy/roles/test_rax_scaling_group/meta/main.yml b/test/legacy/roles/test_rax_scaling_group/meta/main.yml
deleted file mode 100644
index a3f85b642e..0000000000
--- a/test/legacy/roles/test_rax_scaling_group/meta/main.yml
+++ /dev/null
@@ -1,3 +0,0 @@
-dependencies:
-  - prepare_tests
-  - prepare_rax_tests
diff --git a/test/legacy/roles/test_rax_scaling_group/tasks/main.yml b/test/legacy/roles/test_rax_scaling_group/tasks/main.yml
deleted file mode 100644
index ac3b5af451..0000000000
--- a/test/legacy/roles/test_rax_scaling_group/tasks/main.yml
+++ /dev/null
@@ -1,860 +0,0 @@
-# ============================================================
-- name: Test rax_scaling_group with no args
-  rax_scaling_group:
-  ignore_errors: true
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group with no args
-  assert:
-    that:
-      - rax_scaling_group is failed
-      - "rax_scaling_group.msg == 'missing required arguments: image,min_entities,flavor,max_entities,name,server_name'"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group with image,min_entities,flavor,max_entities,name,server_name
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-1"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-1"
-  ignore_errors: true
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group with image,min_entities,flavor,max_entities,name,server_name
-  assert:
-    that:
-      - rax_scaling_group is failed
-      - rax_scaling_group.msg == 'No credentials supplied!'
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group with creds and required args
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-1"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-  ignore_errors: true
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group with creds and required args
-  assert:
-    that:
-      - rax_scaling_group is failed
-      - rax_scaling_group.msg.startswith('None is not a valid region')
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group with creds, region and required args
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-1"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group with creds, region and required args
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-1"
-      - rax_scaling_group.autoscale_group.min_entities == 1
-      - rax_scaling_group.autoscale_group.max_entities == 1
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.flavorRef == "{{ rackspace_flavor }}"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.imageRef == "{{ rackspace_image_id }}"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.name == "{{ resource_prefix }}-1"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.personality == []
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.loadBalancers == []
-      - rax_scaling_group.autoscale_group.metadata == {}
-
-- name: Test rax_scaling_group idempotency 1
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-1"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate idempotency 1
-  assert:
-    that:
-      - rax_scaling_group is not changed
-
-- name: Remove servers 1
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-1"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate remove servers 1
-  assert:
-    that:
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.min_entities == 0
-      - rax_scaling_group.autoscale_group.max_entities == 0
-      - rax_scaling_group.autoscale_group.state.desiredCapacity == 0
-
-- name: Test delete integration 1
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-1"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    state: absent
-  register: rax_scaling_group
-
-- name: Validate delete integration 1
-  assert:
-    that:
-      - rax_scaling_group is changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group server_name change 1
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-2"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-2"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group server_name change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-2"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.name == "{{ resource_prefix }}-2"
-
-- name: Test rax_scaling_group server_name change 2
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-2"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-2a"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group server_name change 2
-  assert:
-    that:
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-2"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.name == "{{ resource_prefix }}-2a"
-
-- name: Remove servers 2
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-2"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-2a"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate remove servers 2
-  assert:
-    that:
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.min_entities == 0
-      - rax_scaling_group.autoscale_group.max_entities == 0
-      - rax_scaling_group.autoscale_group.state.desiredCapacity == 0
-
-- name: Test delete integration 2
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-2"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-2a"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    state: absent
-  register: rax_scaling_group
-
-- name: Validate delete integration 2
-  assert:
-    that:
-      - rax_scaling_group is changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group with invalid load balancers
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-3"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-3"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    loadbalancers:
-      - id: "1234567890-0987654321"
-        port: 80
-  register: rax_scaling_group
-  ignore_errors: true
-
-- name: Validate results of rax_scaling_group with load balancers
-  assert:
-    that:
-      - rax_scaling_group is failed
-      - rax_scaling_group.msg.startswith('Load balancer ID is not an integer')
-# ============================================================
-
-
-
-# ============================================================
-- name: Build a CLB to test rax_scaling_group with
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-clb"
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: Validate rax_clb creation
-  assert:
-    that:
-      - rax_clb is successful
-
-- name: Set variable for CLB ID
-  set_fact:
-    rax_clb_id: "{{ rax_clb.balancer.id }}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group with load balancers
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-3"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-3"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    loadbalancers:
-      - id: "{{ rax_clb_id }}"
-        port: 80
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group with load balancers
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-3"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.loadBalancers[0].loadBalancerId == rax_clb_id|int
-
-- name: Remove servers 3
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-3"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-3"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Test delete integration 3
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-3"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-3"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    state: absent
-  register: rax_scaling_group
-# ============================================================
-
-
-
-# ============================================================
-- name: Test rax_scaling_group files change 1
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-4"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    files:
-      /tmp/test.txt: "{{ role_path }}/files/test.txt"
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-4"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group files change 1
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-4"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.personality|length == 1
-
-- name: Test rax_scaling_group files change 2
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-4"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-4"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate results of rax_scaling_group files change 2
-  assert:
-    that:
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-4"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.personality is not defined
-
-- name: Remove servers 4
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-4"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-4"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Test delete integration 4
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-4"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 0
-    max_entities: 0
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-4"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    state: absent
-  register: rax_scaling_group
-# ============================================================
-
-
-
-# ============================================================
-- name: Build scaling group to test argument changes
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-5"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-  register: rax_scaling_group
-
-- name: Validate default create
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.name == "{{ resource_prefix }}-5"
-      - rax_scaling_group.autoscale_group.min_entities == 1
-      - rax_scaling_group.autoscale_group.max_entities == 1
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.flavorRef == "{{ rackspace_flavor }}"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.imageRef == "{{ rackspace_image_id }}"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.name == "{{ resource_prefix }}-5"
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.personality == []
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.loadBalancers == []
-      - rax_scaling_group.autoscale_group.metadata == {}
-# ============================================================
-
-
-
-# ============================================================
-- name: Change cooldown
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 1
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-5"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-  register: rax_scaling_group
-
-- name: Validate cooldown change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.cooldown == 500
-# ============================================================
-
-
-
-# ============================================================
-- name: Change max_entities
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 1
-    max_entities: 2
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-5"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-  register: rax_scaling_group
-
-- name: Validate max_entities change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.max_entities == 2
-# ============================================================
-
-
-
-# ============================================================
-- name: Change min_entities
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-5"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-  register: rax_scaling_group
-
-- name: Validate min_entities change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.min_entities == 2
-# ============================================================
-
-
-
-# ============================================================
-- name: Change server_name
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-  register: rax_scaling_group
-
-- name: Validate server_name change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.name == "{{ resource_prefix }}-5-1"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change image
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-  register: rax_scaling_group
-
-- name: Validate image change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.imageRef == "{{ rackspace_alt_image_id }}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change flavor
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-  register: rax_scaling_group
-
-- name: Validate flavor change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.flavorRef == "{{ rackspace_alt_flavor }}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change disk_config
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: auto
-  register: rax_scaling_group
-
-- name: Validate flavor change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is not changed
-      - "rax_scaling_group.autoscale_group.launchConfiguration.args.server['OS-DCF:diskConfig'] == 'AUTO'"
-
-- name: Change disk_config 2
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: manual
-  register: rax_scaling_group
-
-- name: Validate flavor change 2
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - "rax_scaling_group.autoscale_group.launchConfiguration.args.server['OS-DCF:diskConfig'] == 'MANUAL'"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change networks
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: manual
-    networks:
-      - public
-  register: rax_scaling_group
-
-- name: Validate networks change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.networks.0.uuid == "00000000-0000-0000-0000-000000000000"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change load balancers
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: manual
-    networks:
-      - public
-      - private
-    loadbalancers:
-      - id: "{{ rax_clb_id }}"
-        port: 80
-  register: rax_scaling_group
-
-- name: Validate networks change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.loadBalancers.0.loadBalancerId == rax_clb_id|int
-# ============================================================
-
-
-
-# ============================================================
-- name: Create keypair to test with
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-keypair"
-    public_key: "{{ rackspace_keypair_pub }}"
-  register: rax_keypair
-
-- name: Validate rax_keypair creation
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-      - rax_keypair.keypair.name == "{{ resource_prefix }}-keypair"
-      - rax_keypair.keypair.public_key == "{{ rackspace_keypair_pub }}"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change key_name
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: manual
-    networks:
-      - public
-      - private
-    loadbalancers:
-      - id: "{{ rax_clb_id }}"
-        port: 80
-    key_name: "{{ resource_prefix }}-keypair"
-  register: rax_scaling_group
-
-- name: Validate key_name change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.key_name == "{{ resource_prefix }}-keypair"
-# ============================================================
-
-
-
-# ============================================================
-- name: Change config_drive
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: manual
-    networks:
-      - public
-      - private
-    loadbalancers:
-      - id: "{{ rax_clb_id }}"
-        port: 80
-    key_name: "{{ resource_prefix }}-keypair"
-    config_drive: true
-  register: rax_scaling_group
-
-- name: Validate config_drive change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.config_drive
-# ============================================================
-
-
-
-# ============================================================
-- name: Change config_drive
-  rax_scaling_group:
-    name: "{{ resource_prefix }}-5"
-    image: "{{ rackspace_alt_image_id }}"
-    min_entities: 2
-    max_entities: 2
-    flavor: "{{ rackspace_alt_flavor }}"
-    server_name: "{{ resource_prefix }}-5-1"
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    cooldown: 500
-    disk_config: manual
-    networks:
-      - public
-      - private
-    loadbalancers:
-      - id: "{{ rax_clb_id }}"
-        port: 80
-    key_name: "{{ resource_prefix }}-keypair"
-    config_drive: true
-    user_data: "foo"
-  register: rax_scaling_group
-
-- name: Validate config_drive change
-  assert:
-    that:
-      - rax_scaling_group is successful
-      - rax_scaling_group is changed
-      - rax_scaling_group.autoscale_group.launchConfiguration.args.server.user_data == '{{ "foo"|b64encode }}'
-# ============================================================
-
-
-
-# ============================================================
-- name: Delete keypair
-  rax_keypair:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ resource_prefix }}-keypair"
-    public_key: "{{ rackspace_keypair_pub }}"
-    state: absent
-  register: rax_keypair
-
-- name: Validate rax_keypair creation
-  assert:
-    that:
-      - rax_keypair is successful
-      - rax_keypair is changed
-# ============================================================
-
-
-
-# ============================================================
-- name: Delete CLB
-  rax_clb:
-    username: "{{ rackspace_username }}"
-    api_key: "{{ rackspace_api_key }}"
-    region: "{{ rackspace_region }}"
-    name: "{{ rax_clb.balancer.name }}"
-    state: absent
-    wait: true
-    wait_timeout: "{{ rackspace_wait_timeout }}"
-  register: rax_clb
-
-- name: "Validate delete integration 3"
-  assert:
-    that:
-      - rax_clb is changed
-      - rax_clb.balancer.id == rax_clb_id|int
-# ============================================================
diff --git a/test/legacy/setup_gce.py b/test/legacy/setup_gce.py
deleted file mode 100644
index 2b22d4cad0..0000000000
--- a/test/legacy/setup_gce.py
+++ /dev/null
@@ -1,45 +0,0 @@
-'''
-Create GCE resources for use in integration tests.
-
-Takes a prefix as a command-line argument and creates two persistent disks named
-${prefix}-base and ${prefix}-extra and a snapshot of the base disk named
-${prefix}-snapshot. prefix will be forced to lowercase, to ensure the names are
-legal GCE resource names.
-'''
-
-import gce_credentials
-import optparse
-import sys
-
-
-def parse_args():
-    parser = optparse.OptionParser(
-        usage="%s [options] <prefix>" % (sys.argv[0],), description=__doc__
-    )
-    gce_credentials.add_credentials_options(parser)
-    parser.add_option(
-        "--prefix",
-        action="store",
-        dest="prefix",
-        help="String used to prefix GCE resource names (default: %default)"
-    )
-
-    (opts, args) = parser.parse_args()
-    gce_credentials.check_required(opts, parser)
-    if not args:
-        parser.error("Missing required argument: name prefix")
-    return (opts, args)
-
-
-if __name__ == '__main__':
-
-    (opts, args) = parse_args()
-    gce = gce_credentials.get_gce_driver(opts)
-    prefix = args[0].lower()
-    try:
-        base_volume = gce.create_volume(
-            size=10, name=prefix + '-base', location='us-central1-a')
-        gce.create_volume_snapshot(base_volume, name=prefix + '-snapshot')
-        gce.create_volume(size=10, name=prefix + '-extra', location='us-central1-a')
-    except KeyboardInterrupt as e:
-        print("\nExiting on user command.")
diff --git a/test/legacy/vars/test_var_encrypted.yml b/test/legacy/vars/test_var_encrypted.yml
deleted file mode 100644
index cfac107aed..0000000000
--- a/test/legacy/vars/test_var_encrypted.yml
+++ /dev/null
@@ -1,9 +0,0 @@
-$ANSIBLE_VAULT;1.1;AES256
-31626536666232643662346539623662393436386162643439643434656231343435653936343235
-6139346364396166336636383734333430373763336434310a303137623539653939336132626234
-64613232396532313731313935333433353330666466646663303233323331636234326464643166
-6538653264636166370a613161313064653566323037393962643032353230396536313865326362
-34396262303130326632623162623230346238633932393938393766313036643835613936356233
-33323730373331386337353339613165373064323134343930333031623036326164353534646631
-31313963666234623731316238656233396638643331306231373539643039383434373035306233
-30386230363730643561
diff --git a/test/lib/ansible_test/_internal/classification.py b/test/lib/ansible_test/_internal/classification.py
index 196409ab2c..621d93898f 100644
--- a/test/lib/ansible_test/_internal/classification.py
+++ b/test/lib/ansible_test/_internal/classification.py
@@ -728,9 +728,6 @@ class PathMapper:
         if path.startswith('test/ansible_test/'):
             return minimal  # these tests are not invoked from ansible-test
 
-        if path.startswith('test/legacy/'):
-            return minimal
-
         if path.startswith('test/lib/ansible_test/config/'):
             if name.startswith('cloud-config-'):
                 # noinspection PyTypeChecker
diff --git a/test/sanity/code-smell/package-data.py b/test/sanity/code-smell/package-data.py
index c67fff9696..4ef36211d7 100755
--- a/test/sanity/code-smell/package-data.py
+++ b/test/sanity/code-smell/package-data.py
@@ -29,12 +29,6 @@ def assemble_files_to_ship(complete_file_list):
         'hacking/shippable/*',
         'hacking/tests/*',
         'hacking/ticket_stubs/*',
-        'test/legacy/*',
-        'test/legacy/*/*',
-        'test/legacy/*/*/*',
-        'test/legacy/*/*/*/*',
-        'test/legacy/*/*/*/*/*',
-        'test/legacy/*/*/*/*/*/*',
         'test/sanity/code-smell/botmeta.*',
         'test/utils/*',
         'test/utils/*/*',
diff --git a/test/sanity/ignore.txt b/test/sanity/ignore.txt
index 67e273a1fe..5fecaf166f 100644
--- a/test/sanity/ignore.txt
+++ b/test/sanity/ignore.txt
@@ -8226,18 +8226,6 @@ test/integration/targets/win_script/files/test_script_with_splatting.ps1 pslint:
 test/integration/targets/win_stat/library/test_symlink_file.ps1 pslint:PSCustomUseLiteralPath
 test/integration/targets/win_template/files/foo.dos.txt line-endings
 test/integration/targets/win_user_right/library/test_get_right.ps1 pslint:PSCustomUseLiteralPath
-test/legacy/cleanup_gce.py future-import-boilerplate
-test/legacy/cleanup_gce.py metaclass-boilerplate
-test/legacy/cleanup_gce.py pylint:blacklisted-name
-test/legacy/cleanup_rax.py future-import-boilerplate
-test/legacy/cleanup_rax.py metaclass-boilerplate
-test/legacy/consul_running.py future-import-boilerplate
-test/legacy/consul_running.py metaclass-boilerplate
-test/legacy/gce_credentials.py future-import-boilerplate
-test/legacy/gce_credentials.py metaclass-boilerplate
-test/legacy/gce_credentials.py pylint:blacklisted-name
-test/legacy/setup_gce.py future-import-boilerplate
-test/legacy/setup_gce.py metaclass-boilerplate
 test/lib/ansible_test/_data/requirements/constraints.txt test-constraints
 test/lib/ansible_test/_data/requirements/integration.cloud.azure.txt test-constraints
 test/lib/ansible_test/_data/sanity/pylint/plugins/string_format.py use-compat-six
